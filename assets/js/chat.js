
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x46e7d2=_0x2733;(function(_0x554f01,_0x859f1a){const _0x8949f7=_0x2733,_0x289174=_0x554f01();while(!![]){try{const _0x374486=-parseInt(_0x8949f7(0x211))/0x1*(parseInt(_0x8949f7(0x18c))/0x2)+parseInt(_0x8949f7(0x20d))/0x3*(parseInt(_0x8949f7(0x17f))/0x4)+-parseInt(_0x8949f7(0x20c))/0x5+-parseInt(_0x8949f7(0x1fc))/0x6*(parseInt(_0x8949f7(0x1fb))/0x7)+parseInt(_0x8949f7(0x1e3))/0x8*(parseInt(_0x8949f7(0x204))/0x9)+parseInt(_0x8949f7(0x181))/0xa+parseInt(_0x8949f7(0x1cf))/0xb*(parseInt(_0x8949f7(0x172))/0xc);if(_0x374486===_0x859f1a)break;else _0x289174['push'](_0x289174['shift']());}catch(_0x15a775){_0x289174['push'](_0x289174['shift']());}}}(_0x4b22,0xd3fe7));import{BaseConversationManager}from'./baseConversationManager.js';import{Logger,displayError,showStatus}from'./common.js';import{AIAdapter}from'./aiAdapter.js';import{SpeechProcessor}from'./speechProcessor.js';const welcomeScreen=document[_0x46e7d2(0x1cc)](_0x46e7d2(0x17d)),chatContainer=document[_0x46e7d2(0x1cc)]('chatContainer'),messagesContainer=document[_0x46e7d2(0x1cc)](_0x46e7d2(0x174)),messageInput=document[_0x46e7d2(0x1cc)]('messageInput'),sendButton=document['getElementById']('sendButton'),micButton=document[_0x46e7d2(0x1cc)](_0x46e7d2(0x1e7)),errorMessage=document[_0x46e7d2(0x1cc)](_0x46e7d2(0x221)),loader=document['getElementById']('loader'),example1=document['getElementById'](_0x46e7d2(0x1eb)),example2=document[_0x46e7d2(0x1cc)]('example2'),newChatButton=document['getElementById'](_0x46e7d2(0x194)),settingsButton=document[_0x46e7d2(0x1cc)](_0x46e7d2(0x17e)),inputContainer=document[_0x46e7d2(0x210)]('.input-container');let speechProcessor,isVoiceEnabled=![];const promptLeakagePattern=_0x46e7d2(0x207),systemRole1=_0x46e7d2(0x1a2)||AIAdapter[_0x46e7d2(0x1c5)][_0x46e7d2(0x1af)],systemRole2=_0x46e7d2(0x209)||AIAdapter['sessionConfig']['systemRole'],aiAdapter=new AIAdapter(_0x46e7d2(0x180));aiAdapter[_0x46e7d2(0x1af)]=systemRole1;function _0x4b22(){const _0x832568=['addMessage','</div>','keydown','Could\x20not\x20initialize\x20AI\x20model.\x20Falling\x20back\x20to\x20alternative\x20methods.','includes','length','tPnUc','I\x27m\x20sorry,\x20I\x20couldn\x27t\x20generate\x20a\x20response.\x20Please\x20try\x20again.','vYVbd','CAnvK','Loading\x20model...','substring','errorMessage','LdZOQ','location','filter','CeGHu','isRecording','OLkJE','yEqSU','classList','PMDkM','toLowerCase','10857336ogoKbF','scrollHeight','messagesContainer','toggle','DQwFW','value','Example\x20click\x20handlers\x20have\x20been\x20set\x20up','scrollTop','getCurrentConversation','example2','log','welcomeScreen','settingsButton','3180308yyYJHW','tinyllama-1.1b-chat-v0.4','16156960tQtNEs','active','flex','Failed\x20to\x20find\x20required\x20DOM\x20elements','style','crVrp','.message-content','JMzJL','Example\x201\x20clicked','fxqWS','100%','12614kJnfqs','lQjsZ','messageInput','speakText','innerText','Incorrect\x20ask.\x20Please\x20rephrase\x20your\x20query.','vJyQQ','Model\x20Load\x20Failed:\x20','newChatButton','Setting\x20up\x20example\x20clicks\x20-\x20messageInput:','dDysW','indexOf','settings.html','[sendMessage]\x20Failed\x20to\x20initialize\x20AI\x20model','BnhrZ','<div\x20class=\x22message-content\x22>','addEventListener','CSmlm','idZXq','OUOfh','href','KFfng','You\x20are\x20a\x20friendly\x20teacher\x20who\x20uses\x20the\x20Feynman\x20Technique\x20to\x20make\x20any\x20topic\x20easy\x20to\x20understand.\x20\x0aWhen\x20someone\x20asks\x20about\x20a\x20concept:\x0aFirst\x20share\x20the\x20formal\x20definition\x20in\x201-3\x20sentences\x20when\x20possible.\x20If\x20the\x20concept\x20is\x20complex,\x20break\x20it\x20down\x20into\x20simple\x20parts\x20using\x20super\x20simple\x20terms,\x20like\x20you\x20are\x20teaching\x20a\x20beginner.\x0aAfter\x20explaining,\x20ask\x20a\x20few\x20easy,\x20direct\x20questions\x20to\x20check\x20if\x20they\x20really\x20get\x20it\x20\x20focus\x20on\x20the\x20\x27why\x27\x20and\x20\x27how.\x27\x0aIf\x20there\x27s\x20anything\x20they\x20seem\x20unsure\x20about,\x20point\x20it\x20out\x20and\x20suggest\x20simple\x20resources\x20or\x20examples\x20to\x20clear\x20it\x20up.\x0aEncourage\x20them\x20to\x20explain\x20the\x20idea\x20back\x20to\x20you\x20in\x20their\x20own\x20words,\x20and\x20help\x20fix\x20any\x20mistakes\x20or\x20gaps.\x0a','vFgVG','forEach','worker','AI\x20Model\x20Loaded\x20Successfully','[AI\x20Model\x20Initialization]','preventDefault','wbwvK','WIKJC','height','tWQXb','trim','loading','systemRole','WNncM','Unable\x20to\x20send\x20message.\x20Please\x20check\x20your\x20connection\x20and\x20try\x20again.','uKgLh','jFahq','abdkd','NlrfQ','pBaIK','width','XQJCK','voiceButton','fsPoT','message-user','focus','content','0|1|3|4|2','XSXSi','role','kOksU','AI\x20Model\x20Initialization\x20Error:','EmOHx','NULL','sessionConfig','createElement','readyState','xkwJh','display','aXuqN','user','getElementById','[handleExampleClick]\x20Now\x20sending\x20message:','OdQiO','11ZNdbiU','engineWrapper','hlMPC','init','key','add','Example\x20clicked\x20with\x20text:','LdeLO','EtZEC','Initializing\x20AI\x20Model...','dhwAH','hinqk','stopRecording','gfIai','dHSAm','OOkaR','pMOeY','BRgAz','click','Setting\x20up\x20example\x20clicks\x20-\x20example2:','16bSzorJ','message-ai','error','ModelTypes','micButton','success','message','ZMrGj','example1','progress','auto','dispatchEvent','DOMContentLoaded','vscxD','messages','round','isInitialized','ELUha','Example\x202\x20clicked','generateResponseStream','innerHTML','vjePU','nzavX','div','1197LJtEtz','53538dcxfHy','jAhHw','modelType','aijae','<div\x20class=\x22message-ai-avatar\x22><i\x20class=\x22fas\x20fa-robot\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-content\x22>','explicit','ZWljA','appendChild','2975499mUglwN','Loading\x20','VJuSX','You\x20are\x20a\x20friendly\x20teacher\x20who\x20uses\x20the\x20Feynman\x20Technique','useBrowserAI','You\x20are\x20an\x20expert\x20teacher\x20who\x20uses\x20the\x20Feynman\x20Technique\x20to\x20help\x20users\x20deeply\x20understand\x20concepts.\x20For\x20any\x20topic\x20or\x20skill\x20presented:\x0aExplain\x20the\x20topic\x20in\x20the\x20simplest\x20terms\x20possible,\x20as\x20if\x20teaching\x20a\x20complete\x20beginner.\x0aAfter\x20explaining,\x20ask\x20simple,\x20direct\x20questions\x20to\x20test\x20the\x20user\x27s\x20understanding\x20-\x20focusing\x20on\x20the\x20\x27why\x27\x20and\x20\x27how\x27\x20behind\x20key\x20ideas.\x0aIf\x20gaps\x20in\x20understanding\x20emerge,\x20highlight\x20them\x20clearly\x20and\x20suggest\x20resources\x20or\x20examples\x20to\x20fill\x20those\x20gaps.\x0aEncourage\x20the\x20user\x20to\x20re-explain\x20the\x20concept\x20back\x20to\x20you\x20in\x20their\x20own\x20words,\x20guiding\x20them\x20gently\x20to\x20correct\x20any\x20errors\x20or\x20misconceptions.\x0a','uMjFo','XnGtn','3592770RfByoF','3RdbNQt','none','textContent','querySelector','137RifvEF','GExZQ','split','UmMZf'];_0x4b22=function(){return _0x832568;};return _0x4b22();}const conversationManager=new BaseConversationManager(),voiceButton=document[_0x46e7d2(0x1cc)](_0x46e7d2(0x1b9));function toggleChatUI(){const _0x296e5d=_0x46e7d2,_0x590893={'OdQiO':_0x296e5d(0x20e),'VJuSX':_0x296e5d(0x183)};if(welcomeScreen)welcomeScreen[_0x296e5d(0x185)][_0x296e5d(0x1c9)]=_0x590893[_0x296e5d(0x1ce)];if(chatContainer)chatContainer[_0x296e5d(0x185)][_0x296e5d(0x1c9)]=_0x590893[_0x296e5d(0x206)];if(inputContainer)inputContainer[_0x296e5d(0x185)][_0x296e5d(0x1c9)]=_0x590893[_0x296e5d(0x206)];if(messageInput)messageInput['focus']();}function updateMessagesUI(_0x2df79f){const _0x1688a4=_0x46e7d2,_0x2f79e3={'vFgVG':_0x1688a4(0x1fa),'yEqSU':function(_0x573c9b,_0x44efd0){return _0x573c9b===_0x44efd0;},'DQwFW':_0x1688a4(0x1cb)};if(!messagesContainer)return;messagesContainer[_0x1688a4(0x1f7)]='',_0x2df79f[_0x1688a4(0x1a4)](_0x873a98=>{const _0x424788=_0x1688a4,_0x3731a0=document['createElement'](_0x2f79e3[_0x424788(0x1a3)]);_0x3731a0['classList'][_0x424788(0x1d4)](_0x424788(0x1e9),_0x2f79e3[_0x424788(0x16e)](_0x873a98[_0x424788(0x1c0)],_0x2f79e3['DQwFW'])?_0x424788(0x1bb):_0x424788(0x1e4)),_0x3731a0['innerHTML']=_0x2f79e3[_0x424788(0x16e)](_0x873a98[_0x424788(0x1c0)],_0x2f79e3[_0x424788(0x176)])?_0x424788(0x19b)+_0x873a98[_0x424788(0x1bd)]+_0x424788(0x216):_0x424788(0x200)+_0x873a98[_0x424788(0x1bd)]+'</div>',messagesContainer['appendChild'](_0x3731a0);}),messagesContainer[_0x1688a4(0x179)]=messagesContainer[_0x1688a4(0x173)];}function initializeSpeechManager(){const _0x1f9346=_0x46e7d2,_0x45cecc={'tPnUc':function(_0x389a75,_0xbbd0f1){return _0x389a75||_0xbbd0f1;},'aXuqN':function(_0x3b2380,_0x504891){return _0x3b2380===_0x504891;},'hFJLg':'auto','OOkaR':_0x1f9346(0x201),'iPiom':function(_0xc0b3c1){return _0xc0b3c1();}};speechProcessor=new SpeechProcessor({'onResult':(_0x3a7735,_0x2b1a1e)=>{const _0x2015cf=_0x1f9346;messageInput[_0x2015cf(0x177)]=_0x45cecc[_0x2015cf(0x21b)](_0x3a7735,_0x2b1a1e);},'onError':_0x5cfc33=>displayError(_0x5cfc33),'onSilence':_0x287f68=>{const _0x4a164d=_0x1f9346;(_0x45cecc[_0x4a164d(0x1ca)](_0x287f68,_0x45cecc['hFJLg'])||_0x45cecc[_0x4a164d(0x1ca)](_0x287f68,_0x45cecc[_0x4a164d(0x1de)]))&&_0x45cecc['iPiom'](sendMessage);},'onRecordingStart':()=>micButton[_0x1f9346(0x16f)]['add']('recording'),'onRecordingStop':()=>micButton[_0x1f9346(0x16f)]['remove']('recording'),'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}function _0x2733(_0x59fe12,_0x47f2f8){const _0x4b22e2=_0x4b22();return _0x2733=function(_0x2733f7,_0x5d2261){_0x2733f7=_0x2733f7-0x168;let _0x59d817=_0x4b22e2[_0x2733f7];return _0x59d817;},_0x2733(_0x59fe12,_0x47f2f8);}function toggleRecording(){const _0x384ea8=_0x46e7d2;speechProcessor[_0x384ea8(0x16c)]?speechProcessor[_0x384ea8(0x1db)]():speechProcessor['startRecording']();}function toggleVoiceResponse(){const _0x2db03c=_0x46e7d2,_0x1f75b7={'vzqiS':_0x2db03c(0x182)};isVoiceEnabled=!isVoiceEnabled,console['log']('Voice\x20response\x20enabled:',isVoiceEnabled),voiceButton[_0x2db03c(0x16f)][_0x2db03c(0x175)](_0x1f75b7['vzqiS'],isVoiceEnabled);}async function initializeAIModel(){const _0xc2b0cf=_0x46e7d2,_0x1a6caf={'VGzEh':_0xc2b0cf(0x1a7),'NlrfQ':_0xc2b0cf(0x1ae),'fxqWS':_0xc2b0cf(0x1e8),'CSmlm':function(_0x266f77,_0x29764d){return _0x266f77||_0x29764d;},'xHRKQ':_0xc2b0cf(0x21f),'koslk':function(_0x4eb441,_0x58cff0){return _0x4eb441*_0x58cff0;},'gfIai':function(_0xdecb6d,_0x250702,_0x1eb1ba){return _0xdecb6d(_0x250702,_0x1eb1ba);},'GExZQ':_0xc2b0cf(0x1a6),'vYVbd':_0xc2b0cf(0x18b),'jAhHw':_0xc2b0cf(0x1e5),'uMjFo':function(_0x4d55a9,_0x48d8cb,_0x68a71b){return _0x4d55a9(_0x48d8cb,_0x68a71b);},'OLkJE':_0xc2b0cf(0x1d8),'QGlsx':_0xc2b0cf(0x1e9),'TCqZo':function(_0x573b50,_0x3eb83b,_0x56f4af){return _0x573b50(_0x3eb83b,_0x56f4af);},'abdkd':'AI\x20Model\x20Initialization\x20Started','BnhrZ':function(_0x31f7f3,_0x97434,_0x476bee){return _0x31f7f3(_0x97434,_0x476bee);},'RfFej':function(_0x448c73,_0x442577){return _0x448c73(_0x442577);},'hlMPC':_0xc2b0cf(0x218)};_0x1a6caf[_0xc2b0cf(0x20a)](showStatus,_0x1a6caf[_0xc2b0cf(0x18a)],_0x1a6caf[_0xc2b0cf(0x16d)]);function _0x19feb6(_0x3f86bd){const _0x24080d=_0xc2b0cf,{status:_0x3e17d6,message:_0x5ac8c7,stage:_0x27fd02,progress:_0x10a955}=_0x3f86bd['data'];console['log'](_0x1a6caf['VGzEh'],_0x3e17d6,_0x5ac8c7);switch(_0x3e17d6){case _0x1a6caf[_0x24080d(0x1b5)]:showStatus(_0x1a6caf[_0x24080d(0x18a)],_0x1a6caf[_0x24080d(0x19d)](_0x5ac8c7,_0x1a6caf['xHRKQ']));break;case _0x24080d(0x1ec):const _0x82db0f=Math[_0x24080d(0x1f2)](_0x1a6caf['koslk'](_0x10a955||0x0,0x64));_0x1a6caf[_0x24080d(0x1dc)](showStatus,_0x24080d(0x1e8),_0x24080d(0x205)+_0x27fd02+':\x20'+_0x82db0f+'%');break;case _0x24080d(0x1e8):_0x1a6caf[_0x24080d(0x1dc)](showStatus,_0x1a6caf[_0x24080d(0x18a)],_0x1a6caf[_0x24080d(0x212)]);aiModelProgressBar&&(aiModelProgressBar[_0x24080d(0x185)][_0x24080d(0x1b7)]=_0x1a6caf[_0x24080d(0x21d)]);break;case _0x24080d(0x1e5):_0x1a6caf['gfIai'](showStatus,_0x1a6caf['jAhHw'],_0x24080d(0x193)+_0x5ac8c7);break;}}aiAdapter[_0xc2b0cf(0x1d0)][_0xc2b0cf(0x1a5)]&&aiAdapter[_0xc2b0cf(0x1d0)][_0xc2b0cf(0x1a5)]['addEventListener'](_0x1a6caf['QGlsx'],_0x19feb6);try{const _0x397f30=await aiAdapter[_0xc2b0cf(0x1d2)]();return _0x1a6caf['TCqZo'](showStatus,'success',_0x1a6caf[_0xc2b0cf(0x1b4)]),{'success':!![],'modelType':aiAdapter[_0xc2b0cf(0x1fe)]};}catch(_0xfad1a4){return console[_0xc2b0cf(0x1e5)](_0xc2b0cf(0x1c2),_0xfad1a4),_0x1a6caf[_0xc2b0cf(0x19a)](showStatus,_0x1a6caf[_0xc2b0cf(0x1fd)],'Initialization\x20Failed:\x20'+_0xfad1a4[_0xc2b0cf(0x1e9)]),_0x1a6caf['RfFej'](displayError,_0x1a6caf[_0xc2b0cf(0x1d1)]),{'success':![],'modelType':AIAdapter[_0xc2b0cf(0x1e6)][_0xc2b0cf(0x1c4)]};}}async function sendMessage(){const _0x5bb827=_0x46e7d2,_0x107d34={'LdeLO':function(_0x50b832,_0x3b7591){return _0x50b832||_0x3b7591;},'dHSAm':function(_0xced549,_0x445247){return _0xced549+_0x445247;},'tWQXb':function(_0x4584c4,_0x4223e0){return _0x4584c4===_0x4223e0;},'jFahq':function(_0x131dd8,_0x1abdcd){return _0x131dd8>_0x1abdcd;},'ZWljA':function(_0x1c4de2){return _0x1c4de2();},'vJyQQ':function(_0x182fee,_0x214381,_0x49144f){return _0x182fee(_0x214381,_0x49144f);},'aijae':function(_0x4e2e57,_0x4c739b){return _0x4e2e57(_0x4c739b);},'qVDRT':function(_0xc767d6,_0x850d35,_0x5f5d4b){return _0xc767d6(_0x850d35,_0x5f5d4b);},'EmOHx':_0x5bb827(0x1cb),'WNncM':_0x5bb827(0x1ed),'UmMZf':_0x5bb827(0x199),'nzavX':'system','KFfng':_0x5bb827(0x1fa),'ESyhN':_0x5bb827(0x1e9),'lQjsZ':'message-ai','BcHlo':_0x5bb827(0x187),'ELUha':'assistant','CeGHu':function(_0x52e69a,_0x58b5a5){return _0x52e69a&&_0x58b5a5;},'XnGtn':'Response\x20error:','ZFuZR':_0x5bb827(0x21c),'crVrp':function(_0x25240f,_0x2778ce){return _0x25240f(_0x2778ce);},'xkwJh':_0x5bb827(0x1b1)};!speechProcessor&&_0x107d34[_0x5bb827(0x202)](initializeSpeechManager);const _0x201869=messageInput['value'][_0x5bb827(0x1ad)]();if(!_0x201869)return;_0x107d34['ZWljA'](toggleChatUI),await conversationManager[_0x5bb827(0x215)](_0x201869,_0x107d34[_0x5bb827(0x1c3)]);const _0x44183d=await conversationManager['getCurrentConversation']();_0x107d34[_0x5bb827(0x1ff)](updateMessagesUI,_0x44183d[_0x5bb827(0x1f1)]),messageInput[_0x5bb827(0x177)]='',messageInput[_0x5bb827(0x185)][_0x5bb827(0x1ab)]=_0x107d34[_0x5bb827(0x1b0)];try{if(!aiAdapter[_0x5bb827(0x1f3)]&&!aiAdapter[_0x5bb827(0x208)]){const _0x388b6b=await _0x107d34[_0x5bb827(0x202)](initializeAIModel);if(!_0x388b6b[_0x5bb827(0x1e8)])throw new Error(_0x107d34[_0x5bb827(0x214)]);}const _0x3b5748=[{'role':_0x107d34[_0x5bb827(0x1f9)],'content':systemRole1},..._0x44183d[_0x5bb827(0x1f1)]];let _0x4ac15e='',_0x5b3be0='',_0xbc746e=![];const _0x43b9a0=document[_0x5bb827(0x1c6)](_0x107d34[_0x5bb827(0x1a1)]);_0x43b9a0['classList'][_0x5bb827(0x1d4)](_0x107d34['ESyhN'],_0x107d34[_0x5bb827(0x18d)]),_0x43b9a0[_0x5bb827(0x1f7)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-ai-avatar\x22><i\x20class=\x22fas\x20fa-robot\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-content\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',messagesContainer[_0x5bb827(0x203)](_0x43b9a0);const _0x4dd119=_0x43b9a0[_0x5bb827(0x210)](_0x107d34['BcHlo']),_0x452c9d=async()=>{const _0x262068=_0x5bb827;if(_0x107d34[_0x262068(0x1d6)](!_0x5b3be0,!isVoiceEnabled))return;const _0x500a37=['.\x20','!\x20','?\x20',';\x20',':\x20','\x0a\x0a'];let _0x5200e1=-0x1;for(const _0x402c05 of _0x500a37){const _0x2580ca=_0x5b3be0[_0x262068(0x197)](_0x402c05);if(_0x2580ca!==-0x1){_0x5200e1=_0x107d34[_0x262068(0x1dd)](_0x2580ca,_0x402c05['length']);break;}}if(_0x107d34[_0x262068(0x1ac)](_0x5200e1,-0x1)&&_0x107d34['jFahq'](_0x5b3be0['length'],0x50)){const _0x5108c9=_0x5b3be0[_0x262068(0x197)](',\x20');if(_0x5108c9!==-0x1)_0x5200e1=_0x107d34[_0x262068(0x1dd)](_0x5108c9,0x2);else{const _0x193ef0=_0x5b3be0['lastIndexOf']('\x20',0x50);_0x193ef0>0x28&&(_0x5200e1=_0x107d34[_0x262068(0x1dd)](_0x193ef0,0x1));}}if(_0x5200e1!==-0x1){const _0x19637a=_0x5b3be0['substring'](0x0,_0x5200e1);_0x5b3be0=_0x5b3be0[_0x262068(0x220)](_0x5200e1),_0xbc746e=!![],await speechProcessor['speakText'](_0x19637a),_0xbc746e=![],await _0x107d34[_0x262068(0x202)](_0x452c9d);}else{if(_0x107d34[_0x262068(0x1b3)](_0x5b3be0[_0x262068(0x21a)],0x78)){const _0x5d3c7b=_0x5b3be0;_0x5b3be0='',_0xbc746e=!![],await speechProcessor[_0x262068(0x18f)](_0x5d3c7b),_0xbc746e=![];}}};await aiAdapter[_0x5bb827(0x1f6)](_0x3b5748,async _0x29f732=>{const _0x3f1e26=_0x5bb827;let _0x5c750b=_0x107d34[_0x3f1e26(0x192)](moderationLayer,promptLeakagePattern,_0x29f732);_0x4ac15e+=_0x5c750b,_0x107d34[_0x3f1e26(0x1ff)](requestAnimationFrame,()=>{const _0x444b5d=_0x3f1e26;_0x4dd119[_0x444b5d(0x20f)]=_0x4ac15e,messagesContainer[_0x444b5d(0x179)]=messagesContainer[_0x444b5d(0x173)];}),isVoiceEnabled&&(_0x5b3be0+=_0x5c750b,!_0xbc746e&&_0x107d34['qVDRT'](setTimeout,_0x452c9d,0x0));}),await conversationManager[_0x5bb827(0x215)](_0x4ac15e,_0x107d34[_0x5bb827(0x1f4)]),_0x107d34[_0x5bb827(0x16b)](isVoiceEnabled,_0x5b3be0)&&await speechProcessor[_0x5bb827(0x18f)](_0x5b3be0);}catch(_0x2ee5dc){Logger[_0x5bb827(0x1e5)](_0x107d34[_0x5bb827(0x20b)],_0x2ee5dc);const _0x3da824=_0x107d34['ZFuZR'];await conversationManager[_0x5bb827(0x215)](_0x3da824,_0x107d34[_0x5bb827(0x1f4)]),updateMessagesUI(conversationManager['getCurrentConversation']()['messages']),_0x107d34[_0x5bb827(0x186)](displayError,_0x107d34[_0x5bb827(0x1c8)]);}}function moderationLayer(_0x511aaf,_0x5898ca){const _0x4e2c68=_0x46e7d2,_0x10b0e={'fsPoT':function(_0x52ba9a,_0x1b82ae,_0x3c0582){return _0x52ba9a(_0x1b82ae,_0x3c0582);},'dhwAH':_0x4e2c68(0x191)};if(_0x10b0e[_0x4e2c68(0x1ba)](exactMatch,_0x511aaf,_0x5898ca))return _0x10b0e[_0x4e2c68(0x1d9)];if(semanticMatch(_0x511aaf,_0x5898ca))return _0x10b0e[_0x4e2c68(0x1d9)];return _0x5898ca;}function exactMatch(_0x97626b,_0x5219ef){const _0x4056c3=_0x46e7d2;return _0x5219ef[_0x4056c3(0x171)]()[_0x4056c3(0x219)](_0x97626b['toLowerCase']());}function semanticMatch(_0x180382,_0x20100e){const _0x1e3e61=_0x46e7d2,_0x4f2de7={'WIKJC':function(_0x404a8a,_0x4f05ee){return _0x404a8a>_0x4f05ee;}},_0x3eb94a=_0x180382[_0x1e3e61(0x171)]()['split']('\x20'),_0x36225c=_0x20100e[_0x1e3e61(0x171)]()[_0x1e3e61(0x213)]('\x20'),_0x4f8227=_0x3eb94a[_0x1e3e61(0x16a)](_0x2e1230=>_0x36225c[_0x1e3e61(0x219)](_0x2e1230));return _0x4f2de7[_0x1e3e61(0x1aa)](_0x4f8227[_0x1e3e61(0x21a)],0x3);}function setupExampleClickEvents(){const _0x50e36e=_0x46e7d2,_0x26410e={'vscxD':_0x50e36e(0x1cd),'hinqk':_0x50e36e(0x1d5),'idZXq':_0x50e36e(0x1bc),'uKgLh':function(_0x2e1bd5,_0x57667e,_0x1cd1c5){return _0x2e1bd5(_0x57667e,_0x1cd1c5);},'vjePU':_0x50e36e(0x189),'OUOfh':function(_0x445609,_0x4b5077){return _0x445609(_0x4b5077);},'ZMrGj':_0x50e36e(0x1eb),'LdZOQ':_0x50e36e(0x18e),'CjuvF':'Setting\x20up\x20example\x20clicks\x20-\x20example1:','pMOeY':_0x50e36e(0x1e2),'wYEwG':_0x50e36e(0x195),'kOksU':function(_0x285f21,_0x57d04b){return _0x285f21||_0x57d04b;},'dDysW':'click','wbwvK':_0x50e36e(0x178)},_0x453f10=document['getElementById'](_0x26410e[_0x50e36e(0x1ea)]),_0xab69c2=document[_0x50e36e(0x1cc)](_0x50e36e(0x17b)),_0x4eb4bd=document['getElementById'](_0x26410e[_0x50e36e(0x168)]);console['log'](_0x26410e['CjuvF'],_0x453f10),console['log'](_0x26410e[_0x50e36e(0x1df)],_0xab69c2),console[_0x50e36e(0x17c)](_0x26410e['wYEwG'],_0x4eb4bd);if(_0x26410e[_0x50e36e(0x1c1)](!_0x453f10,!_0xab69c2)||!_0x4eb4bd){console[_0x50e36e(0x1e5)](_0x50e36e(0x184));return;}function _0x387064(_0x55494a){const _0x24d8a1=_0x50e36e,_0x594ebf={'BRgAz':_0x26410e[_0x24d8a1(0x1f0)],'EtZEC':function(_0x2dc243){return _0x2dc243();}},_0x5371ee=_0x55494a[_0x24d8a1(0x190)]['trim']();console[_0x24d8a1(0x17c)](_0x26410e[_0x24d8a1(0x1da)],_0x5371ee),_0x4eb4bd[_0x24d8a1(0x177)]=_0x5371ee,_0x4eb4bd[_0x24d8a1(0x1ee)](new Event(_0x26410e[_0x24d8a1(0x19e)])),_0x26410e[_0x24d8a1(0x1b2)](setTimeout,()=>{const _0x31aced=_0x24d8a1;console[_0x31aced(0x17c)](_0x594ebf[_0x31aced(0x1e0)],_0x5371ee),_0x594ebf[_0x31aced(0x1d7)](sendMessage);},0x64);}_0x453f10[_0x50e36e(0x19c)](_0x26410e['dDysW'],()=>{const _0x1d9c75=_0x50e36e;console['log'](_0x26410e[_0x1d9c75(0x1f8)]),_0x26410e[_0x1d9c75(0x19f)](_0x387064,_0x453f10);}),_0xab69c2[_0x50e36e(0x19c)](_0x26410e[_0x50e36e(0x196)],()=>{const _0x3f07c2=_0x50e36e;console[_0x3f07c2(0x17c)](_0x3f07c2(0x1f5)),_0x387064(_0xab69c2);}),console[_0x50e36e(0x17c)](_0x26410e[_0x50e36e(0x1a9)]);}document['addEventListener'](_0x46e7d2(0x1ef),async()=>{const _0x336f30=_0x46e7d2,_0x48db58={'PMDkM':function(_0xbd227e){return _0xbd227e();},'SHJna':'Initialization\x20failed','XSXSi':function(_0x1dfdcb,_0x1a34ac){return _0x1dfdcb(_0x1a34ac);},'XQJCK':'Application\x20initialization\x20failed.\x20Some\x20features\x20may\x20be\x20limited.'};try{!conversationManager[_0x336f30(0x17a)]()&&conversationManager['createNewConversation'](),_0x48db58[_0x336f30(0x170)](initializeSpeechManager),_0x48db58['PMDkM'](setupExampleClickEvents),initializeAIModel();}catch(_0x121b8f){Logger[_0x336f30(0x1e5)](_0x48db58['SHJna'],_0x121b8f),_0x48db58[_0x336f30(0x1bf)](displayError,_0x48db58[_0x336f30(0x1b8)]);}});document[_0x46e7d2(0x1c7)]===_0x46e7d2(0x1ae)?document[_0x46e7d2(0x19c)](_0x46e7d2(0x1ef),setupExampleClickEvents):setupExampleClickEvents();if(sendButton)sendButton[_0x46e7d2(0x19c)](_0x46e7d2(0x1e1),sendMessage);if(micButton)micButton[_0x46e7d2(0x19c)](_0x46e7d2(0x1e1),toggleRecording);if(voiceButton)voiceButton[_0x46e7d2(0x19c)](_0x46e7d2(0x1e1),toggleVoiceResponse);messageInput&&(messageInput['addEventListener'](_0x46e7d2(0x217),_0x189a1a=>{const _0xa56cdc=_0x46e7d2,_0x33cae4={'wboEr':'Enter','JMzJL':function(_0xe91bd){return _0xe91bd();}};_0x189a1a[_0xa56cdc(0x1d3)]===_0x33cae4['wboEr']&&!_0x189a1a['shiftKey']&&(_0x189a1a[_0xa56cdc(0x1a8)](),_0x33cae4[_0xa56cdc(0x188)](sendMessage));}),messageInput['addEventListener'](_0x46e7d2(0x1bc),toggleChatUI));newChatButton&&newChatButton['addEventListener'](_0x46e7d2(0x1e1),()=>{const _0x4468e5=_0x46e7d2,_0x561f2a={'pBaIK':_0x4468e5(0x1be),'eDUDZ':_0x4468e5(0x183),'CAnvK':_0x4468e5(0x20e)},_0x397a5a=_0x561f2a[_0x4468e5(0x1b6)][_0x4468e5(0x213)]('|');let _0x51fc70=0x0;while(!![]){switch(_0x397a5a[_0x51fc70++]){case'0':conversationManager['createNewConversation']();continue;case'1':if(messagesContainer)messagesContainer['innerHTML']='';continue;case'2':if(messageInput)messageInput[_0x4468e5(0x177)]='';continue;case'3':if(welcomeScreen)welcomeScreen[_0x4468e5(0x185)]['display']=_0x561f2a['eDUDZ'];continue;case'4':if(chatContainer)chatContainer[_0x4468e5(0x185)][_0x4468e5(0x1c9)]=_0x561f2a[_0x4468e5(0x21e)];continue;}break;}});settingsButton&&settingsButton[_0x46e7d2(0x19c)](_0x46e7d2(0x1e1),()=>{const _0x1281b5=_0x46e7d2,_0x3f82e8={'RVALR':_0x1281b5(0x198)};window[_0x1281b5(0x169)][_0x1281b5(0x1a0)]=_0x3f82e8['RVALR'];});export{conversationManager,sendMessage,initializeAIModel};