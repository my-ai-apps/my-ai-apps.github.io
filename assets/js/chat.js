
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x5e0aa2=_0x4eac;(function(_0x382601,_0x3e0326){const _0x2382b2=_0x4eac,_0x1bcd05=_0x382601();while(!![]){try{const _0x19e29c=-parseInt(_0x2382b2(0x1cb))/0x1*(parseInt(_0x2382b2(0x1e4))/0x2)+-parseInt(_0x2382b2(0x183))/0x3+parseInt(_0x2382b2(0x1c3))/0x4+parseInt(_0x2382b2(0x169))/0x5*(-parseInt(_0x2382b2(0x200))/0x6)+parseInt(_0x2382b2(0x1a7))/0x7*(-parseInt(_0x2382b2(0x1da))/0x8)+-parseInt(_0x2382b2(0x167))/0x9*(-parseInt(_0x2382b2(0x16d))/0xa)+-parseInt(_0x2382b2(0x18d))/0xb*(-parseInt(_0x2382b2(0x1ca))/0xc);if(_0x19e29c===_0x3e0326)break;else _0x1bcd05['push'](_0x1bcd05['shift']());}catch(_0x2cb9fa){_0x1bcd05['push'](_0x1bcd05['shift']());}}}(_0x1fca,0x73a7a));import{BaseConversationManager}from'./baseConversationManager.js';import{Logger,displayError,showStatus}from'./common.js';import{AIAdapter}from'./aiAdapter.js';import{SpeechProcessor}from'./speechProcessor.js';const welcomeScreen=document[_0x5e0aa2(0x17c)]('welcomeScreen'),chatContainer=document['getElementById'](_0x5e0aa2(0x1e8)),messagesContainer=document[_0x5e0aa2(0x17c)](_0x5e0aa2(0x1af)),messageInput=document[_0x5e0aa2(0x17c)](_0x5e0aa2(0x203)),sendButton=document['getElementById'](_0x5e0aa2(0x1a4)),micButton=document[_0x5e0aa2(0x17c)](_0x5e0aa2(0x211)),errorMessage=document['getElementById'](_0x5e0aa2(0x1bd)),loader=document[_0x5e0aa2(0x17c)]('loader'),example1=document['getElementById']('example1'),example2=document[_0x5e0aa2(0x17c)]('example2'),newChatButton=document[_0x5e0aa2(0x17c)](_0x5e0aa2(0x20b)),settingsButton=document[_0x5e0aa2(0x17c)](_0x5e0aa2(0x1db)),inputContainer=document[_0x5e0aa2(0x1ea)](_0x5e0aa2(0x1cf));let speechProcessor,isVoiceEnabled=![];const promptLeakagePattern='You\x20are\x20a\x20friendly\x20teacher\x20who\x20uses\x20the\x20Feynman\x20Technique',systemRole1=_0x5e0aa2(0x19a)||AIAdapter['sessionConfig'][_0x5e0aa2(0x208)],systemRole2='You\x20are\x20an\x20expert\x20teacher\x20who\x20uses\x20the\x20Feynman\x20Technique\x20to\x20help\x20users\x20deeply\x20understand\x20concepts.\x20For\x20any\x20topic\x20or\x20skill\x20presented:\x0aExplain\x20the\x20topic\x20in\x20the\x20simplest\x20terms\x20possible,\x20as\x20if\x20teaching\x20a\x20complete\x20beginner.\x0aAfter\x20explaining,\x20ask\x20simple,\x20direct\x20questions\x20to\x20test\x20the\x20user\x27s\x20understanding\x20-\x20focusing\x20on\x20the\x20\x27why\x27\x20and\x20\x27how\x27\x20behind\x20key\x20ideas.\x0aIf\x20gaps\x20in\x20understanding\x20emerge,\x20highlight\x20them\x20clearly\x20and\x20suggest\x20resources\x20or\x20examples\x20to\x20fill\x20those\x20gaps.\x0aEncourage\x20the\x20user\x20to\x20re-explain\x20the\x20concept\x20back\x20to\x20you\x20in\x20their\x20own\x20words,\x20guiding\x20them\x20gently\x20to\x20correct\x20any\x20errors\x20or\x20misconceptions.\x0a'||AIAdapter['sessionConfig'][_0x5e0aa2(0x208)],aiAdapter=new AIAdapter('tinyllama-1.1b-chat-v0.4');aiAdapter[_0x5e0aa2(0x208)]=systemRole1;const conversationManager=new BaseConversationManager(),voiceButton=document['getElementById']('voiceButton');function toggleChatUI(){const _0x98a938=_0x5e0aa2,_0x37b9a0={'juckV':_0x98a938(0x178),'EeVpk':_0x98a938(0x212)};if(welcomeScreen)welcomeScreen[_0x98a938(0x1cd)][_0x98a938(0x210)]=_0x37b9a0[_0x98a938(0x1d2)];if(chatContainer)chatContainer[_0x98a938(0x1cd)][_0x98a938(0x210)]=_0x37b9a0[_0x98a938(0x1d3)];if(inputContainer)inputContainer[_0x98a938(0x1cd)][_0x98a938(0x210)]=_0x98a938(0x212);if(messageInput)messageInput[_0x98a938(0x1ce)]();}function updateMessagesUI(_0x21d187){const _0x4e8ed2=_0x5e0aa2,_0x6547f1={'CjnVD':function(_0x2eeb13,_0x3fc788){return _0x2eeb13===_0x3fc788;},'moAwT':_0x4e8ed2(0x1fb),'kuMXU':_0x4e8ed2(0x186),'vsMQy':function(_0x57ca02,_0xebc9be){return _0x57ca02===_0xebc9be;}};if(!messagesContainer)return;messagesContainer[_0x4e8ed2(0x1df)]='',_0x21d187[_0x4e8ed2(0x197)](_0x9d418e=>{const _0x31e5b2=_0x4e8ed2,_0x500464=document[_0x31e5b2(0x1e1)](_0x31e5b2(0x1be));_0x500464[_0x31e5b2(0x17f)][_0x31e5b2(0x1b8)](_0x31e5b2(0x1fe),_0x6547f1[_0x31e5b2(0x1b1)](_0x9d418e[_0x31e5b2(0x177)],_0x6547f1[_0x31e5b2(0x18e)])?_0x6547f1['kuMXU']:'message-ai'),_0x500464['innerHTML']=_0x6547f1[_0x31e5b2(0x1c7)](_0x9d418e['role'],_0x31e5b2(0x1fb))?_0x31e5b2(0x1f2)+_0x9d418e[_0x31e5b2(0x213)]+_0x31e5b2(0x1a2):_0x31e5b2(0x19c)+_0x9d418e['content']+_0x31e5b2(0x1a2),messagesContainer['appendChild'](_0x500464);}),messagesContainer[_0x4e8ed2(0x18b)]=messagesContainer[_0x4e8ed2(0x1f0)];}function initializeSpeechManager(){const _0xac7c39=_0x5e0aa2,_0x1bd3a6={'nAbAC':_0xac7c39(0x204),'wAwES':function(_0x22f42b,_0x5bfbb7){return _0x22f42b===_0x5bfbb7;},'tDYcr':_0xac7c39(0x17b)};speechProcessor=new SpeechProcessor({'onResult':(_0x4a6c5f,_0x111b6a)=>{messageInput['value']=_0x4a6c5f||_0x111b6a;},'onError':_0x157213=>displayError(_0x157213),'onSilence':_0x316103=>{const _0xb543f8=_0xac7c39;(_0x316103===_0x1bd3a6[_0xb543f8(0x174)]||_0x1bd3a6['wAwES'](_0x316103,_0x1bd3a6[_0xb543f8(0x1d8)]))&&sendMessage();},'onRecordingStart':()=>micButton['classList'][_0xac7c39(0x1b8)](_0xac7c39(0x1b2)),'onRecordingStop':()=>micButton[_0xac7c39(0x17f)][_0xac7c39(0x171)](_0xac7c39(0x1b2)),'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}function toggleRecording(){const _0x316374=_0x5e0aa2;speechProcessor['isRecording']?speechProcessor[_0x316374(0x1b4)]():speechProcessor[_0x316374(0x1eb)]();}function toggleVoiceResponse(){const _0x30d1e5=_0x5e0aa2,_0x5f5752={'jzMxZ':_0x30d1e5(0x20c),'byJNe':_0x30d1e5(0x199)};isVoiceEnabled=!isVoiceEnabled,console[_0x30d1e5(0x1ee)](_0x5f5752[_0x30d1e5(0x1d9)],isVoiceEnabled),voiceButton['classList'][_0x30d1e5(0x16f)](_0x5f5752[_0x30d1e5(0x1a8)],isVoiceEnabled);}async function initializeAIModel(){const _0x10a316=_0x5e0aa2,_0x3e4e16={'sqpgi':_0x10a316(0x19b),'vBEYH':function(_0x4892a5,_0x117be7,_0x1d3933){return _0x4892a5(_0x117be7,_0x1d3933);},'qyfZX':_0x10a316(0x182),'cVxOA':'Loading\x20model...','DyeSs':_0x10a316(0x1ac),'AgrGy':function(_0x4bf812,_0x3cf0ae){return _0x4bf812*_0x3cf0ae;},'jyQZF':function(_0x1dc5d2,_0x1fa38a){return _0x1dc5d2||_0x1fa38a;},'MRbkS':'error','zZBEH':_0x10a316(0x193),'btGMq':_0x10a316(0x1fe),'lhOzT':function(_0x5cc10b,_0x25643e,_0x3538c9){return _0x5cc10b(_0x25643e,_0x3538c9);},'FDAqY':_0x10a316(0x16a),'aovjy':_0x10a316(0x185),'WfYrI':function(_0x4a3d79,_0x30d587,_0x167fe6){return _0x4a3d79(_0x30d587,_0x167fe6);},'grhEg':_0x10a316(0x1f3)};showStatus(_0x10a316(0x182),_0x3e4e16[_0x10a316(0x1c1)]);function _0xe7cc99(_0x2a6888){const _0x3603b3=_0x10a316,{status:_0x2c5c90,message:_0x221d2a,stage:_0x189c1d,progress:_0x3adb54}=_0x2a6888['data'];console['log'](_0x3603b3(0x214),_0x2c5c90,_0x221d2a);switch(_0x2c5c90){case _0x3e4e16[_0x3603b3(0x1ec)]:_0x3e4e16[_0x3603b3(0x1c8)](showStatus,_0x3e4e16['qyfZX'],_0x221d2a||_0x3e4e16['cVxOA']);break;case _0x3e4e16['DyeSs']:const _0x1483c6=Math[_0x3603b3(0x1ed)](_0x3e4e16['AgrGy'](_0x3e4e16['jyQZF'](_0x3adb54,0x0),0x64));showStatus(_0x3e4e16[_0x3603b3(0x209)],'Loading\x20'+_0x189c1d+':\x20'+_0x1483c6+'%');break;case _0x3e4e16[_0x3603b3(0x209)]:showStatus(_0x3e4e16[_0x3603b3(0x209)],_0x3603b3(0x1f9));aiModelProgressBar&&(aiModelProgressBar[_0x3603b3(0x1cd)][_0x3603b3(0x1f1)]=_0x3603b3(0x1ff));break;case _0x3e4e16[_0x3603b3(0x1ef)]:showStatus(_0x3e4e16['MRbkS'],'Model\x20Load\x20Failed:\x20'+_0x221d2a);break;}}aiAdapter[_0x10a316(0x175)][_0x10a316(0x188)]&&aiAdapter['engineWrapper']['worker'][_0x10a316(0x1e0)](_0x3e4e16[_0x10a316(0x179)],_0xe7cc99);try{const _0x1b5019=await aiAdapter['init']();return _0x3e4e16[_0x10a316(0x1c4)](showStatus,_0x3e4e16[_0x10a316(0x209)],_0x3e4e16[_0x10a316(0x191)]),{'success':!![],'modelType':aiAdapter[_0x10a316(0x1b3)]};}catch(_0x71b914){return console[_0x10a316(0x176)](_0x3e4e16[_0x10a316(0x1a5)],_0x71b914),_0x3e4e16[_0x10a316(0x16e)](showStatus,_0x3e4e16['MRbkS'],_0x10a316(0x1a9)+_0x71b914[_0x10a316(0x1fe)]),displayError(_0x3e4e16['grhEg']),{'success':![],'modelType':AIAdapter[_0x10a316(0x18c)][_0x10a316(0x184)]};}}async function sendMessage(){const _0x2a5339=_0x5e0aa2,_0x44ec20={'yZrCG':function(_0x17a9c0,_0x24c6b6){return _0x17a9c0||_0x24c6b6;},'snCWZ':function(_0x5e9986,_0x4a3b3a){return _0x5e9986===_0x4a3b3a;},'wpZJl':function(_0x21a8ce,_0x50d31e){return _0x21a8ce!==_0x50d31e;},'ihOxz':function(_0x192f42,_0x5084f7){return _0x192f42+_0x5084f7;},'Rbdpu':function(_0x3ee550,_0x15065e){return _0x3ee550>_0x15065e;},'SowNJ':function(_0x8a73fb,_0x1dae85){return _0x8a73fb+_0x1dae85;},'Jbohz':function(_0x4fbf4b,_0x279588,_0x5687c3){return _0x4fbf4b(_0x279588,_0x5687c3);},'CbpeY':function(_0x4634b9,_0x4595ba){return _0x4634b9(_0x4595ba);},'WxnRk':function(_0x2ca9a5){return _0x2ca9a5();},'Rqjdw':_0x2a5339(0x204),'xuXOp':function(_0x6f5f34){return _0x6f5f34();},'AOGxK':'[sendMessage]\x20Failed\x20to\x20initialize\x20AI\x20model','DeuRs':'system','BieOj':_0x2a5339(0x1be),'KWedJ':'message','ybJCG':_0x2a5339(0x1c6),'pEBLK':_0x2a5339(0x1f6),'wMBMF':'assistant','motCD':function(_0x4c7d79,_0x1d17a1){return _0x4c7d79&&_0x1d17a1;},'MycBe':_0x2a5339(0x189),'xBump':'Unable\x20to\x20send\x20message.\x20Please\x20check\x20your\x20connection\x20and\x20try\x20again.'};!speechProcessor&&_0x44ec20['WxnRk'](initializeSpeechManager);const _0x27b37c=messageInput['value'][_0x2a5339(0x1ae)]();if(!_0x27b37c)return;_0x44ec20[_0x2a5339(0x1c0)](toggleChatUI),await conversationManager[_0x2a5339(0x1d6)](_0x27b37c,_0x2a5339(0x1fb));const _0x1ffe28=await conversationManager[_0x2a5339(0x1dd)]();updateMessagesUI(_0x1ffe28[_0x2a5339(0x168)]),messageInput['value']='',messageInput[_0x2a5339(0x1cd)]['height']=_0x44ec20[_0x2a5339(0x1fd)];try{if(!aiAdapter[_0x2a5339(0x1a1)]&&!aiAdapter[_0x2a5339(0x1cc)]){const _0x3d537b=await _0x44ec20[_0x2a5339(0x1f8)](initializeAIModel);if(!_0x3d537b[_0x2a5339(0x182)])throw new Error(_0x44ec20['AOGxK']);}const _0x2d3fc7=[{'role':_0x44ec20[_0x2a5339(0x1a0)],'content':systemRole1},..._0x1ffe28[_0x2a5339(0x168)]];let _0x4ac052='',_0x5e5927='',_0x6d01ac=![];const _0x59ef22=document['createElement'](_0x44ec20['BieOj']);_0x59ef22[_0x2a5339(0x17f)][_0x2a5339(0x1b8)](_0x44ec20[_0x2a5339(0x20e)],_0x44ec20['ybJCG']),_0x59ef22[_0x2a5339(0x1df)]=_0x2a5339(0x202),messagesContainer[_0x2a5339(0x17a)](_0x59ef22);const _0x32769e=_0x59ef22[_0x2a5339(0x1ea)](_0x44ec20[_0x2a5339(0x196)]),_0x16a734=async()=>{const _0x2589a4=_0x2a5339;if(_0x44ec20[_0x2589a4(0x172)](!_0x5e5927,!isVoiceEnabled))return;const _0x1ad10e=['.\x20','!\x20','?\x20',';\x20',':\x20','\x0a\x0a'];let _0x40a4a5=-0x1;for(const _0x323866 of _0x1ad10e){const _0x28c6b8=_0x5e5927[_0x2589a4(0x190)](_0x323866);if(_0x28c6b8!==-0x1){_0x40a4a5=_0x28c6b8+_0x323866[_0x2589a4(0x1e5)];break;}}if(_0x44ec20[_0x2589a4(0x180)](_0x40a4a5,-0x1)&&_0x5e5927[_0x2589a4(0x1e5)]>0x50){const _0x41ad1e=_0x5e5927[_0x2589a4(0x190)](',\x20');if(_0x44ec20[_0x2589a4(0x1bc)](_0x41ad1e,-0x1))_0x40a4a5=_0x44ec20[_0x2589a4(0x198)](_0x41ad1e,0x2);else{const _0x556939=_0x5e5927['lastIndexOf']('\x20',0x50);_0x44ec20[_0x2589a4(0x187)](_0x556939,0x28)&&(_0x40a4a5=_0x44ec20['SowNJ'](_0x556939,0x1));}}if(_0x44ec20[_0x2589a4(0x1bc)](_0x40a4a5,-0x1)){const _0x5dd576=_0x5e5927['substring'](0x0,_0x40a4a5);_0x5e5927=_0x5e5927[_0x2589a4(0x1f7)](_0x40a4a5),_0x6d01ac=!![],await speechProcessor[_0x2589a4(0x1bb)](_0x5dd576),_0x6d01ac=![],await _0x16a734();}else{if(_0x44ec20[_0x2589a4(0x187)](_0x5e5927[_0x2589a4(0x1e5)],0x78)){const _0x2fadb6=_0x5e5927;_0x5e5927='',_0x6d01ac=!![],await speechProcessor[_0x2589a4(0x1bb)](_0x2fadb6),_0x6d01ac=![];}}};await aiAdapter[_0x2a5339(0x1aa)](_0x2d3fc7,async _0x41d614=>{const _0x48dc0c=_0x2a5339;let _0x5754e0=_0x44ec20[_0x48dc0c(0x181)](moderationLayer,promptLeakagePattern,_0x41d614);_0x4ac052+=_0x5754e0,_0x44ec20[_0x48dc0c(0x1f4)](requestAnimationFrame,()=>{const _0x206f72=_0x48dc0c;_0x32769e[_0x206f72(0x1d4)]=_0x4ac052,messagesContainer['scrollTop']=messagesContainer[_0x206f72(0x1f0)];}),isVoiceEnabled&&(_0x5e5927+=_0x5754e0,!_0x6d01ac&&setTimeout(_0x16a734,0x0));}),await conversationManager[_0x2a5339(0x1d6)](_0x4ac052,_0x44ec20[_0x2a5339(0x206)]),_0x44ec20['motCD'](isVoiceEnabled,_0x5e5927)&&await speechProcessor[_0x2a5339(0x1bb)](_0x5e5927);}catch(_0x1c39ca){Logger[_0x2a5339(0x176)](_0x44ec20[_0x2a5339(0x18f)],_0x1c39ca);const _0x339baf=_0x2a5339(0x1c2);await conversationManager[_0x2a5339(0x1d6)](_0x339baf,_0x44ec20['wMBMF']),_0x44ec20['CbpeY'](updateMessagesUI,conversationManager[_0x2a5339(0x1dd)]()[_0x2a5339(0x168)]),_0x44ec20[_0x2a5339(0x1f4)](displayError,_0x44ec20['xBump']);}}function moderationLayer(_0x148b8c,_0x2b9c3b){const _0x183a93=_0x5e0aa2,_0x35dedc={'Ntplc':_0x183a93(0x170),'mZklr':function(_0x91b0c7,_0x5ab8a5,_0x4980c2){return _0x91b0c7(_0x5ab8a5,_0x4980c2);}};if(exactMatch(_0x148b8c,_0x2b9c3b))return _0x35dedc['Ntplc'];if(_0x35dedc['mZklr'](semanticMatch,_0x148b8c,_0x2b9c3b))return _0x35dedc[_0x183a93(0x1d0)];return _0x2b9c3b;}function exactMatch(_0xb6cdaa,_0x13ce89){const _0x580408=_0x5e0aa2;return _0x13ce89[_0x580408(0x1d7)]()[_0x580408(0x194)](_0xb6cdaa[_0x580408(0x1d7)]());}function semanticMatch(_0x37b4e7,_0x11ee89){const _0x1e8876=_0x5e0aa2,_0x4c693d={'gPfQs':function(_0x1f086b,_0x387bb8){return _0x1f086b>_0x387bb8;}},_0xc59ea6=_0x37b4e7[_0x1e8876(0x1d7)]()[_0x1e8876(0x20a)]('\x20'),_0x329d95=_0x11ee89[_0x1e8876(0x1d7)]()[_0x1e8876(0x20a)]('\x20'),_0x1bbbda=_0xc59ea6[_0x1e8876(0x215)](_0x30face=>_0x329d95[_0x1e8876(0x194)](_0x30face));return _0x4c693d['gPfQs'](_0x1bbbda[_0x1e8876(0x1e5)],0x3);}function setupExampleClickEvents(){const _0x16de82=_0x5e0aa2,_0x1d9b1d={'AoKsW':_0x16de82(0x19d),'qCtai':function(_0x5edd47){return _0x5edd47();},'PaBtE':'Example\x20clicked\x20with\x20text:','uCFpj':_0x16de82(0x1ce),'Pcitx':function(_0x2857b3,_0x3e27cc,_0x23bc69){return _0x2857b3(_0x3e27cc,_0x23bc69);},'yvbRP':'Example\x201\x20clicked','xUWQz':function(_0x4cbe42,_0x386d36){return _0x4cbe42(_0x386d36);},'RcHGE':_0x16de82(0x1ad),'NVKfv':function(_0x1c0cfd,_0x2d33cd){return _0x1c0cfd(_0x2d33cd);},'bxeJZ':_0x16de82(0x1e3),'mDJwr':'example2','ZwEpx':_0x16de82(0x203),'VFlnZ':_0x16de82(0x1b5),'OPvZN':_0x16de82(0x1b0),'gCIUX':function(_0x5132f6,_0x20ad84){return _0x5132f6||_0x20ad84;},'mReYF':_0x16de82(0x1b6),'mCcxS':_0x16de82(0x16b),'NmmRF':'Example\x20click\x20handlers\x20have\x20been\x20set\x20up'},_0x1d738c=document[_0x16de82(0x17c)](_0x1d9b1d[_0x16de82(0x1ba)]),_0x27dd36=document['getElementById'](_0x1d9b1d[_0x16de82(0x201)]),_0x2ba796=document[_0x16de82(0x17c)](_0x1d9b1d['ZwEpx']);console['log']('Setting\x20up\x20example\x20clicks\x20-\x20example1:',_0x1d738c),console[_0x16de82(0x1ee)](_0x1d9b1d[_0x16de82(0x1d1)],_0x27dd36),console['log'](_0x1d9b1d[_0x16de82(0x20d)],_0x2ba796);if(_0x1d9b1d[_0x16de82(0x205)](!_0x1d738c,!_0x27dd36)||!_0x2ba796){console[_0x16de82(0x176)](_0x1d9b1d['mReYF']);return;}function _0x137b17(_0x108448){const _0x4d3a66=_0x16de82,_0x1e1780={'balwc':_0x1d9b1d[_0x4d3a66(0x192)],'hYZIM':function(_0x491344){const _0xd9acff=_0x4d3a66;return _0x1d9b1d[_0xd9acff(0x1dc)](_0x491344);}},_0x594a63=_0x108448[_0x4d3a66(0x1e7)][_0x4d3a66(0x1ae)]();console[_0x4d3a66(0x1ee)](_0x1d9b1d['PaBtE'],_0x594a63),_0x2ba796['value']=_0x594a63,_0x2ba796[_0x4d3a66(0x1a6)](new Event(_0x1d9b1d[_0x4d3a66(0x20f)])),_0x1d9b1d[_0x4d3a66(0x1e6)](setTimeout,()=>{const _0x176849=_0x4d3a66;console['log'](_0x1e1780[_0x176849(0x173)],_0x594a63),_0x1e1780['hYZIM'](sendMessage);},0x64);}_0x1d738c[_0x16de82(0x1e0)](_0x1d9b1d[_0x16de82(0x1f5)],()=>{const _0x4a5a1a=_0x16de82;console[_0x4a5a1a(0x1ee)](_0x1d9b1d[_0x4a5a1a(0x1a3)]),_0x1d9b1d[_0x4a5a1a(0x1b7)](_0x137b17,_0x1d738c);}),_0x27dd36[_0x16de82(0x1e0)](_0x1d9b1d['mCcxS'],()=>{const _0x1e5cb9=_0x16de82;console[_0x1e5cb9(0x1ee)](_0x1d9b1d[_0x1e5cb9(0x1bf)]),_0x1d9b1d[_0x1e5cb9(0x1c5)](_0x137b17,_0x27dd36);}),console[_0x16de82(0x1ee)](_0x1d9b1d[_0x16de82(0x1c9)]);}function _0x1fca(){const _0x27b24d=['DOMContentLoaded','78670zzSYJq','WfYrI','toggle','Incorrect\x20ask.\x20Please\x20rephrase\x20your\x20query.','remove','yZrCG','balwc','nAbAC','engineWrapper','error','role','none','btGMq','appendChild','explicit','getElementById','0|3|4|2|1','preventDefault','classList','snCWZ','Jbohz','success','769458qRBrAJ','NULL','AI\x20Model\x20Initialization\x20Error:','message-user','Rbdpu','worker','Response\x20error:','OSZTB','scrollTop','ModelTypes','11EqkxkZ','moAwT','MycBe','indexOf','FDAqY','AoKsW','Initializing\x20AI\x20Model...','includes','keydown','pEBLK','forEach','ihOxz','active','You\x20are\x20a\x20friendly\x20teacher\x20who\x20uses\x20the\x20Feynman\x20Technique\x20to\x20make\x20any\x20topic\x20easy\x20to\x20understand.\x20\x0aWhen\x20someone\x20asks\x20about\x20a\x20concept:\x0aFirst\x20share\x20the\x20formal\x20definition\x20in\x201-3\x20sentences\x20when\x20possible.\x20If\x20the\x20concept\x20is\x20complex,\x20break\x20it\x20down\x20into\x20simple\x20parts\x20using\x20super\x20simple\x20terms,\x20like\x20you\x20are\x20teaching\x20a\x20beginner.\x0aAfter\x20explaining,\x20ask\x20a\x20few\x20easy,\x20direct\x20questions\x20to\x20check\x20if\x20they\x20really\x20get\x20it\x20\x20focus\x20on\x20the\x20\x27why\x27\x20and\x20\x27how.\x27\x0aIf\x20there\x27s\x20anything\x20they\x20seem\x20unsure\x20about,\x20point\x20it\x20out\x20and\x20suggest\x20simple\x20resources\x20or\x20examples\x20to\x20clear\x20it\x20up.\x0aEncourage\x20them\x20to\x20explain\x20the\x20idea\x20back\x20to\x20you\x20in\x20their\x20own\x20words,\x20and\x20help\x20fix\x20any\x20mistakes\x20or\x20gaps.\x0a','loading','<div\x20class=\x22message-ai-avatar\x22><i\x20class=\x22fas\x20fa-robot\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-content\x22>','[handleExampleClick]\x20Now\x20sending\x20message:','createNewConversation','Application\x20initialization\x20failed.\x20Some\x20features\x20may\x20be\x20limited.','DeuRs','isInitialized','</div>','yvbRP','sendButton','aovjy','dispatchEvent','105511gZJTsP','byJNe','Initialization\x20Failed:\x20','generateResponseStream','value','progress','Example\x202\x20clicked','trim','messagesContainer','Setting\x20up\x20example\x20clicks\x20-\x20messageInput:','CjnVD','recording','modelType','stopRecording','Setting\x20up\x20example\x20clicks\x20-\x20example2:','Failed\x20to\x20find\x20required\x20DOM\x20elements','xUWQz','add','Initialization\x20failed','bxeJZ','speakText','wpZJl','errorMessage','div','RcHGE','WxnRk','zZBEH','I\x27m\x20sorry,\x20I\x20couldn\x27t\x20generate\x20a\x20response.\x20Please\x20try\x20again.','1444588pIuVno','lhOzT','NVKfv','message-ai','vsMQy','vBEYH','NmmRF','20760792yQVdlb','325SDOUBs','useBrowserAI','style','focus','.input-container','Ntplc','VFlnZ','juckV','EeVpk','textContent','settings.html','addMessage','toLowerCase','tDYcr','jzMxZ','232qZAgGu','settingsButton','qCtai','getCurrentConversation','XoWRa','innerHTML','addEventListener','createElement','peipO','example1','2672QGFPBx','length','Pcitx','innerText','chatContainer','readyState','querySelector','startRecording','sqpgi','round','log','MRbkS','scrollHeight','width','<div\x20class=\x22message-content\x22>','Could\x20not\x20initialize\x20AI\x20model.\x20Falling\x20back\x20to\x20alternative\x20methods.','CbpeY','mCcxS','.message-content','substring','xuXOp','AI\x20Model\x20Loaded\x20Successfully','href','user','shiftKey','Rqjdw','message','100%','6egEHoe','mDJwr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-ai-avatar\x22><i\x20class=\x22fas\x20fa-robot\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-content\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','messageInput','auto','gCIUX','wMBMF','mfkbB','systemRole','qyfZX','split','newChatButton','Voice\x20response\x20enabled:','OPvZN','KWedJ','uCFpj','display','micButton','flex','content','[AI\x20Model\x20Initialization]','filter','117JgDCjv','messages','2959795BpApgd','AI\x20Model\x20Initialization\x20Started','click'];_0x1fca=function(){return _0x27b24d;};return _0x1fca();}document[_0x5e0aa2(0x1e0)]('DOMContentLoaded',async()=>{const _0x2f3d3d=_0x5e0aa2,_0x334476={'siUIO':function(_0x3628b3){return _0x3628b3();},'mfkbB':function(_0x415009,_0x4433e4){return _0x415009(_0x4433e4);},'peipO':_0x2f3d3d(0x19f)};try{!conversationManager[_0x2f3d3d(0x1dd)]()&&conversationManager[_0x2f3d3d(0x19e)](),_0x334476['siUIO'](initializeSpeechManager),setupExampleClickEvents(),_0x334476['siUIO'](initializeAIModel);}catch(_0xcf700a){Logger['error'](_0x2f3d3d(0x1b9),_0xcf700a),_0x334476[_0x2f3d3d(0x207)](displayError,_0x334476[_0x2f3d3d(0x1e2)]);}});document[_0x5e0aa2(0x1e9)]==='loading'?document[_0x5e0aa2(0x1e0)](_0x5e0aa2(0x16c),setupExampleClickEvents):setupExampleClickEvents();if(sendButton)sendButton[_0x5e0aa2(0x1e0)](_0x5e0aa2(0x16b),sendMessage);if(micButton)micButton[_0x5e0aa2(0x1e0)](_0x5e0aa2(0x16b),toggleRecording);if(voiceButton)voiceButton[_0x5e0aa2(0x1e0)]('click',toggleVoiceResponse);function _0x4eac(_0x1f2b1f,_0x15c4d7){const _0x1fca66=_0x1fca();return _0x4eac=function(_0x4eac68,_0x387cb9){_0x4eac68=_0x4eac68-0x167;let _0x542a5e=_0x1fca66[_0x4eac68];return _0x542a5e;},_0x4eac(_0x1f2b1f,_0x15c4d7);}messageInput&&(messageInput[_0x5e0aa2(0x1e0)](_0x5e0aa2(0x195),_0x98310e=>{const _0x9ab02b=_0x5e0aa2,_0x172646={'lFctO':function(_0x325bd2,_0x73be50){return _0x325bd2===_0x73be50;},'XoWRa':function(_0x4a0ea0){return _0x4a0ea0();}};_0x172646['lFctO'](_0x98310e['key'],'Enter')&&!_0x98310e[_0x9ab02b(0x1fc)]&&(_0x98310e[_0x9ab02b(0x17e)](),_0x172646[_0x9ab02b(0x1de)](sendMessage));}),messageInput[_0x5e0aa2(0x1e0)]('focus',toggleChatUI));newChatButton&&newChatButton[_0x5e0aa2(0x1e0)](_0x5e0aa2(0x16b),()=>{const _0x379c8c=_0x5e0aa2,_0x1bf7ba={'OSZTB':_0x379c8c(0x17d),'gYtgq':'flex'},_0x3e4f26=_0x1bf7ba[_0x379c8c(0x18a)][_0x379c8c(0x20a)]('|');let _0x2e7042=0x0;while(!![]){switch(_0x3e4f26[_0x2e7042++]){case'0':conversationManager[_0x379c8c(0x19e)]();continue;case'1':if(messageInput)messageInput[_0x379c8c(0x1ab)]='';continue;case'2':if(chatContainer)chatContainer['style']['display']=_0x379c8c(0x178);continue;case'3':if(messagesContainer)messagesContainer[_0x379c8c(0x1df)]='';continue;case'4':if(welcomeScreen)welcomeScreen[_0x379c8c(0x1cd)][_0x379c8c(0x210)]=_0x1bf7ba['gYtgq'];continue;}break;}});settingsButton&&settingsButton['addEventListener']('click',()=>{const _0x58bf42=_0x5e0aa2;window['location'][_0x58bf42(0x1fa)]=_0x58bf42(0x1d5);});export{conversationManager,sendMessage,initializeAIModel};