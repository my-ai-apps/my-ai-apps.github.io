
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x494ada=_0x1e3a;(function(_0x40d1b5,_0x40e8f1){const _0x7e3b3e=_0x1e3a,_0x76e1ae=_0x40d1b5();while(!![]){try{const _0x38c088=parseInt(_0x7e3b3e(0x12b))/0x1*(parseInt(_0x7e3b3e(0x116))/0x2)+parseInt(_0x7e3b3e(0xe0))/0x3+parseInt(_0x7e3b3e(0x137))/0x4*(parseInt(_0x7e3b3e(0xe6))/0x5)+-parseInt(_0x7e3b3e(0xff))/0x6+parseInt(_0x7e3b3e(0x15f))/0x7*(parseInt(_0x7e3b3e(0x13f))/0x8)+-parseInt(_0x7e3b3e(0x15a))/0x9+parseInt(_0x7e3b3e(0x15b))/0xa*(parseInt(_0x7e3b3e(0x141))/0xb);if(_0x38c088===_0x40e8f1)break;else _0x76e1ae['push'](_0x76e1ae['shift']());}catch(_0x13430c){_0x76e1ae['push'](_0x76e1ae['shift']());}}}(_0x4307,0xbd2bf));import{BaseConversationManager}from'./BaseConversationManager.js';import{Logger,displayError,showStatus}from'./common.js';import{AIAdapter}from'./aiAdapter.js';import{SpeechProcessor}from'./speechProcessor.js';const welcomeScreen=document[_0x494ada(0x147)]('welcomeScreen'),chatContainer=document[_0x494ada(0x147)]('chatContainer'),messagesContainer=document[_0x494ada(0x147)](_0x494ada(0xf3)),messageInput=document[_0x494ada(0x147)](_0x494ada(0xfd)),sendButton=document[_0x494ada(0x147)](_0x494ada(0xe9)),micButton=document['getElementById'](_0x494ada(0x160)),errorMessage=document[_0x494ada(0x147)](_0x494ada(0x13a)),loader=document[_0x494ada(0x147)](_0x494ada(0xf6)),example1=document['getElementById'](_0x494ada(0x104)),example2=document[_0x494ada(0x147)](_0x494ada(0x138)),newChatButton=document[_0x494ada(0x147)]('newChatButton'),settingsButton=document[_0x494ada(0x147)]('settingsButton'),inputContainer=document[_0x494ada(0x12a)](_0x494ada(0x14c));let speechProcessor,isVoiceEnabled=![];const promptLeakagePattern='You\x20are\x20a\x20friendly\x20teacher\x20who\x20uses\x20the\x20Feynman\x20Technique',systemRole1=_0x494ada(0xf2)||AIAdapter['sessionConfig']['systemRole'],systemRole2=_0x494ada(0x109)||AIAdapter['sessionConfig'][_0x494ada(0x12f)],aiAdapter=new AIAdapter('tinyllama-1.1b-chat-v0.4');aiAdapter['systemRole']=systemRole1;const conversationManager=new BaseConversationManager(),voiceButton=document[_0x494ada(0x147)](_0x494ada(0xe7));function toggleChatUI(){const _0x1db90c=_0x494ada;if(welcomeScreen)welcomeScreen[_0x1db90c(0x188)][_0x1db90c(0x11a)]='none';if(chatContainer)chatContainer[_0x1db90c(0x188)][_0x1db90c(0x11a)]=_0x1db90c(0xef);if(inputContainer)inputContainer['style']['display']=_0x1db90c(0xef);if(messageInput)messageInput['focus']();}function updateMessagesUI(_0x4c94a9){const _0x5d90b7=_0x494ada,_0x697efe={'SzNHd':_0x5d90b7(0xf8),'AbpZj':_0x5d90b7(0x13e),'nZPmv':'user','CAinp':_0x5d90b7(0xec),'bTkWf':_0x5d90b7(0x12d),'IngyM':function(_0x50f411,_0x4d694f){return _0x50f411===_0x4d694f;}};if(!messagesContainer)return;messagesContainer[_0x5d90b7(0x127)]='',_0x4c94a9['forEach'](_0x59c5f0=>{const _0x20d8fd=_0x5d90b7,_0x44835c=document[_0x20d8fd(0x187)](_0x697efe[_0x20d8fd(0xfa)]);_0x44835c[_0x20d8fd(0x14e)]['add'](_0x697efe[_0x20d8fd(0x14a)],_0x59c5f0[_0x20d8fd(0x11f)]===_0x697efe[_0x20d8fd(0x170)]?_0x697efe[_0x20d8fd(0xe1)]:_0x697efe[_0x20d8fd(0x103)]),_0x44835c[_0x20d8fd(0x127)]=_0x697efe[_0x20d8fd(0x101)](_0x59c5f0[_0x20d8fd(0x11f)],_0x697efe[_0x20d8fd(0x170)])?'<div\x20class=\x22message-content\x22>'+_0x59c5f0['content']+'</div>':_0x20d8fd(0x140)+_0x59c5f0['content']+_0x20d8fd(0x164),messagesContainer[_0x20d8fd(0x108)](_0x44835c);}),messagesContainer[_0x5d90b7(0x16e)]=messagesContainer[_0x5d90b7(0x125)];}function initializeSpeechManager(){const _0x427adc=_0x494ada,_0x1c5523={'mhrpy':function(_0x206cad,_0x12a309){return _0x206cad||_0x12a309;},'GPKck':function(_0xe97758,_0x4050a8){return _0xe97758===_0x4050a8;},'GsanD':'auto','ypjNk':'explicit','kPSSF':function(_0x140879){return _0x140879();}};speechProcessor=new SpeechProcessor({'onResult':(_0x2e0e22,_0x2dcaf0)=>{const _0x187198=_0x1e3a;messageInput['value']=_0x1c5523[_0x187198(0x12e)](_0x2e0e22,_0x2dcaf0);},'onError':_0x8c5816=>displayError(_0x8c5816),'onSilence':_0xb9dd92=>{const _0x4382a1=_0x1e3a;(_0x1c5523['GPKck'](_0xb9dd92,_0x1c5523[_0x4382a1(0xde)])||_0xb9dd92===_0x1c5523[_0x4382a1(0x16a)])&&_0x1c5523['kPSSF'](sendMessage);},'onRecordingStart':()=>micButton[_0x427adc(0x14e)][_0x427adc(0xda)]('recording'),'onRecordingStop':()=>micButton[_0x427adc(0x14e)]['remove'](_0x427adc(0x174)),'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}function toggleRecording(){const _0x2041d9=_0x494ada;speechProcessor[_0x2041d9(0x153)]?speechProcessor[_0x2041d9(0x184)]():speechProcessor[_0x2041d9(0x166)]();}function toggleVoiceResponse(){const _0x34e3fa=_0x494ada,_0x21b313={'VxtEW':'Voice\x20response\x20enabled:'};isVoiceEnabled=!isVoiceEnabled,console['log'](_0x21b313[_0x34e3fa(0xd9)],isVoiceEnabled),voiceButton[_0x34e3fa(0x14e)][_0x34e3fa(0x126)](_0x34e3fa(0x13d),isVoiceEnabled);}async function initializeAIModel(){const _0x2c34e1=_0x494ada,_0x3d78a8={'GBHtP':_0x2c34e1(0x152),'OpBBr':_0x2c34e1(0x16b),'ujHaS':function(_0x456c2a,_0x1feb58,_0x33c274){return _0x456c2a(_0x1feb58,_0x33c274);},'kPthX':_0x2c34e1(0x102),'GMFcS':function(_0x12b1e2,_0x1a1470){return _0x12b1e2||_0x1a1470;},'KBvIG':function(_0x5b34e2,_0x998bc1,_0x430401){return _0x5b34e2(_0x998bc1,_0x430401);},'mxJyh':'100%','QAKcs':_0x2c34e1(0xdc),'EuHxM':'Initializing\x20AI\x20Model...','hbaaY':_0x2c34e1(0x185),'idQmV':_0x2c34e1(0x156),'zSBBV':function(_0x4de0e6,_0x525694){return _0x4de0e6(_0x525694);}};_0x3d78a8[_0x2c34e1(0x10a)](showStatus,'success',_0x3d78a8[_0x2c34e1(0x15e)]);function _0x3fd58f(_0x2a342c){const _0x590cfe=_0x2c34e1,{status:_0x4b4c7d,message:_0x4c87b4,stage:_0x474258,progress:_0x34a0f3}=_0x2a342c[_0x590cfe(0x17f)];console[_0x590cfe(0xe8)](_0x3d78a8[_0x590cfe(0x189)],_0x4b4c7d,_0x4c87b4);switch(_0x4b4c7d){case _0x3d78a8[_0x590cfe(0x106)]:_0x3d78a8[_0x590cfe(0x10a)](showStatus,_0x3d78a8[_0x590cfe(0x169)],_0x3d78a8['GMFcS'](_0x4c87b4,_0x590cfe(0x10b)));break;case'progress':const _0x26d7cd=Math[_0x590cfe(0x12c)](_0x3d78a8[_0x590cfe(0xd8)](_0x34a0f3,0x0)*0x64);_0x3d78a8[_0x590cfe(0x119)](showStatus,_0x3d78a8[_0x590cfe(0x169)],_0x590cfe(0x172)+_0x474258+':\x20'+_0x26d7cd+'%');break;case _0x590cfe(0x102):_0x3d78a8[_0x590cfe(0x119)](showStatus,_0x590cfe(0x102),_0x590cfe(0x144));aiModelProgressBar&&(aiModelProgressBar['style']['width']=_0x3d78a8[_0x590cfe(0xe5)]);break;case _0x3d78a8[_0x590cfe(0x117)]:_0x3d78a8[_0x590cfe(0x10a)](showStatus,_0x3d78a8[_0x590cfe(0x117)],_0x590cfe(0x14f)+_0x4c87b4);break;}}aiAdapter[_0x2c34e1(0x143)][_0x2c34e1(0x13b)]&&aiAdapter[_0x2c34e1(0x143)][_0x2c34e1(0x13b)][_0x2c34e1(0x175)]('message',_0x3fd58f);try{const _0x5d086c=await aiAdapter[_0x2c34e1(0xf1)]();return showStatus(_0x3d78a8['kPthX'],_0x3d78a8[_0x2c34e1(0x14d)]),{'success':!![],'modelType':aiAdapter[_0x2c34e1(0xf4)]};}catch(_0x2bc48e){return console[_0x2c34e1(0xdc)](_0x3d78a8[_0x2c34e1(0x11b)],_0x2bc48e),_0x3d78a8[_0x2c34e1(0x119)](showStatus,_0x2c34e1(0xdc),_0x2c34e1(0x16d)+_0x2bc48e[_0x2c34e1(0x13e)]),_0x3d78a8[_0x2c34e1(0x165)](displayError,_0x2c34e1(0xf0)),{'success':![],'modelType':AIAdapter[_0x2c34e1(0x158)][_0x2c34e1(0x176)]};}}async function sendMessage(){const _0x21ac6c=_0x494ada,_0x2fcc99={'yQYGN':function(_0x47f820,_0x304f63){return _0x47f820===_0x304f63;},'jIZua':function(_0x117266,_0x452efb){return _0x117266>_0x452efb;},'IRoPs':function(_0x5077e4,_0x14d3d8){return _0x5077e4+_0x14d3d8;},'kOknU':function(_0x2f5386,_0x9c22d8){return _0x2f5386>_0x9c22d8;},'nBXoC':function(_0x1311ec,_0x4a53bb){return _0x1311ec>_0x4a53bb;},'QMHTx':function(_0x1de737,_0x3490a4,_0x292734){return _0x1de737(_0x3490a4,_0x292734);},'XPKcP':function(_0x1054ab,_0xabeb61){return _0x1054ab(_0xabeb61);},'OloGK':function(_0x1014cc){return _0x1014cc();},'JUHmx':_0x21ac6c(0x134),'NPsUr':'[sendMessage]\x20Failed\x20to\x20initialize\x20AI\x20model','SHKFw':_0x21ac6c(0x112),'kfwPO':_0x21ac6c(0xf8),'iuuiS':_0x21ac6c(0x13e),'KlEjA':_0x21ac6c(0x12d),'iqcPq':_0x21ac6c(0xf9),'LdUCi':_0x21ac6c(0xea),'ryuCT':function(_0x290e06,_0x1ac661){return _0x290e06&&_0x1ac661;},'ehbyT':'Response\x20error:','MXkWn':_0x21ac6c(0x150)};!speechProcessor&&initializeSpeechManager();const _0x2fd6b1=messageInput[_0x21ac6c(0xe4)][_0x21ac6c(0x183)]();if(!_0x2fd6b1)return;_0x2fcc99[_0x21ac6c(0x128)](toggleChatUI),await conversationManager[_0x21ac6c(0x148)](_0x2fd6b1,_0x21ac6c(0x129));const _0x2789ec=await conversationManager[_0x21ac6c(0x15d)]();_0x2fcc99[_0x21ac6c(0xd5)](updateMessagesUI,_0x2789ec[_0x21ac6c(0x151)]),messageInput[_0x21ac6c(0xe4)]='',messageInput[_0x21ac6c(0x188)][_0x21ac6c(0x111)]=_0x2fcc99[_0x21ac6c(0x167)];try{if(!aiAdapter[_0x21ac6c(0x163)]&&!aiAdapter[_0x21ac6c(0x17b)]){const _0x1e5912=await initializeAIModel();if(!_0x1e5912[_0x21ac6c(0x102)])throw new Error(_0x2fcc99[_0x21ac6c(0x146)]);}const _0x39f617=[{'role':_0x2fcc99[_0x21ac6c(0x16f)],'content':systemRole1},..._0x2789ec[_0x21ac6c(0x151)]];let _0xfd3911='',_0x39a521='',_0x3b0f64=![];const _0x1bec8c=document[_0x21ac6c(0x187)](_0x2fcc99[_0x21ac6c(0x157)]);_0x1bec8c['classList'][_0x21ac6c(0xda)](_0x2fcc99[_0x21ac6c(0x17d)],_0x2fcc99[_0x21ac6c(0x11d)]),_0x1bec8c[_0x21ac6c(0x127)]=_0x21ac6c(0xf7),messagesContainer['appendChild'](_0x1bec8c);const _0x37eda2=_0x1bec8c[_0x21ac6c(0x12a)](_0x2fcc99[_0x21ac6c(0x107)]),_0x779e95=async()=>{const _0x56f54b=_0x21ac6c;if(!_0x39a521||!isVoiceEnabled)return;const _0x21751a=['.\x20','!\x20','?\x20',';\x20',':\x20','\x0a\x0a'];let _0x42145d=-0x1;for(const _0xa0cf02 of _0x21751a){const _0x4cd080=_0x39a521[_0x56f54b(0x122)](_0xa0cf02);if(_0x4cd080!==-0x1){_0x42145d=_0x4cd080+_0xa0cf02[_0x56f54b(0x113)];break;}}if(_0x2fcc99[_0x56f54b(0x105)](_0x42145d,-0x1)&&_0x2fcc99[_0x56f54b(0xd3)](_0x39a521[_0x56f54b(0x113)],0x50)){const _0x50f3e6=_0x39a521['indexOf'](',\x20');if(_0x50f3e6!==-0x1)_0x42145d=_0x2fcc99[_0x56f54b(0x171)](_0x50f3e6,0x2);else{const _0x4dd577=_0x39a521[_0x56f54b(0x131)]('\x20',0x50);_0x2fcc99['kOknU'](_0x4dd577,0x28)&&(_0x42145d=_0x2fcc99[_0x56f54b(0x171)](_0x4dd577,0x1));}}if(_0x42145d!==-0x1){const _0x50672c=_0x39a521[_0x56f54b(0x180)](0x0,_0x42145d);_0x39a521=_0x39a521['substring'](_0x42145d),_0x3b0f64=!![],await speechProcessor['speakText'](_0x50672c),_0x3b0f64=![],await _0x779e95();}else{if(_0x2fcc99[_0x56f54b(0xdb)](_0x39a521[_0x56f54b(0x113)],0x78)){const _0x32686d=_0x39a521;_0x39a521='',_0x3b0f64=!![],await speechProcessor[_0x56f54b(0x149)](_0x32686d),_0x3b0f64=![];}}};await aiAdapter[_0x21ac6c(0x120)](_0x39f617,async _0x3a4f0a=>{const _0x5b130a=_0x21ac6c;let _0x1d69c5=_0x2fcc99[_0x5b130a(0xfe)](moderationLayer,promptLeakagePattern,_0x3a4f0a);_0xfd3911+=_0x1d69c5,_0x2fcc99[_0x5b130a(0xd5)](requestAnimationFrame,()=>{const _0x5dd50e=_0x5b130a;_0x37eda2[_0x5dd50e(0x16c)]=_0xfd3911,messagesContainer[_0x5dd50e(0x16e)]=messagesContainer[_0x5dd50e(0x125)];}),isVoiceEnabled&&(_0x39a521+=_0x1d69c5,!_0x3b0f64&&setTimeout(_0x779e95,0x0));}),await conversationManager[_0x21ac6c(0x148)](_0xfd3911,_0x2fcc99['LdUCi']),_0x2fcc99['ryuCT'](isVoiceEnabled,_0x39a521)&&await speechProcessor[_0x21ac6c(0x149)](_0x39a521);}catch(_0x5743d5){Logger[_0x21ac6c(0xdc)](_0x2fcc99[_0x21ac6c(0x100)],_0x5743d5);const _0x3327d7=_0x2fcc99[_0x21ac6c(0x145)];await conversationManager[_0x21ac6c(0x148)](_0x3327d7,_0x2fcc99['LdUCi']),_0x2fcc99[_0x21ac6c(0xd5)](updateMessagesUI,conversationManager['getCurrentConversation']()[_0x21ac6c(0x151)]),displayError(_0x21ac6c(0x135));}}function moderationLayer(_0x7aab3b,_0x896867){const _0x13289a=_0x494ada,_0x25f2d9={'oNCfp':function(_0x4b46df,_0x24c5b7,_0x52cd39){return _0x4b46df(_0x24c5b7,_0x52cd39);},'ZzPdM':_0x13289a(0x15c)};if(_0x25f2d9[_0x13289a(0x181)](exactMatch,_0x7aab3b,_0x896867))return'Incorrect\x20ask.\x20Please\x20rephrase\x20your\x20query.';if(semanticMatch(_0x7aab3b,_0x896867))return _0x25f2d9[_0x13289a(0x13c)];return _0x896867;}function _0x1e3a(_0x59334b,_0x145b1b){const _0x430799=_0x4307();return _0x1e3a=function(_0x1e3ae7,_0x3106cd){_0x1e3ae7=_0x1e3ae7-0xd2;let _0x51f998=_0x430799[_0x1e3ae7];return _0x51f998;},_0x1e3a(_0x59334b,_0x145b1b);}function exactMatch(_0x12d6b3,_0x4683f0){const _0xf89ffb=_0x494ada;return _0x4683f0[_0xf89ffb(0x11e)]()[_0xf89ffb(0x10c)](_0x12d6b3[_0xf89ffb(0x11e)]());}function semanticMatch(_0x56b533,_0x49a6b2){const _0x454129=_0x494ada,_0x2568af=_0x56b533[_0x454129(0x11e)]()[_0x454129(0x11c)]('\x20'),_0xe1a507=_0x49a6b2[_0x454129(0x11e)]()['split']('\x20'),_0x156339=_0x2568af[_0x454129(0x154)](_0x4d4d9f=>_0xe1a507[_0x454129(0x10c)](_0x4d4d9f));return _0x156339[_0x454129(0x113)]>0x3;}function setupExampleClickEvents(){const _0x1d228f=_0x494ada,_0x2f17c6={'wuGhU':_0x1d228f(0x130),'lZCdM':'Example\x20clicked\x20with\x20text:','gXzKx':'focus','eJgcA':function(_0x4f6989,_0x928c86,_0x4cec94){return _0x4f6989(_0x928c86,_0x4cec94);},'KegPs':function(_0x4fb31a,_0x467794){return _0x4fb31a(_0x467794);},'dbTNH':_0x1d228f(0xe3),'AHVDd':_0x1d228f(0x104),'uOIGC':'messageInput','WIzlE':'Setting\x20up\x20example\x20clicks\x20-\x20example1:','BJuTU':_0x1d228f(0x123),'yokrD':_0x1d228f(0x177),'nHhEJ':function(_0x2a0f3d,_0x387e31){return _0x2a0f3d||_0x387e31;},'CqIhs':_0x1d228f(0x159),'feYIL':_0x1d228f(0xee),'CoDOc':_0x1d228f(0x115)},_0x21c9c5=document[_0x1d228f(0x147)](_0x2f17c6[_0x1d228f(0x14b)]),_0xb5f876=document[_0x1d228f(0x147)](_0x1d228f(0x138)),_0x1bb514=document[_0x1d228f(0x147)](_0x2f17c6['uOIGC']);console[_0x1d228f(0xe8)](_0x2f17c6['WIzlE'],_0x21c9c5),console['log'](_0x2f17c6[_0x1d228f(0x10e)],_0xb5f876),console[_0x1d228f(0xe8)](_0x2f17c6[_0x1d228f(0x124)],_0x1bb514);if(_0x2f17c6[_0x1d228f(0x17c)](!_0x21c9c5,!_0xb5f876)||!_0x1bb514){console[_0x1d228f(0xdc)](_0x2f17c6[_0x1d228f(0x161)]);return;}function _0x2b8a7a(_0x3bbce5){const _0x32793d=_0x1d228f,_0x5c9002={'HPqQT':_0x2f17c6[_0x32793d(0x136)]},_0x4196d3=_0x3bbce5[_0x32793d(0x155)][_0x32793d(0x183)]();console[_0x32793d(0xe8)](_0x2f17c6[_0x32793d(0xd6)],_0x4196d3),_0x1bb514[_0x32793d(0xe4)]=_0x4196d3,_0x1bb514['dispatchEvent'](new Event(_0x2f17c6[_0x32793d(0xd4)])),_0x2f17c6[_0x32793d(0xeb)](setTimeout,()=>{const _0xd50d1=_0x32793d;console[_0xd50d1(0xe8)](_0x5c9002[_0xd50d1(0xed)],_0x4196d3),sendMessage();},0x64);}_0x21c9c5[_0x1d228f(0x175)](_0x2f17c6[_0x1d228f(0x17a)],()=>{const _0x2eccad=_0x1d228f;console[_0x2eccad(0xe8)](_0x2eccad(0x178)),_0x2f17c6[_0x2eccad(0x110)](_0x2b8a7a,_0x21c9c5);}),_0xb5f876[_0x1d228f(0x175)](_0x1d228f(0xee),()=>{const _0x3e3ba0=_0x1d228f;console[_0x3e3ba0(0xe8)](_0x2f17c6[_0x3e3ba0(0x17e)]),_0x2f17c6['KegPs'](_0x2b8a7a,_0xb5f876);}),console['log'](_0x2f17c6[_0x1d228f(0x182)]);}document[_0x494ada(0x175)](_0x494ada(0x10f),async()=>{const _0x3245d2=_0x494ada,_0x55cad9={'XibXK':function(_0x44798d){return _0x44798d();},'nECIp':_0x3245d2(0xfb),'tvEAW':function(_0x5f460a,_0x419e94){return _0x5f460a(_0x419e94);}};try{!conversationManager[_0x3245d2(0x15d)]()&&conversationManager[_0x3245d2(0xe2)](),_0x55cad9[_0x3245d2(0x173)](initializeSpeechManager),_0x55cad9['XibXK'](setupExampleClickEvents),_0x55cad9['XibXK'](initializeAIModel);}catch(_0x3ccd28){Logger[_0x3245d2(0xdc)](_0x55cad9[_0x3245d2(0xd7)],_0x3ccd28),_0x55cad9[_0x3245d2(0x179)](displayError,_0x3245d2(0x10d));}});document['readyState']==='loading'?document[_0x494ada(0x175)](_0x494ada(0x10f),setupExampleClickEvents):setupExampleClickEvents();if(sendButton)sendButton[_0x494ada(0x175)](_0x494ada(0xee),sendMessage);if(micButton)micButton[_0x494ada(0x175)](_0x494ada(0xee),toggleRecording);if(voiceButton)voiceButton[_0x494ada(0x175)](_0x494ada(0xee),toggleVoiceResponse);messageInput&&(messageInput[_0x494ada(0x175)](_0x494ada(0x132),_0x2dc7a3=>{const _0xa4a533=_0x494ada,_0x38d279={'JIqCp':function(_0x50361a,_0x453689){return _0x50361a===_0x453689;},'Assbh':_0xa4a533(0x162),'XEIAt':function(_0x33aefb){return _0x33aefb();}};_0x38d279[_0xa4a533(0xdd)](_0x2dc7a3[_0xa4a533(0x121)],_0x38d279[_0xa4a533(0xdf)])&&!_0x2dc7a3[_0xa4a533(0x186)]&&(_0x2dc7a3[_0xa4a533(0x142)](),_0x38d279[_0xa4a533(0x168)](sendMessage));}),messageInput[_0x494ada(0x175)](_0x494ada(0x118),toggleChatUI));newChatButton&&newChatButton[_0x494ada(0x175)](_0x494ada(0xee),()=>{const _0x41035b=_0x494ada,_0x2cbfd3={'mTSDM':_0x41035b(0xef),'PFCPy':'none'},_0x471f38=_0x41035b(0xd2)[_0x41035b(0x11c)]('|');let _0x5c2fd1=0x0;while(!![]){switch(_0x471f38[_0x5c2fd1++]){case'0':conversationManager[_0x41035b(0xe2)]();continue;case'1':if(messagesContainer)messagesContainer['innerHTML']='';continue;case'2':if(welcomeScreen)welcomeScreen[_0x41035b(0x188)][_0x41035b(0x11a)]=_0x2cbfd3[_0x41035b(0xfc)];continue;case'3':if(chatContainer)chatContainer[_0x41035b(0x188)][_0x41035b(0x11a)]=_0x2cbfd3[_0x41035b(0x139)];continue;case'4':if(messageInput)messageInput[_0x41035b(0xe4)]='';continue;}break;}});settingsButton&&settingsButton[_0x494ada(0x175)](_0x494ada(0xee),()=>{const _0x2be8bf=_0x494ada,_0xae251={'qNfNK':'settings.html'};window[_0x2be8bf(0xf5)][_0x2be8bf(0x114)]=_0xae251[_0x2be8bf(0x133)];});function _0x4307(){const _0x5a1684=['NULL','Setting\x20up\x20example\x20clicks\x20-\x20messageInput:','Example\x201\x20clicked','tvEAW','feYIL','useBrowserAI','nHhEJ','iuuiS','dbTNH','data','substring','oNCfp','CoDOc','trim','stopRecording','AI\x20Model\x20Initialization\x20Started','shiftKey','createElement','style','GBHtP','0|1|2|3|4','jIZua','gXzKx','XPKcP','lZCdM','nECIp','GMFcS','VxtEW','add','nBXoC','error','JIqCp','GsanD','Assbh','48606HNGgWL','CAinp','createNewConversation','Example\x202\x20clicked','value','mxJyh','570RngwFK','voiceButton','log','sendButton','assistant','eJgcA','message-user','HPqQT','click','flex','Could\x20not\x20initialize\x20AI\x20model.\x20Falling\x20back\x20to\x20alternative\x20methods.','init','You\x20are\x20a\x20friendly\x20teacher\x20who\x20uses\x20the\x20Feynman\x20Technique\x20to\x20make\x20any\x20topic\x20easy\x20to\x20understand.\x20\x0aWhen\x20someone\x20asks\x20about\x20a\x20concept:\x0aFirst\x20share\x20the\x20formal\x20definition\x20in\x201-3\x20sentences\x20when\x20possible.\x20If\x20the\x20concept\x20is\x20complex,\x20break\x20it\x20down\x20into\x20simple\x20parts\x20using\x20super\x20simple\x20terms,\x20like\x20you\x20are\x20teaching\x20a\x20beginner.\x0aAfter\x20explaining,\x20ask\x20a\x20few\x20easy,\x20direct\x20questions\x20to\x20check\x20if\x20they\x20really\x20get\x20it\x20\x20focus\x20on\x20the\x20\x27why\x27\x20and\x20\x27how.\x27\x0aIf\x20there\x27s\x20anything\x20they\x20seem\x20unsure\x20about,\x20point\x20it\x20out\x20and\x20suggest\x20simple\x20resources\x20or\x20examples\x20to\x20clear\x20it\x20up.\x0aEncourage\x20them\x20to\x20explain\x20the\x20idea\x20back\x20to\x20you\x20in\x20their\x20own\x20words,\x20and\x20help\x20fix\x20any\x20mistakes\x20or\x20gaps.\x0a','messagesContainer','modelType','location','loader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-ai-avatar\x22><i\x20class=\x22fas\x20fa-robot\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-content\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','div','.message-content','SzNHd','Initialization\x20failed','mTSDM','messageInput','QMHTx','4822362nBiWzh','ehbyT','IngyM','success','bTkWf','example1','yQYGN','OpBBr','iqcPq','appendChild','You\x20are\x20an\x20expert\x20teacher\x20who\x20uses\x20the\x20Feynman\x20Technique\x20to\x20help\x20users\x20deeply\x20understand\x20concepts.\x20For\x20any\x20topic\x20or\x20skill\x20presented:\x0aExplain\x20the\x20topic\x20in\x20the\x20simplest\x20terms\x20possible,\x20as\x20if\x20teaching\x20a\x20complete\x20beginner.\x0aAfter\x20explaining,\x20ask\x20simple,\x20direct\x20questions\x20to\x20test\x20the\x20user\x27s\x20understanding\x20-\x20focusing\x20on\x20the\x20\x27why\x27\x20and\x20\x27how\x27\x20behind\x20key\x20ideas.\x0aIf\x20gaps\x20in\x20understanding\x20emerge,\x20highlight\x20them\x20clearly\x20and\x20suggest\x20resources\x20or\x20examples\x20to\x20fill\x20those\x20gaps.\x0aEncourage\x20the\x20user\x20to\x20re-explain\x20the\x20concept\x20back\x20to\x20you\x20in\x20their\x20own\x20words,\x20guiding\x20them\x20gently\x20to\x20correct\x20any\x20errors\x20or\x20misconceptions.\x0a','ujHaS','Loading\x20model...','includes','Application\x20initialization\x20failed.\x20Some\x20features\x20may\x20be\x20limited.','BJuTU','DOMContentLoaded','KegPs','height','system','length','href','Example\x20click\x20handlers\x20have\x20been\x20set\x20up','218162MFzzia','QAKcs','focus','KBvIG','display','idQmV','split','KlEjA','toLowerCase','role','generateResponseStream','key','indexOf','Setting\x20up\x20example\x20clicks\x20-\x20example2:','yokrD','scrollHeight','toggle','innerHTML','OloGK','user','querySelector','5BvckSX','round','message-ai','mhrpy','systemRole','[handleExampleClick]\x20Now\x20sending\x20message:','lastIndexOf','keydown','qNfNK','auto','Unable\x20to\x20send\x20message.\x20Please\x20check\x20your\x20connection\x20and\x20try\x20again.','wuGhU','1148WzDXGm','example2','PFCPy','errorMessage','worker','ZzPdM','active','message','536JSVcJH','<div\x20class=\x22message-ai-avatar\x22><i\x20class=\x22fas\x20fa-robot\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-content\x22>','341594QeXFHR','preventDefault','engineWrapper','AI\x20Model\x20Loaded\x20Successfully','MXkWn','NPsUr','getElementById','addMessage','speakText','AbpZj','AHVDd','.input-container','hbaaY','classList','Model\x20Load\x20Failed:\x20','I\x27m\x20sorry,\x20I\x20couldn\x27t\x20generate\x20a\x20response.\x20Please\x20try\x20again.','messages','[AI\x20Model\x20Initialization]','isRecording','filter','innerText','AI\x20Model\x20Initialization\x20Error:','kfwPO','ModelTypes','Failed\x20to\x20find\x20required\x20DOM\x20elements','2879649hSgMpk','240NRVUCB','Incorrect\x20ask.\x20Please\x20rephrase\x20your\x20query.','getCurrentConversation','EuHxM','58394YeOGMR','micButton','CqIhs','Enter','isInitialized','</div>','zSBBV','startRecording','JUHmx','XEIAt','kPthX','ypjNk','loading','textContent','Initialization\x20Failed:\x20','scrollTop','SHKFw','nZPmv','IRoPs','Loading\x20','XibXK','recording','addEventListener'];_0x4307=function(){return _0x5a1684;};return _0x4307();}export{conversationManager,sendMessage,initializeAIModel};