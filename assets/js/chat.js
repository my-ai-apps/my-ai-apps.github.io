
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
function _0x1c60(){const _0x15a14a=['NULL','micButton','chatContainer','QtqRs','QBjQU','iGOzb','.input-container','lTuPc','Ftajt','focUr','Setting\x20up\x20example\x20clicks\x20-\x20messageInput:','</div>','display','uYJXl','length','PKxqg','nNULj','style','nPeWP','kYRgO','location','You\x20are\x20a\x20friendly\x20teacher\x20who\x20uses\x20the\x20Feynman\x20Technique\x20to\x20make\x20any\x20topic\x20easy\x20to\x20understand.\x20\x0aWhen\x20someone\x20asks\x20about\x20a\x20concept:\x0aFirst\x20share\x20the\x20formal\x20definition\x20in\x201-3\x20sentences\x20when\x20possible.\x20If\x20the\x20concept\x20is\x20complex,\x20break\x20it\x20down\x20into\x20simple\x20parts\x20using\x20super\x20simple\x20terms,\x20like\x20you\x20are\x20teaching\x20a\x20beginner.\x0aAfter\x20explaining,\x20ask\x20a\x20few\x20easy,\x20direct\x20questions\x20to\x20check\x20if\x20they\x20really\x20get\x20it\x20\x20focus\x20on\x20the\x20\x27why\x27\x20and\x20\x27how.\x27\x0aIf\x20there\x27s\x20anything\x20they\x20seem\x20unsure\x20about,\x20point\x20it\x20out\x20and\x20suggest\x20simple\x20resources\x20or\x20examples\x20to\x20clear\x20it\x20up.\x0aEncourage\x20them\x20to\x20explain\x20the\x20idea\x20back\x20to\x20you\x20in\x20their\x20own\x20words,\x20and\x20help\x20fix\x20any\x20mistakes\x20or\x20gaps.\x0a','MOShe','toggle','div','42054010RFeACK','Setting\x20up\x20example\x20clicks\x20-\x20example2:','.message-content','[AI\x20Model\x20Initialization]','OamVF','focus','xjyEJ','value','href','innerHTML','remove','464FMiXzC','startRecording','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-ai-avatar\x22><i\x20class=\x22fas\x20fa-robot\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-content\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','sessionConfig','wmbKK','createNewConversation','addMessage','auto','bkFZk','Example\x20click\x20handlers\x20have\x20been\x20set\x20up','Setting\x20up\x20example\x20clicks\x20-\x20example1:','GzVUz','system','Failed\x20to\x20find\x20required\x20DOM\x20elements','messagesContainer','shiftKey','engineWrapper','XwdtL','ModelTypes','split','IwKpm','forEach','loader','error','19512Mfvkgr','filter','message-ai','gPRpt','2|3|0|4|1','ipMqM','getCurrentConversation','Enter','success','vuttE','log','includes','1642000EecNvX','xDAqV','Could\x20not\x20initialize\x20AI\x20model.\x20Falling\x20back\x20to\x20alternative\x20methods.','918368tNZcmA','[handleExampleClick]\x20Now\x20sending\x20message:','lastIndexOf','stopRecording','Xgrxu','key','message','messageInput','content','innerText','wMplb','276330yhpbRt','messages','none','FFdLM','ZePkz','FDQDa','Initialization\x20failed','XzxDB','scrollHeight','hjGZX','6REqiCd','toLowerCase','vRewM','aaZbF','pNNCx','preventDefault','livqI','flex','mOhbh','indexOf','GfxDA','add','systemRole','jySnd','<div\x20class=\x22message-ai-avatar\x22><i\x20class=\x22fas\x20fa-robot\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-content\x22>','Example\x202\x20clicked','ijBXV','KhXvU','NeiuC','DOMContentLoaded','background-loading','settings.html','example1','qHrMK','140oZtwNp','substring','message-user','FfJkN','1216550OpMiob','classList','KnpDO','explicit','role','createElement','xmcXd','4653236YGjMjL','round','ZBhOK','useBrowserAI','Voice\x20response\x20enabled:','You\x20are\x20an\x20expert\x20teacher\x20who\x20uses\x20the\x20Feynman\x20Technique\x20to\x20help\x20users\x20deeply\x20understand\x20concepts.\x20For\x20any\x20topic\x20or\x20skill\x20presented:\x0aExplain\x20the\x20topic\x20in\x20the\x20simplest\x20terms\x20possible,\x20as\x20if\x20teaching\x20a\x20complete\x20beginner.\x0aAfter\x20explaining,\x20ask\x20simple,\x20direct\x20questions\x20to\x20test\x20the\x20user\x27s\x20understanding\x20-\x20focusing\x20on\x20the\x20\x27why\x27\x20and\x20\x27how\x27\x20behind\x20key\x20ideas.\x0aIf\x20gaps\x20in\x20understanding\x20emerge,\x20highlight\x20them\x20clearly\x20and\x20suggest\x20resources\x20or\x20examples\x20to\x20fill\x20those\x20gaps.\x0aEncourage\x20the\x20user\x20to\x20re-explain\x20the\x20concept\x20back\x20to\x20you\x20in\x20their\x20own\x20words,\x20guiding\x20them\x20gently\x20to\x20correct\x20any\x20errors\x20or\x20misconceptions.\x0a','readyState','AQyao','arxGg','jLEBZ','newChatButton','ltmGd','Loading\x20','addEventListener','AI\x20Model\x20Initialization\x20Started','Model\x20Load\x20Failed:\x20','tinyllama-1.1b-chat-v0.4','I\x27m\x20sorry,\x20I\x20couldn\x27t\x20generate\x20a\x20response.\x20Please\x20try\x20again.','nmXMf','ICwRT','click','czyBR','nAbpe','scrollTop','AI\x20Model\x20Initialization\x20Error:','init','isRecording','BVCYO','kBFxc','height','querySelector','Failed\x20to\x20initialize\x20AI\x20model','epEvO','textContent','voiceButton','modelType','Initialization\x20Failed:\x20','trim','wIXfD','Incorrect\x20ask.\x20Please\x20rephrase\x20your\x20query.','nvBbm','WmOvR','gkfFx','bIgHr','errorMessage','DPKlJ','giPxI','dispatchEvent','example2','<div\x20class=\x22message-content\x22>','getElementById','tyUNc','MtDUq','lHznh','100%','GpsJJ','mfIQZ','WgRrm','Example\x201\x20clicked','user','DhzQw','settingsButton','speakText'];_0x1c60=function(){return _0x15a14a;};return _0x1c60();}const _0x95e787=_0x2645;(function(_0x43d540,_0x5ecc02){const _0x1fa99b=_0x2645,_0x5ef44f=_0x43d540();while(!![]){try{const _0x470f7c=-parseInt(_0x1fa99b(0x25e))/0x1+-parseInt(_0x1fa99b(0x22d))/0x2*(parseInt(_0x1fa99b(0x242))/0x3)+parseInt(_0x1fa99b(0x22a))/0x4+parseInt(_0x1fa99b(0x25a))/0x5*(-parseInt(_0x1fa99b(0x238))/0x6)+-parseInt(_0x1fa99b(0x265))/0x7+parseInt(_0x1fa99b(0x206))/0x8*(parseInt(_0x1fa99b(0x21e))/0x9)+parseInt(_0x1fa99b(0x1fb))/0xa;if(_0x470f7c===_0x5ecc02)break;else _0x5ef44f['push'](_0x5ef44f['shift']());}catch(_0x2a1f33){_0x5ef44f['push'](_0x5ef44f['shift']());}}}(_0x1c60,0x9f497));import{BaseConversationManager}from'./BaseConversationManager.js';import{Logger,displayError,showStatus}from'./common.js';import{AIAdapter}from'./aiAdapter.js';import{SpeechProcessor}from'./speechProcessor.js';const welcomeScreen=document[_0x95e787(0x297)]('welcomeScreen'),chatContainer=document[_0x95e787(0x297)](_0x95e787(0x1e4)),messagesContainer=document[_0x95e787(0x297)](_0x95e787(0x214)),messageInput=document[_0x95e787(0x297)](_0x95e787(0x234)),sendButton=document[_0x95e787(0x297)]('sendButton'),micButton=document[_0x95e787(0x297)](_0x95e787(0x1e3)),errorMessage=document[_0x95e787(0x297)](_0x95e787(0x291)),loader=document[_0x95e787(0x297)](_0x95e787(0x21c)),example1=document[_0x95e787(0x297)](_0x95e787(0x258)),example2=document[_0x95e787(0x297)](_0x95e787(0x295)),newChatButton=document[_0x95e787(0x297)](_0x95e787(0x26f)),settingsButton=document[_0x95e787(0x297)](_0x95e787(0x1e0)),inputContainer=document[_0x95e787(0x283)](_0x95e787(0x1e8));let speechProcessor,isVoiceEnabled=![];function _0x2645(_0x1687c6,_0x3f7949){const _0x1c60af=_0x1c60();return _0x2645=function(_0x2645b,_0x3e7994){_0x2645b=_0x2645b-0x1d6;let _0x37f121=_0x1c60af[_0x2645b];return _0x37f121;},_0x2645(_0x1687c6,_0x3f7949);}const aiAdapter=new AIAdapter(_0x95e787(0x275)),voiceButton=document[_0x95e787(0x297)](_0x95e787(0x287)),conversationManager=new BaseConversationManager(),promptLeakagePattern='You\x20are\x20a\x20friendly\x20teacher\x20who\x20uses\x20the\x20Feynman\x20Technique',systemRole1=_0x95e787(0x1f7)||AIAdapter[_0x95e787(0x209)][_0x95e787(0x24e)],systemRole2=_0x95e787(0x26a)||AIAdapter[_0x95e787(0x209)][_0x95e787(0x24e)];function toggleChatUI(){const _0x42e471=_0x95e787,_0x5c388a={'OMiOA':_0x42e471(0x23a),'giPxI':_0x42e471(0x249)};if(welcomeScreen)welcomeScreen[_0x42e471(0x1f3)][_0x42e471(0x1ee)]=_0x5c388a['OMiOA'];if(chatContainer)chatContainer[_0x42e471(0x1f3)][_0x42e471(0x1ee)]=_0x5c388a[_0x42e471(0x293)];if(inputContainer)inputContainer['style']['display']=_0x5c388a['giPxI'];if(messageInput)messageInput[_0x42e471(0x200)]();}function updateMessagesUI(_0x41a003){const _0x418141=_0x95e787,_0x6db31b={'XwdtL':_0x418141(0x233),'lHznh':function(_0x1093de,_0x2689d9){return _0x1093de===_0x2689d9;},'xkeVb':_0x418141(0x25c),'ijBXV':function(_0x1c2c4e,_0x14b860){return _0x1c2c4e===_0x14b860;},'KhXvU':'user'};if(!messagesContainer)return;messagesContainer[_0x418141(0x204)]='',_0x41a003[_0x418141(0x21b)](_0x347211=>{const _0x1e5673=_0x418141,_0x995480=document[_0x1e5673(0x263)](_0x1e5673(0x1fa));_0x995480[_0x1e5673(0x25f)][_0x1e5673(0x24d)](_0x6db31b[_0x1e5673(0x217)],_0x6db31b[_0x1e5673(0x1d8)](_0x347211[_0x1e5673(0x262)],_0x1e5673(0x1de))?_0x6db31b['xkeVb']:_0x1e5673(0x220)),_0x995480[_0x1e5673(0x204)]=_0x6db31b[_0x1e5673(0x252)](_0x347211[_0x1e5673(0x262)],_0x6db31b[_0x1e5673(0x253)])?_0x1e5673(0x296)+_0x347211[_0x1e5673(0x235)]+_0x1e5673(0x1ed):_0x1e5673(0x250)+_0x347211[_0x1e5673(0x235)]+_0x1e5673(0x1ed),messagesContainer['appendChild'](_0x995480);}),messagesContainer[_0x418141(0x27c)]=messagesContainer[_0x418141(0x240)];}function initializeSpeechManager(){const _0x1530b4=_0x95e787,_0x49873a={'arxGg':function(_0xed4fb9,_0x39e1de){return _0xed4fb9||_0x39e1de;},'DPKlJ':function(_0x39ba1d,_0x417022){return _0x39ba1d===_0x417022;},'YTwwZ':_0x1530b4(0x20d),'Xiwje':_0x1530b4(0x261),'nNULj':function(_0xe6d9b9){return _0xe6d9b9();}};speechProcessor=new SpeechProcessor({'onResult':(_0x4f25d9,_0x98ba7e)=>{const _0x25a3e0=_0x1530b4;messageInput[_0x25a3e0(0x202)]=_0x49873a[_0x25a3e0(0x26d)](_0x4f25d9,_0x98ba7e);},'onError':_0x1c3d7f=>displayError(_0x1c3d7f),'onSilence':_0x2b7b65=>{const _0x4056c6=_0x1530b4;(_0x49873a[_0x4056c6(0x292)](_0x2b7b65,_0x49873a['YTwwZ'])||_0x49873a[_0x4056c6(0x292)](_0x2b7b65,_0x49873a['Xiwje']))&&_0x49873a[_0x4056c6(0x1f2)](sendMessage);},'onRecordingStart':()=>micButton[_0x1530b4(0x25f)][_0x1530b4(0x24d)]('recording'),'onRecordingStop':()=>micButton[_0x1530b4(0x25f)][_0x1530b4(0x205)]('recording'),'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}function toggleRecording(){const _0x22a955=_0x95e787;speechProcessor[_0x22a955(0x27f)]?speechProcessor[_0x22a955(0x230)]():speechProcessor[_0x22a955(0x207)]();}function toggleVoiceResponse(){const _0x76464a=_0x95e787,_0x168fbf={'OamVF':_0x76464a(0x269)};isVoiceEnabled=!isVoiceEnabled,console[_0x76464a(0x228)](_0x168fbf[_0x76464a(0x1ff)],isVoiceEnabled),voiceButton['classList'][_0x76464a(0x1f9)]('active',isVoiceEnabled);}async function initializeAIModel(){const _0x3428da=_0x95e787,_0x1022be={'GfxDA':_0x3428da(0x1fe),'BVCYO':'loading','aaZbF':function(_0x4fe67a,_0x428a30,_0x5c7d43){return _0x4fe67a(_0x428a30,_0x5c7d43);},'ltmGd':_0x3428da(0x226),'gPRpt':'Loading\x20model...','nPeWP':'progress','vRewM':function(_0xf3ddc8,_0x3ab7d4){return _0xf3ddc8*_0x3ab7d4;},'DhzQw':function(_0xffadee,_0x211075){return _0xffadee||_0x211075;},'xmcXd':'AI\x20Model\x20Loaded\x20Successfully','wMplb':_0x3428da(0x1d9),'nvBbm':_0x3428da(0x21d),'tyUNc':function(_0x265e8b,_0x3779a5,_0x1890d2){return _0x265e8b(_0x3779a5,_0x1890d2);},'vImfX':function(_0x31f160,_0x2c8890,_0x9a42ba){return _0x31f160(_0x2c8890,_0x9a42ba);},'ktxtM':'Initializing\x20AI\x20Model...','FfJkN':_0x3428da(0x233),'WgRrm':function(_0x25fb48,_0x576817,_0xe5a6cc){return _0x25fb48(_0x576817,_0xe5a6cc);},'mOhbh':_0x3428da(0x256),'sFsBy':_0x3428da(0x27d),'jLEBZ':function(_0x335131,_0x5ed471,_0x4483e9){return _0x335131(_0x5ed471,_0x4483e9);},'qRUem':function(_0x4e83ca,_0x1a2442){return _0x4e83ca(_0x1a2442);},'Xgrxu':_0x3428da(0x22c)};_0x1022be['vImfX'](showStatus,'success',_0x1022be['ktxtM']);function _0x3196a3(_0x15fb2b){const _0x587566=_0x3428da,{status:_0x16e2f7,message:_0x220a13,stage:_0x58e05d,progress:_0x24f3a7}=_0x15fb2b['data'];console[_0x587566(0x228)](_0x1022be[_0x587566(0x24c)],_0x16e2f7,_0x220a13);switch(_0x16e2f7){case _0x1022be[_0x587566(0x280)]:_0x1022be['aaZbF'](showStatus,_0x1022be[_0x587566(0x270)],_0x220a13||_0x1022be[_0x587566(0x221)]);break;case _0x1022be[_0x587566(0x1f4)]:const _0x5a2029=Math[_0x587566(0x266)](_0x1022be[_0x587566(0x244)](_0x1022be[_0x587566(0x1df)](_0x24f3a7,0x0),0x64));_0x1022be[_0x587566(0x245)](showStatus,_0x1022be['ltmGd'],_0x587566(0x271)+_0x58e05d+':\x20'+_0x5a2029+'%');break;case _0x1022be[_0x587566(0x270)]:showStatus(_0x1022be[_0x587566(0x270)],_0x1022be[_0x587566(0x264)]);aiModelProgressBar&&(aiModelProgressBar[_0x587566(0x1f3)]['width']=_0x1022be[_0x587566(0x237)]);break;case _0x1022be[_0x587566(0x28d)]:_0x1022be[_0x587566(0x1d6)](showStatus,_0x1022be['nvBbm'],_0x587566(0x274)+_0x220a13);break;}}aiAdapter[_0x3428da(0x216)]['worker']&&aiAdapter[_0x3428da(0x216)]['worker']['addEventListener'](_0x1022be[_0x3428da(0x25d)],_0x3196a3);try{return await aiAdapter[_0x3428da(0x27e)](),_0x1022be[_0x3428da(0x1dc)](showStatus,_0x1022be[_0x3428da(0x270)],_0x3428da(0x273)),{'success':!![],'modelType':aiAdapter['modelType']||_0x1022be[_0x3428da(0x24a)]};}catch(_0x19cab1){return console[_0x3428da(0x21d)](_0x1022be['sFsBy'],_0x19cab1),_0x1022be[_0x3428da(0x26e)](showStatus,_0x1022be['nvBbm'],_0x3428da(0x289)+_0x19cab1[_0x3428da(0x233)]),_0x1022be['qRUem'](displayError,_0x1022be[_0x3428da(0x231)]),{'success':![],'modelType':null};}}async function sendMessage(){const _0x2098e3=_0x95e787,_0x3057c6={'xjyEJ':function(_0x1ea0ab,_0x37aa6f){return _0x1ea0ab!==_0x37aa6f;},'epEvO':function(_0x232687,_0x16e0c1){return _0x232687===_0x16e0c1;},'PKxqg':function(_0x3405f1,_0x524e0e){return _0x3405f1>_0x524e0e;},'nmXMf':function(_0x2c6044,_0x225494){return _0x2c6044+_0x225494;},'WmOvR':function(_0x2d67d5,_0x1e7a88){return _0x2d67d5!==_0x1e7a88;},'iGOzb':function(_0x414d97,_0x5aec6c,_0x30b174){return _0x414d97(_0x5aec6c,_0x30b174);},'FDQDa':function(_0x3ea45b,_0x4478f8){return _0x3ea45b(_0x4478f8);},'AQyao':function(_0x5877b5,_0x3981fc,_0x520f0f){return _0x5877b5(_0x3981fc,_0x520f0f);},'focUr':function(_0x2178be){return _0x2178be();},'tEBlk':_0x2098e3(0x1de),'jzrmS':_0x2098e3(0x20d),'gkfFx':function(_0x17c7d6,_0xfdc10e){return _0x17c7d6==_0xfdc10e;},'Ftajt':_0x2098e3(0x284),'IwKpm':_0x2098e3(0x212),'TdfKY':_0x2098e3(0x233),'ICwRT':_0x2098e3(0x220),'wIXfD':_0x2098e3(0x1fd),'nAbpe':'assistant','vuttE':function(_0x16006e,_0x52e699){return _0x16006e&&_0x52e699;},'QBjQU':'Response\x20error:','jySnd':_0x2098e3(0x276),'Njiue':'Unable\x20to\x20send\x20message.\x20Please\x20check\x20your\x20connection\x20and\x20try\x20again.'};!speechProcessor&&_0x3057c6[_0x2098e3(0x1eb)](initializeSpeechManager);const _0x48b371=messageInput[_0x2098e3(0x202)][_0x2098e3(0x28a)]();if(!_0x48b371)return;toggleChatUI(),await conversationManager[_0x2098e3(0x20c)](_0x48b371,_0x3057c6['tEBlk']);const _0x1a8270=await conversationManager[_0x2098e3(0x224)]();updateMessagesUI(_0x1a8270['messages']),messageInput[_0x2098e3(0x202)]='',messageInput[_0x2098e3(0x1f3)][_0x2098e3(0x282)]=_0x3057c6['jzrmS'];try{if(_0x3057c6[_0x2098e3(0x28f)](!aiAdapter[_0x2098e3(0x288)],AIAdapter[_0x2098e3(0x218)][_0x2098e3(0x1e2)])&&!aiAdapter[_0x2098e3(0x268)]){const _0x4526ad=await _0x3057c6[_0x2098e3(0x1eb)](initializeAIModel);if(!_0x4526ad[_0x2098e3(0x226)])throw new Error(_0x3057c6[_0x2098e3(0x1ea)]);}const _0x5b791a=[{'role':_0x3057c6[_0x2098e3(0x21a)],'content':systemRole1},..._0x1a8270[_0x2098e3(0x239)]];let _0xb92da5='',_0x3ff65a='',_0x46ea1f=![];const _0x261b08=document['createElement'](_0x2098e3(0x1fa));_0x261b08['classList'][_0x2098e3(0x24d)](_0x3057c6['TdfKY'],_0x3057c6[_0x2098e3(0x278)]),_0x261b08[_0x2098e3(0x204)]=_0x2098e3(0x208),messagesContainer['appendChild'](_0x261b08);const _0x424145=_0x261b08[_0x2098e3(0x283)](_0x3057c6[_0x2098e3(0x28b)]),_0x4fe345=async()=>{const _0x4fb2c0=_0x2098e3;if(!_0x3ff65a||!isVoiceEnabled)return;const _0x16b9a0=['.\x20','!\x20','?\x20',';\x20',':\x20','\x0a\x0a'];let _0x36e231=-0x1;for(const _0x43d077 of _0x16b9a0){const _0x2c2fc4=_0x3ff65a[_0x4fb2c0(0x24b)](_0x43d077);if(_0x3057c6['xjyEJ'](_0x2c2fc4,-0x1)){_0x36e231=_0x2c2fc4+_0x43d077['length'];break;}}if(_0x3057c6[_0x4fb2c0(0x285)](_0x36e231,-0x1)&&_0x3057c6[_0x4fb2c0(0x1f1)](_0x3ff65a[_0x4fb2c0(0x1f0)],0x50)){const _0x7ed7e2=_0x3ff65a[_0x4fb2c0(0x24b)](',\x20');if(_0x3057c6[_0x4fb2c0(0x201)](_0x7ed7e2,-0x1))_0x36e231=_0x7ed7e2+0x2;else{const _0xdde1de=_0x3ff65a[_0x4fb2c0(0x22f)]('\x20',0x50);_0x3057c6[_0x4fb2c0(0x1f1)](_0xdde1de,0x28)&&(_0x36e231=_0x3057c6[_0x4fb2c0(0x277)](_0xdde1de,0x1));}}if(_0x3057c6[_0x4fb2c0(0x28e)](_0x36e231,-0x1)){const _0xf0aaeb=_0x3ff65a['substring'](0x0,_0x36e231);_0x3ff65a=_0x3ff65a[_0x4fb2c0(0x25b)](_0x36e231),_0x46ea1f=!![],await speechProcessor['speakText'](_0xf0aaeb),_0x46ea1f=![],await _0x4fe345();}else{if(_0x3057c6[_0x4fb2c0(0x1f1)](_0x3ff65a[_0x4fb2c0(0x1f0)],0x78)){const _0x4fdd64=_0x3ff65a;_0x3ff65a='',_0x46ea1f=!![],await speechProcessor['speakText'](_0x4fdd64),_0x46ea1f=![];}}};await aiAdapter['generateResponseStream'](_0x5b791a,async _0x5d070a=>{const _0x304b6a=_0x2098e3;let _0x2eb743=_0x3057c6[_0x304b6a(0x1e7)](moderationLayer,promptLeakagePattern,_0x5d070a);_0xb92da5+=_0x2eb743,_0x3057c6[_0x304b6a(0x23d)](requestAnimationFrame,()=>{const _0x50f8f8=_0x304b6a;_0x424145[_0x50f8f8(0x286)]=_0xb92da5,messagesContainer[_0x50f8f8(0x27c)]=messagesContainer['scrollHeight'];}),isVoiceEnabled&&(_0x3ff65a+=_0x2eb743,!_0x46ea1f&&_0x3057c6[_0x304b6a(0x26c)](setTimeout,_0x4fe345,0x0));}),await conversationManager[_0x2098e3(0x20c)](_0xb92da5,_0x3057c6[_0x2098e3(0x27b)]),_0x3057c6[_0x2098e3(0x227)](isVoiceEnabled,_0x3ff65a)&&await speechProcessor[_0x2098e3(0x1e1)](_0x3ff65a);}catch(_0x581381){Logger[_0x2098e3(0x21d)](_0x3057c6[_0x2098e3(0x1e6)],_0x581381);const _0x3c7815=_0x3057c6[_0x2098e3(0x24f)];await conversationManager['addMessage'](_0x3c7815,'assistant'),_0x3057c6[_0x2098e3(0x23d)](updateMessagesUI,conversationManager[_0x2098e3(0x224)]()[_0x2098e3(0x239)]),_0x3057c6['FDQDa'](displayError,_0x3057c6['Njiue']);}}function moderationLayer(_0x5b8a33,_0x5c131e){const _0x1fe297=_0x95e787,_0x2d7e63={'pNNCx':function(_0x1deb8b,_0x1f6f0c,_0x24dac6){return _0x1deb8b(_0x1f6f0c,_0x24dac6);},'NeiuC':_0x1fe297(0x28c),'uYJXl':function(_0x572822,_0x1c6057,_0x34d2c0){return _0x572822(_0x1c6057,_0x34d2c0);}};if(_0x2d7e63[_0x1fe297(0x246)](exactMatch,_0x5b8a33,_0x5c131e))return _0x2d7e63[_0x1fe297(0x254)];if(_0x2d7e63[_0x1fe297(0x1ef)](semanticMatch,_0x5b8a33,_0x5c131e))return _0x2d7e63['NeiuC'];return _0x5c131e;}function exactMatch(_0x24d718,_0x1714a2){const _0x4f11eb=_0x95e787;return _0x1714a2[_0x4f11eb(0x243)]()[_0x4f11eb(0x229)](_0x24d718[_0x4f11eb(0x243)]());}function semanticMatch(_0x225e8e,_0x4411a5){const _0x3b9bf1=_0x95e787,_0x5d041a={'czyBR':function(_0x2bc33b,_0x243921){return _0x2bc33b>_0x243921;}},_0x188e2d=_0x225e8e[_0x3b9bf1(0x243)]()[_0x3b9bf1(0x219)]('\x20'),_0x1831cb=_0x4411a5['toLowerCase']()['split']('\x20'),_0x4468f3=_0x188e2d[_0x3b9bf1(0x21f)](_0xd8fd70=>_0x1831cb[_0x3b9bf1(0x229)](_0xd8fd70));return _0x5d041a[_0x3b9bf1(0x27a)](_0x4468f3['length'],0x3);}function setupExampleClickEvents(){const _0x2fc08f=_0x95e787,_0x5e1ab7={'GpsJJ':function(_0x24f248){return _0x24f248();},'KnpDO':'Example\x20clicked\x20with\x20text:','bkFZk':_0x2fc08f(0x200),'jZvLE':function(_0x43cc77,_0x54fa4e,_0x488c29){return _0x43cc77(_0x54fa4e,_0x488c29);},'MOShe':_0x2fc08f(0x1dd),'tBcYM':function(_0x3a5dc8,_0x45693c){return _0x3a5dc8(_0x45693c);},'wmbKK':_0x2fc08f(0x258),'ZePkz':_0x2fc08f(0x295),'livqI':_0x2fc08f(0x1fc),'xDAqV':_0x2fc08f(0x1ec),'qHrMK':function(_0x5b936f,_0x42696a){return _0x5b936f||_0x42696a;},'ZBhOK':_0x2fc08f(0x213),'GzVUz':_0x2fc08f(0x279)},_0xd739c3=document[_0x2fc08f(0x297)](_0x5e1ab7[_0x2fc08f(0x20a)]),_0x1af9b8=document[_0x2fc08f(0x297)](_0x5e1ab7[_0x2fc08f(0x23c)]),_0x1c8e39=document[_0x2fc08f(0x297)]('messageInput');console['log'](_0x2fc08f(0x210),_0xd739c3),console['log'](_0x5e1ab7[_0x2fc08f(0x248)],_0x1af9b8),console[_0x2fc08f(0x228)](_0x5e1ab7[_0x2fc08f(0x22b)],_0x1c8e39);if(_0x5e1ab7[_0x2fc08f(0x259)](!_0xd739c3,!_0x1af9b8)||!_0x1c8e39){console[_0x2fc08f(0x21d)](_0x5e1ab7[_0x2fc08f(0x267)]);return;}function _0x3e49a2(_0x41db0e){const _0x28b6e0=_0x2fc08f,_0x1b8c1f={'MtDUq':_0x28b6e0(0x22e),'lTuPc':function(_0x1197f2){const _0x4c054f=_0x28b6e0;return _0x5e1ab7[_0x4c054f(0x1da)](_0x1197f2);}},_0x50e354=_0x41db0e[_0x28b6e0(0x236)][_0x28b6e0(0x28a)]();console[_0x28b6e0(0x228)](_0x5e1ab7[_0x28b6e0(0x260)],_0x50e354),_0x1c8e39['value']=_0x50e354,_0x1c8e39[_0x28b6e0(0x294)](new Event(_0x5e1ab7[_0x28b6e0(0x20e)])),_0x5e1ab7['jZvLE'](setTimeout,()=>{const _0x248090=_0x28b6e0;console[_0x248090(0x228)](_0x1b8c1f[_0x248090(0x1d7)],_0x50e354),_0x1b8c1f[_0x248090(0x1e9)](sendMessage);},0x64);}_0xd739c3[_0x2fc08f(0x272)](_0x5e1ab7[_0x2fc08f(0x211)],()=>{const _0x3692ab=_0x2fc08f;console['log'](_0x5e1ab7[_0x3692ab(0x1f8)]),_0x5e1ab7['tBcYM'](_0x3e49a2,_0xd739c3);}),_0x1af9b8[_0x2fc08f(0x272)](_0x5e1ab7[_0x2fc08f(0x211)],()=>{const _0x3af816=_0x2fc08f;console[_0x3af816(0x228)](_0x3af816(0x251)),_0x3e49a2(_0x1af9b8);}),console[_0x2fc08f(0x228)](_0x2fc08f(0x20f));}document['addEventListener'](_0x95e787(0x255),async()=>{const _0x1a642a=_0x95e787,_0x59b69c={'mfIQZ':function(_0x4f9642){return _0x4f9642();},'FFdLM':function(_0x52f357){return _0x52f357();},'XTqQD':function(_0x34ece0){return _0x34ece0();},'ipMqM':function(_0x112f2e,_0x211e05){return _0x112f2e(_0x211e05);},'XzxDB':'Application\x20initialization\x20failed.\x20Some\x20features\x20may\x20be\x20limited.'};try{!conversationManager[_0x1a642a(0x224)]()&&conversationManager[_0x1a642a(0x20b)](),_0x59b69c[_0x1a642a(0x1db)](initializeSpeechManager),_0x59b69c[_0x1a642a(0x23b)](setupExampleClickEvents),_0x59b69c['XTqQD'](initializeAIModel);}catch(_0x4d7d3b){Logger[_0x1a642a(0x21d)](_0x1a642a(0x23e),_0x4d7d3b),_0x59b69c[_0x1a642a(0x223)](displayError,_0x59b69c[_0x1a642a(0x23f)]);}});document[_0x95e787(0x26b)]==='loading'?document[_0x95e787(0x272)]('DOMContentLoaded',setupExampleClickEvents):setupExampleClickEvents();if(sendButton)sendButton[_0x95e787(0x272)](_0x95e787(0x279),sendMessage);if(micButton)micButton[_0x95e787(0x272)](_0x95e787(0x279),toggleRecording);if(voiceButton)voiceButton[_0x95e787(0x272)](_0x95e787(0x279),toggleVoiceResponse);messageInput&&(messageInput[_0x95e787(0x272)]('keydown',_0x44e4da=>{const _0x401bbf=_0x95e787,_0x4a1587={'kBFxc':function(_0x52b709,_0x5bef15){return _0x52b709===_0x5bef15;},'bIgHr':_0x401bbf(0x225),'kYRgO':function(_0x6f4e21){return _0x6f4e21();}};_0x4a1587[_0x401bbf(0x281)](_0x44e4da[_0x401bbf(0x232)],_0x4a1587[_0x401bbf(0x290)])&&!_0x44e4da[_0x401bbf(0x215)]&&(_0x44e4da[_0x401bbf(0x247)](),_0x4a1587[_0x401bbf(0x1f5)](sendMessage));}),messageInput['addEventListener'](_0x95e787(0x200),toggleChatUI));newChatButton&&newChatButton[_0x95e787(0x272)](_0x95e787(0x279),()=>{const _0x311534=_0x95e787,_0xfed84e={'rKYeW':_0x311534(0x222),'hjGZX':_0x311534(0x23a)},_0x5cd877=_0xfed84e['rKYeW'][_0x311534(0x219)]('|');let _0x5bcb9f=0x0;while(!![]){switch(_0x5cd877[_0x5bcb9f++]){case'0':if(welcomeScreen)welcomeScreen[_0x311534(0x1f3)][_0x311534(0x1ee)]='flex';continue;case'1':if(messageInput)messageInput['value']='';continue;case'2':conversationManager[_0x311534(0x20b)]();continue;case'3':if(messagesContainer)messagesContainer[_0x311534(0x204)]='';continue;case'4':if(chatContainer)chatContainer[_0x311534(0x1f3)][_0x311534(0x1ee)]=_0xfed84e[_0x311534(0x241)];continue;}break;}});settingsButton&&settingsButton[_0x95e787(0x272)]('click',()=>{const _0x308984=_0x95e787,_0x21a1ac={'QtqRs':_0x308984(0x257)};window[_0x308984(0x1f6)][_0x308984(0x203)]=_0x21a1ac[_0x308984(0x1e5)];});export{conversationManager,sendMessage,initializeAIModel};