
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x504080=_0x431d;(function(_0x1eec05,_0x6a2d02){const _0x1530a9=_0x431d,_0x2672a9=_0x1eec05();while(!![]){try{const _0xdc28ef=parseInt(_0x1530a9(0x10c))/0x1+parseInt(_0x1530a9(0xaa))/0x2+-parseInt(_0x1530a9(0xea))/0x3*(parseInt(_0x1530a9(0x9f))/0x4)+-parseInt(_0x1530a9(0x10e))/0x5+-parseInt(_0x1530a9(0x90))/0x6*(parseInt(_0x1530a9(0x96))/0x7)+parseInt(_0x1530a9(0xeb))/0x8*(-parseInt(_0x1530a9(0x81))/0x9)+parseInt(_0x1530a9(0xc4))/0xa;if(_0xdc28ef===_0x6a2d02)break;else _0x2672a9['push'](_0x2672a9['shift']());}catch(_0x56d8ba){_0x2672a9['push'](_0x2672a9['shift']());}}}(_0x8775,0xc152c));import{BaseConversationManager}from'./baseConversationManager.js';import{Logger,displayError,showStatus}from'./common.js';import{AIAdapter}from'./aiAdapter.js';import{SpeechProcessor}from'./speechProcessor.js';const welcomeScreen=document[_0x504080(0x79)](_0x504080(0xd0)),chatContainer=document[_0x504080(0x79)](_0x504080(0xd4)),messagesContainer=document[_0x504080(0x79)]('messagesContainer'),messageInput=document['getElementById'](_0x504080(0x98)),sendButton=document[_0x504080(0x79)]('sendButton'),micButton=document[_0x504080(0x79)](_0x504080(0x94)),errorMessage=document[_0x504080(0x79)]('errorMessage'),loader=document[_0x504080(0x79)](_0x504080(0xec)),example1=document[_0x504080(0x79)](_0x504080(0xa5)),example2=document[_0x504080(0x79)](_0x504080(0xd5)),newChatButton=document[_0x504080(0x79)](_0x504080(0xf4)),settingsButton=document['getElementById'](_0x504080(0x7d)),inputContainer=document[_0x504080(0x7b)](_0x504080(0xd3));let speechProcessor,isVoiceEnabled=![];const promptLeakagePattern='You\x20are\x20a\x20friendly\x20teacher\x20who\x20uses\x20the\x20Feynman\x20Technique',systemRole1=_0x504080(0xb5)||AIAdapter['sessionConfig'][_0x504080(0xbd)],systemRole2=_0x504080(0xfb)||AIAdapter[_0x504080(0xa3)]['systemRole'],aiAdapter=new AIAdapter(_0x504080(0xe5));aiAdapter['systemRole']=systemRole1;const conversationManager=new BaseConversationManager(),voiceButton=document[_0x504080(0x79)]('voiceButton');function toggleChatUI(){const _0x3b1001=_0x504080,_0x3c3122={'xaBSC':_0x3b1001(0x6d),'DNmvZ':_0x3b1001(0xa2)};if(welcomeScreen)welcomeScreen[_0x3b1001(0x99)][_0x3b1001(0x8f)]=_0x3c3122[_0x3b1001(0xb8)];if(chatContainer)chatContainer[_0x3b1001(0x99)][_0x3b1001(0x8f)]=_0x3c3122[_0x3b1001(0xed)];if(inputContainer)inputContainer['style'][_0x3b1001(0x8f)]=_0x3c3122['DNmvZ'];if(messageInput)messageInput[_0x3b1001(0x109)]();}function _0x8775(){const _0x431e4a=['round','.input-container','chatContainer','example2','success','dispatchEvent','gtApY','key','includes','uFsCt','nfVIA','<div\x20class=\x22message-ai-avatar\x22><i\x20class=\x22fas\x20fa-robot\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-content\x22>','Example\x202\x20clicked','yTDTz','trim','EvUxC','PEefG','split','ybmJj','tinyllama-1.1b-chat-v0.4','AI\x20Model\x20Initialization\x20Started','toggle','error','Setting\x20up\x20example\x20clicks\x20-\x20example1:','69uPgEXW','5296dkjriK','loader','DNmvZ','PFYlK','PZvpR','scrollTop','aogTX','div','messages','newChatButton','ACybo','log','ehhnU','AI\x20Model\x20Loaded\x20Successfully','auto','I\x27m\x20sorry,\x20I\x20couldn\x27t\x20generate\x20a\x20response.\x20Please\x20try\x20again.','You\x20are\x20an\x20expert\x20teacher\x20who\x20uses\x20the\x20Feynman\x20Technique\x20to\x20help\x20users\x20deeply\x20understand\x20concepts.\x20For\x20any\x20topic\x20or\x20skill\x20presented:\x0aExplain\x20the\x20topic\x20in\x20the\x20simplest\x20terms\x20possible,\x20as\x20if\x20teaching\x20a\x20complete\x20beginner.\x0aAfter\x20explaining,\x20ask\x20simple,\x20direct\x20questions\x20to\x20test\x20the\x20user\x27s\x20understanding\x20-\x20focusing\x20on\x20the\x20\x27why\x27\x20and\x20\x27how\x27\x20behind\x20key\x20ideas.\x0aIf\x20gaps\x20in\x20understanding\x20emerge,\x20highlight\x20them\x20clearly\x20and\x20suggest\x20resources\x20or\x20examples\x20to\x20fill\x20those\x20gaps.\x0aEncourage\x20the\x20user\x20to\x20re-explain\x20the\x20concept\x20back\x20to\x20you\x20in\x20their\x20own\x20words,\x20guiding\x20them\x20gently\x20to\x20correct\x20any\x20errors\x20or\x20misconceptions.\x0a','length','</div>','data','AqOfg','MxpvL','LsmPq','Incorrect\x20ask.\x20Please\x20rephrase\x20your\x20query.','useBrowserAI','toLowerCase','add','SFegW','getCurrentConversation','settings.html','focus','lastIndexOf','indexOf','967323YagKsS','innerText','3448540JwpzTC','isInitialized','none','aGhyj','Failed\x20to\x20find\x20required\x20DOM\x20elements','stopRecording','UKLOu','<div\x20class=\x22message-content\x22>','ModelTypes','IOkDc','100%','Response\x20error:','QLFIF','width','getElementById','SoLca','querySelector','role','settingsButton','4|3|1|0|2','XFdYj','FqHAC','8784GhoFdS','nCEUO','click','CsyUo','FOQxX','classList','value','jPWni','preventDefault','forEach','engineWrapper','DqaAs','Example\x20clicked\x20with\x20text:','content','display','255414fheVHw','NULL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-ai-avatar\x22><i\x20class=\x22fas\x20fa-robot\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-content\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','loading','micButton','ohMSc','7GEjBOI','Initializing\x20AI\x20Model...','messageInput','style','mvYkE','QwETb','QzxqK','RqTFU','jkAOy','74216YIkqpX','DQQOX','Example\x201\x20clicked','flex','sessionConfig','oWetP','example1','message','Rsmvb','[handleExampleClick]\x20Now\x20sending\x20message:','BtlzN','2045298cyzxNe','nNcsr','DOMContentLoaded','nEAKi','remove','scrollHeight','Ynvyf','worker','izSlW','createElement','hPfay','You\x20are\x20a\x20friendly\x20teacher\x20who\x20uses\x20the\x20Feynman\x20Technique\x20to\x20make\x20any\x20topic\x20easy\x20to\x20understand.\x20\x0aWhen\x20someone\x20asks\x20about\x20a\x20concept:\x0aFirst\x20share\x20the\x20formal\x20definition\x20in\x201-3\x20sentences\x20when\x20possible.\x20If\x20the\x20concept\x20is\x20complex,\x20break\x20it\x20down\x20into\x20simple\x20parts\x20using\x20super\x20simple\x20terms,\x20like\x20you\x20are\x20teaching\x20a\x20beginner.\x0aAfter\x20explaining,\x20ask\x20a\x20few\x20easy,\x20direct\x20questions\x20to\x20check\x20if\x20they\x20really\x20get\x20it\x20\x20focus\x20on\x20the\x20\x27why\x27\x20and\x20\x27how.\x27\x0aIf\x20there\x27s\x20anything\x20they\x20seem\x20unsure\x20about,\x20point\x20it\x20out\x20and\x20suggest\x20simple\x20resources\x20or\x20examples\x20to\x20clear\x20it\x20up.\x0aEncourage\x20them\x20to\x20explain\x20the\x20idea\x20back\x20to\x20you\x20in\x20their\x20own\x20words,\x20and\x20help\x20fix\x20any\x20mistakes\x20or\x20gaps.\x0a','innerHTML','addMessage','xaBSC','Could\x20not\x20initialize\x20AI\x20model.\x20Falling\x20back\x20to\x20alternative\x20methods.','xaQsi','user','jHuGh','systemRole','readyState','DgtSp','Voice\x20response\x20enabled:','fRONF','height','addEventListener','6070110hBGBVy','UUuIE','Loading\x20model...','DJvMO','rRvuR','KkyMQ','cqMeM','shiftKey','speakText','recording','init','dGOYz','welcomeScreen','LBExC'];_0x8775=function(){return _0x431e4a;};return _0x8775();}function updateMessagesUI(_0x179570){const _0xa69268=_0x504080,_0x3c88fe={'nCEUO':_0xa69268(0xf2),'oXkSf':'message-user','PZvpR':function(_0x11577f,_0x376bdb){return _0x11577f===_0x376bdb;},'SFegW':_0xa69268(0xbb)};if(!messagesContainer)return;messagesContainer[_0xa69268(0xb6)]='',_0x179570[_0xa69268(0x8a)](_0xad4c6d=>{const _0x4dc4ab=_0xa69268,_0xf84257=document['createElement'](_0x3c88fe[_0x4dc4ab(0x82)]);_0xf84257['classList'][_0x4dc4ab(0x105)](_0x4dc4ab(0xa6),_0xad4c6d[_0x4dc4ab(0x7c)]===_0x4dc4ab(0xbb)?_0x3c88fe['oXkSf']:'message-ai'),_0xf84257['innerHTML']=_0x3c88fe[_0x4dc4ab(0xef)](_0xad4c6d[_0x4dc4ab(0x7c)],_0x3c88fe[_0x4dc4ab(0x106)])?_0x4dc4ab(0x72)+_0xad4c6d['content']+'</div>':_0x4dc4ab(0xdd)+_0xad4c6d[_0x4dc4ab(0x8e)]+_0x4dc4ab(0xfd),messagesContainer['appendChild'](_0xf84257);}),messagesContainer[_0xa69268(0xf0)]=messagesContainer[_0xa69268(0xaf)];}function initializeSpeechManager(){const _0x3b2dc4=_0x504080,_0x522e59={'dimSQ':function(_0x25c0b3,_0x2da11b){return _0x25c0b3===_0x2da11b;},'Ynvyf':'explicit','jkAOy':function(_0x5d5f42){return _0x5d5f42();}};speechProcessor=new SpeechProcessor({'onResult':(_0x14725f,_0x1817c5)=>{messageInput['value']=_0x14725f||_0x1817c5;},'onError':_0x34541d=>displayError(_0x34541d),'onSilence':_0x1e7159=>{const _0x46c156=_0x431d;(_0x522e59['dimSQ'](_0x1e7159,'auto')||_0x1e7159===_0x522e59[_0x46c156(0xb0)])&&_0x522e59[_0x46c156(0x9e)](sendMessage);},'onRecordingStart':()=>micButton['classList'][_0x3b2dc4(0x105)](_0x3b2dc4(0xcd)),'onRecordingStop':()=>micButton[_0x3b2dc4(0x86)][_0x3b2dc4(0xae)](_0x3b2dc4(0xcd)),'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}function toggleRecording(){const _0x338e82=_0x504080;speechProcessor['isRecording']?speechProcessor[_0x338e82(0x70)]():speechProcessor['startRecording']();}function toggleVoiceResponse(){const _0x2db8c6=_0x504080,_0x1f13db={'dGOYz':_0x2db8c6(0xc0),'DqaAs':'active'};isVoiceEnabled=!isVoiceEnabled,console[_0x2db8c6(0xf6)](_0x1f13db[_0x2db8c6(0xcf)],isVoiceEnabled),voiceButton[_0x2db8c6(0x86)][_0x2db8c6(0xe7)](_0x1f13db[_0x2db8c6(0x8c)],isVoiceEnabled);}async function initializeAIModel(){const _0x57aada=_0x504080,_0x2da336={'ACybo':_0x57aada(0x93),'rRvuR':function(_0x24fe42,_0x586b47,_0x3990c5){return _0x24fe42(_0x586b47,_0x3990c5);},'BtlzN':_0x57aada(0xd6),'IOkDc':_0x57aada(0xc6),'mvYkE':'progress','FOQxX':function(_0x588038,_0xe16a6c){return _0x588038*_0xe16a6c;},'nEAKi':function(_0x2d7104,_0x107d3f){return _0x2d7104||_0x107d3f;},'fRONF':function(_0x5d328d,_0x5dc700,_0xb466a8){return _0x5d328d(_0x5dc700,_0xb466a8);},'AqOfg':_0x57aada(0xf8),'cwdvt':_0x57aada(0x75),'ehhnU':_0x57aada(0xe8),'ybmJj':_0x57aada(0x97),'jPWni':_0x57aada(0xa6),'Rsmvb':_0x57aada(0xe6),'VxwSa':'AI\x20Model\x20Initialization\x20Error:','QwETb':function(_0x1aafef,_0x37d517){return _0x1aafef(_0x37d517);},'PEefG':_0x57aada(0xb9)};_0x2da336[_0x57aada(0xc1)](showStatus,_0x2da336[_0x57aada(0xa9)],_0x2da336[_0x57aada(0xe4)]);function _0x17ed1c(_0x363a2c){const _0x2d5ae2=_0x57aada,{status:_0x2623a1,message:_0x4de5b4,stage:_0x51ce5c,progress:_0x13e9da}=_0x363a2c[_0x2d5ae2(0xfe)];console[_0x2d5ae2(0xf6)]('[AI\x20Model\x20Initialization]',_0x2623a1,_0x4de5b4);switch(_0x2623a1){case _0x2da336[_0x2d5ae2(0xf5)]:_0x2da336['rRvuR'](showStatus,_0x2da336[_0x2d5ae2(0xa9)],_0x4de5b4||_0x2da336[_0x2d5ae2(0x74)]);break;case _0x2da336[_0x2d5ae2(0x9a)]:const _0x1e1075=Math[_0x2d5ae2(0xd2)](_0x2da336[_0x2d5ae2(0x85)](_0x2da336[_0x2d5ae2(0xad)](_0x13e9da,0x0),0x64));_0x2da336['fRONF'](showStatus,_0x2d5ae2(0xd6),'Loading\x20'+_0x51ce5c+':\x20'+_0x1e1075+'%');break;case _0x2da336[_0x2d5ae2(0xa9)]:_0x2da336[_0x2d5ae2(0xc1)](showStatus,_0x2da336['BtlzN'],_0x2da336[_0x2d5ae2(0xff)]);aiModelProgressBar&&(aiModelProgressBar[_0x2d5ae2(0x99)][_0x2d5ae2(0x78)]=_0x2da336['cwdvt']);break;case _0x2da336[_0x2d5ae2(0xf7)]:_0x2da336['rRvuR'](showStatus,_0x2d5ae2(0xe8),'Model\x20Load\x20Failed:\x20'+_0x4de5b4);break;}}aiAdapter[_0x57aada(0x8b)]['worker']&&aiAdapter['engineWrapper'][_0x57aada(0xb1)][_0x57aada(0xc3)](_0x2da336[_0x57aada(0x88)],_0x17ed1c);try{const _0x2c463e=await aiAdapter[_0x57aada(0xce)]();return showStatus(_0x2da336[_0x57aada(0xa9)],_0x2da336[_0x57aada(0xa7)]),{'success':!![],'modelType':aiAdapter['modelType']};}catch(_0x3a03df){return console[_0x57aada(0xe8)](_0x2da336['VxwSa'],_0x3a03df),_0x2da336[_0x57aada(0xc8)](showStatus,_0x2da336[_0x57aada(0xf7)],'Initialization\x20Failed:\x20'+_0x3a03df[_0x57aada(0xa6)]),_0x2da336[_0x57aada(0x9b)](displayError,_0x2da336[_0x57aada(0xe2)]),{'success':![],'modelType':AIAdapter[_0x57aada(0x73)][_0x57aada(0x91)]};}}async function sendMessage(){const _0x1b9d9c=_0x504080,_0x4ba9b0={'aogTX':function(_0xab0cb1,_0x22392b){return _0xab0cb1||_0x22392b;},'DJvMO':function(_0x4d0330,_0x13351f){return _0x4d0330!==_0x13351f;},'QzxqK':function(_0x18ef2a,_0x17855b){return _0x18ef2a+_0x17855b;},'oWetP':function(_0x45a794,_0x421ecf){return _0x45a794===_0x421ecf;},'SoLca':function(_0x6d0ee3,_0x4ed919){return _0x6d0ee3>_0x4ed919;},'cqMeM':function(_0x55048c,_0x550c01){return _0x55048c!==_0x550c01;},'SIGPZ':function(_0x565e67,_0xb2d6cc){return _0x565e67+_0xb2d6cc;},'ohMSc':function(_0x471dee,_0x36a7d8){return _0x471dee+_0x36a7d8;},'uFsCt':function(_0x17e2e8,_0x71a1f8){return _0x17e2e8(_0x71a1f8);},'EvUxC':function(_0x492408){return _0x492408();},'UUuIE':_0x1b9d9c(0xbb),'wgvQZ':function(_0xb0c529,_0x1f238e){return _0xb0c529(_0x1f238e);},'nNcsr':'system','RqTFU':_0x1b9d9c(0xf2),'avMcG':'message','izSlW':'assistant','aGhyj':function(_0x2e0b06,_0x359589){return _0x2e0b06&&_0x359589;},'yTDTz':_0x1b9d9c(0xfa),'FqHAC':function(_0x5223cd,_0x2b7f46){return _0x5223cd(_0x2b7f46);}};!speechProcessor&&initializeSpeechManager();const _0x4c70fd=messageInput['value']['trim']();if(!_0x4c70fd)return;_0x4ba9b0[_0x1b9d9c(0xe1)](toggleChatUI),await conversationManager[_0x1b9d9c(0xb7)](_0x4c70fd,_0x4ba9b0[_0x1b9d9c(0xc5)]);const _0x29c114=await conversationManager[_0x1b9d9c(0x107)]();_0x4ba9b0['wgvQZ'](updateMessagesUI,_0x29c114[_0x1b9d9c(0xf3)]),messageInput[_0x1b9d9c(0x87)]='',messageInput[_0x1b9d9c(0x99)][_0x1b9d9c(0xc2)]=_0x1b9d9c(0xf9);try{if(!aiAdapter[_0x1b9d9c(0x6c)]&&!aiAdapter[_0x1b9d9c(0x103)]){const _0x1fc531=await _0x4ba9b0[_0x1b9d9c(0xe1)](initializeAIModel);if(!_0x1fc531['success'])throw new Error('[sendMessage]\x20Failed\x20to\x20initialize\x20AI\x20model');}const _0x77ad1a=[{'role':_0x4ba9b0[_0x1b9d9c(0xab)],'content':systemRole1},..._0x29c114['messages']];let _0x145511='',_0x686202='',_0x25ed37=![];const _0x5673d9=document[_0x1b9d9c(0xb3)](_0x4ba9b0[_0x1b9d9c(0x9d)]);_0x5673d9[_0x1b9d9c(0x86)][_0x1b9d9c(0x105)](_0x4ba9b0['avMcG'],'message-ai'),_0x5673d9['innerHTML']=_0x1b9d9c(0x92),messagesContainer['appendChild'](_0x5673d9);const _0x4f56ef=_0x5673d9[_0x1b9d9c(0x7b)]('.message-content'),_0x5116ba=async()=>{const _0x1d9cc5=_0x1b9d9c;if(_0x4ba9b0[_0x1d9cc5(0xf1)](!_0x686202,!isVoiceEnabled))return;const _0x3eab6d=['.\x20','!\x20','?\x20',';\x20',':\x20','\x0a\x0a'];let _0x2761b9=-0x1;for(const _0x3ab778 of _0x3eab6d){const _0x8dc8e6=_0x686202[_0x1d9cc5(0x10b)](_0x3ab778);if(_0x4ba9b0[_0x1d9cc5(0xc7)](_0x8dc8e6,-0x1)){_0x2761b9=_0x4ba9b0[_0x1d9cc5(0x9c)](_0x8dc8e6,_0x3ab778[_0x1d9cc5(0xfc)]);break;}}if(_0x4ba9b0[_0x1d9cc5(0xa4)](_0x2761b9,-0x1)&&_0x4ba9b0[_0x1d9cc5(0x7a)](_0x686202[_0x1d9cc5(0xfc)],0x50)){const _0x30caf6=_0x686202[_0x1d9cc5(0x10b)](',\x20');if(_0x4ba9b0[_0x1d9cc5(0xca)](_0x30caf6,-0x1))_0x2761b9=_0x4ba9b0['SIGPZ'](_0x30caf6,0x2);else{const _0x4a25d8=_0x686202[_0x1d9cc5(0x10a)]('\x20',0x50);_0x4ba9b0[_0x1d9cc5(0x7a)](_0x4a25d8,0x28)&&(_0x2761b9=_0x4ba9b0[_0x1d9cc5(0x95)](_0x4a25d8,0x1));}}if(_0x4ba9b0[_0x1d9cc5(0xc7)](_0x2761b9,-0x1)){const _0x35d8ba=_0x686202['substring'](0x0,_0x2761b9);_0x686202=_0x686202['substring'](_0x2761b9),_0x25ed37=!![],await speechProcessor[_0x1d9cc5(0xcc)](_0x35d8ba),_0x25ed37=![],await _0x5116ba();}else{if(_0x4ba9b0[_0x1d9cc5(0x7a)](_0x686202['length'],0x78)){const _0x58973e=_0x686202;_0x686202='',_0x25ed37=!![],await speechProcessor['speakText'](_0x58973e),_0x25ed37=![];}}};await aiAdapter['generateResponseStream'](_0x77ad1a,async _0x292ae3=>{const _0x69ce56=_0x1b9d9c;let _0x399baf=moderationLayer(promptLeakagePattern,_0x292ae3);_0x145511+=_0x399baf,_0x4ba9b0[_0x69ce56(0xdb)](requestAnimationFrame,()=>{const _0x2f1866=_0x69ce56;_0x4f56ef['textContent']=_0x145511,messagesContainer['scrollTop']=messagesContainer[_0x2f1866(0xaf)];}),isVoiceEnabled&&(_0x686202+=_0x399baf,!_0x25ed37&&setTimeout(_0x5116ba,0x0));}),await conversationManager['addMessage'](_0x145511,_0x4ba9b0[_0x1b9d9c(0xb2)]),_0x4ba9b0[_0x1b9d9c(0x6e)](isVoiceEnabled,_0x686202)&&await speechProcessor[_0x1b9d9c(0xcc)](_0x686202);}catch(_0x28f470){Logger['error'](_0x1b9d9c(0x76),_0x28f470);const _0x9188d0=_0x4ba9b0[_0x1b9d9c(0xdf)];await conversationManager[_0x1b9d9c(0xb7)](_0x9188d0,_0x4ba9b0['izSlW']),updateMessagesUI(conversationManager[_0x1b9d9c(0x107)]()[_0x1b9d9c(0xf3)]),_0x4ba9b0[_0x1b9d9c(0x80)](displayError,'Unable\x20to\x20send\x20message.\x20Please\x20check\x20your\x20connection\x20and\x20try\x20again.');}}function moderationLayer(_0x41623f,_0x47b21d){const _0x34e9ab=_0x504080,_0x4aacf7={'nfVIA':_0x34e9ab(0x102),'YWRmt':function(_0x56477c,_0xe660c9,_0x265421){return _0x56477c(_0xe660c9,_0x265421);}};if(exactMatch(_0x41623f,_0x47b21d))return _0x4aacf7[_0x34e9ab(0xdc)];if(_0x4aacf7['YWRmt'](semanticMatch,_0x41623f,_0x47b21d))return _0x34e9ab(0x102);return _0x47b21d;}function exactMatch(_0x38886a,_0x34e216){const _0x2c0d74=_0x504080;return _0x34e216[_0x2c0d74(0x104)]()[_0x2c0d74(0xda)](_0x38886a[_0x2c0d74(0x104)]());}function semanticMatch(_0x2c77fa,_0x39e314){const _0x294d0c=_0x504080,_0x4f8f99={'wLiOn':function(_0x403bb3,_0xe114e7){return _0x403bb3>_0xe114e7;}},_0x33adba=_0x2c77fa[_0x294d0c(0x104)]()['split']('\x20'),_0x139502=_0x39e314[_0x294d0c(0x104)]()['split']('\x20'),_0x50da84=_0x33adba['filter'](_0x4ed922=>_0x139502['includes'](_0x4ed922));return _0x4f8f99['wLiOn'](_0x50da84[_0x294d0c(0xfc)],0x3);}function setupExampleClickEvents(){const _0x26a7c0=_0x504080,_0x2820be={'QLFIF':_0x26a7c0(0xa8),'hdoEy':function(_0x21bde6){return _0x21bde6();},'xWqao':_0x26a7c0(0x8d),'QXWFB':_0x26a7c0(0x109),'LBExC':function(_0x33eff9,_0x5c66f7,_0x209b0f){return _0x33eff9(_0x5c66f7,_0x209b0f);},'jHuGh':_0x26a7c0(0xa1),'gtApY':_0x26a7c0(0xde),'XFdYj':function(_0x5a0e33,_0x2493d0){return _0x5a0e33(_0x2493d0);},'CsyUo':_0x26a7c0(0x98),'QkXVl':_0x26a7c0(0xe9),'Scdvy':'Setting\x20up\x20example\x20clicks\x20-\x20example2:','UKLOu':function(_0x500907,_0x56ba4e){return _0x500907||_0x56ba4e;},'MxpvL':_0x26a7c0(0x6f),'LsmPq':_0x26a7c0(0x83),'KkyMQ':'Example\x20click\x20handlers\x20have\x20been\x20set\x20up'},_0x1ac0c5=document[_0x26a7c0(0x79)](_0x26a7c0(0xa5)),_0x677aea=document[_0x26a7c0(0x79)](_0x26a7c0(0xd5)),_0x43ec0c=document[_0x26a7c0(0x79)](_0x2820be[_0x26a7c0(0x84)]);console[_0x26a7c0(0xf6)](_0x2820be['QkXVl'],_0x1ac0c5),console[_0x26a7c0(0xf6)](_0x2820be['Scdvy'],_0x677aea),console[_0x26a7c0(0xf6)]('Setting\x20up\x20example\x20clicks\x20-\x20messageInput:',_0x43ec0c);if(_0x2820be[_0x26a7c0(0x71)](!_0x1ac0c5,!_0x677aea)||!_0x43ec0c){console[_0x26a7c0(0xe8)](_0x2820be[_0x26a7c0(0x100)]);return;}function _0x52bb19(_0x908104){const _0x36d3fe=_0x26a7c0,_0x5e4eee=_0x908104[_0x36d3fe(0x10d)][_0x36d3fe(0xe0)]();console['log'](_0x2820be['xWqao'],_0x5e4eee),_0x43ec0c['value']=_0x5e4eee,_0x43ec0c[_0x36d3fe(0xd7)](new Event(_0x2820be['QXWFB'])),_0x2820be[_0x36d3fe(0xd1)](setTimeout,()=>{const _0x6adba3=_0x36d3fe;console[_0x6adba3(0xf6)](_0x2820be[_0x6adba3(0x77)],_0x5e4eee),_0x2820be['hdoEy'](sendMessage);},0x64);}_0x1ac0c5[_0x26a7c0(0xc3)](_0x2820be[_0x26a7c0(0x101)],()=>{const _0x4c88f0=_0x26a7c0;console[_0x4c88f0(0xf6)](_0x2820be[_0x4c88f0(0xbc)]),_0x52bb19(_0x1ac0c5);}),_0x677aea['addEventListener'](_0x26a7c0(0x83),()=>{const _0x38de70=_0x26a7c0;console['log'](_0x2820be[_0x38de70(0xd8)]),_0x2820be[_0x38de70(0x7f)](_0x52bb19,_0x677aea);}),console[_0x26a7c0(0xf6)](_0x2820be[_0x26a7c0(0xc9)]);}document[_0x504080(0xc3)]('DOMContentLoaded',async()=>{const _0x5091e1=_0x504080,_0x5884e9={'xaQsi':function(_0x269c46){return _0x269c46();},'DgtSp':function(_0x4aa35e){return _0x4aa35e();},'hPfay':'Initialization\x20failed','PFYlK':function(_0x44e87f,_0x253260){return _0x44e87f(_0x253260);},'PwjiT':'Application\x20initialization\x20failed.\x20Some\x20features\x20may\x20be\x20limited.'};try{!conversationManager[_0x5091e1(0x107)]()&&conversationManager['createNewConversation'](),initializeSpeechManager(),_0x5884e9[_0x5091e1(0xba)](setupExampleClickEvents),_0x5884e9[_0x5091e1(0xbf)](initializeAIModel);}catch(_0x4e906b){Logger[_0x5091e1(0xe8)](_0x5884e9[_0x5091e1(0xb4)],_0x4e906b),_0x5884e9[_0x5091e1(0xee)](displayError,_0x5884e9['PwjiT']);}});function _0x431d(_0x276a53,_0x14ca0f){const _0x877529=_0x8775();return _0x431d=function(_0x431d8f,_0x14476e){_0x431d8f=_0x431d8f-0x6c;let _0x21b0c1=_0x877529[_0x431d8f];return _0x21b0c1;},_0x431d(_0x276a53,_0x14ca0f);}document[_0x504080(0xbe)]===_0x504080(0x93)?document['addEventListener'](_0x504080(0xac),setupExampleClickEvents):setupExampleClickEvents();if(sendButton)sendButton['addEventListener'](_0x504080(0x83),sendMessage);if(micButton)micButton['addEventListener'](_0x504080(0x83),toggleRecording);if(voiceButton)voiceButton[_0x504080(0xc3)]('click',toggleVoiceResponse);messageInput&&(messageInput[_0x504080(0xc3)]('keydown',_0x36e533=>{const _0x3f7b62=_0x504080,_0x5da972={'LjFyn':function(_0x379e61,_0x35d560){return _0x379e61===_0x35d560;},'myBkV':'Enter'};_0x5da972['LjFyn'](_0x36e533[_0x3f7b62(0xd9)],_0x5da972['myBkV'])&&!_0x36e533[_0x3f7b62(0xcb)]&&(_0x36e533[_0x3f7b62(0x89)](),sendMessage());}),messageInput[_0x504080(0xc3)]('focus',toggleChatUI));newChatButton&&newChatButton[_0x504080(0xc3)]('click',()=>{const _0x238a2f=_0x504080,_0x9c3e1f={'DQQOX':_0x238a2f(0x6d)},_0x5a74e3=_0x238a2f(0x7e)[_0x238a2f(0xe3)]('|');let _0x976ea6=0x0;while(!![]){switch(_0x5a74e3[_0x976ea6++]){case'0':if(chatContainer)chatContainer[_0x238a2f(0x99)][_0x238a2f(0x8f)]=_0x9c3e1f[_0x238a2f(0xa0)];continue;case'1':if(welcomeScreen)welcomeScreen[_0x238a2f(0x99)][_0x238a2f(0x8f)]=_0x238a2f(0xa2);continue;case'2':if(messageInput)messageInput[_0x238a2f(0x87)]='';continue;case'3':if(messagesContainer)messagesContainer['innerHTML']='';continue;case'4':conversationManager['createNewConversation']();continue;}break;}});settingsButton&&settingsButton[_0x504080(0xc3)](_0x504080(0x83),()=>{const _0x2478a3=_0x504080;window['location']['href']=_0x2478a3(0x108);});export{conversationManager,sendMessage,initializeAIModel};