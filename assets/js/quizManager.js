
/*!
Copyright ¬© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x117dd4=_0x2a83;function _0x32d8(){const _0x19ff88=['compareAnswer','.input-container','insertBefore','No\x20answer\x20provided','percentageMatch','Could\x20use\x20AI\x20to\x20extract\x20Q&A\x20pairs\x20from\x20unstructured\x20text','isArray','</span>','system','add','none','Try\x20again\x20ü§î','question','sRuXY','‚ùå\x20JSON\x20Parse\x20Error:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Question\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','nZykl','good','188rVFxUK','KPMyM','\x0a\x20\x20\x20\x20\x20\x20<h3>Complete\x20Answer:</h3>\x0a\x20\x20\x20\x20\x20\x20<p>','stringify','BeTzM','replace','resultDisplay','2|3|4|0|1|5','includes','setupEventListeners','fontWeight','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22returnToChatButton\x22\x20class=\x22next-button\x22>Return\x20to\x20Chat</button>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22rating\x20','isQuizFormat','RBskq','parseQuizQuestions','XXMaf','resetAccumulatedText','No\x20response\x20detected,\x20resuming\x20recording.','gpsNr','bold','xdKIa','You\x20are\x20an\x20advanced\x20answer\x20comparison\x20assistant.\x20Analyze\x20the\x20user\x27s\x20answer\x20against\x20the\x20correct\x20answer\x20by\x20identifying\x20main\x20points,\x20calculating\x20a\x20percentage\x20match,\x20and\x20highlighting\x20similarities\x20and\x20differences.\x20Provide\x20structured\x20feedback\x20in\x20JSON\x20format.','loader','55kRJpcU','block','RXJsZ','correct-answer-display','feedback','result-display','QbnTz','iBjVy','\x0aA.','27291UxEGgM','asJxq','Good!\x20üëç','<div\x20class=\x22summary-container\x22>','excellent','timeoutMessage','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Your\x20answer:</strong>\x20','Answer\x20comparison\x20error:','micButton','animation','next-button','üí¨\x20User\x20Answer\x20being\x20sent\x20for\x20comparison:','push','askForConfirmation','userAnswers','JlKBx','CUDsj','showAutoAdvancePrompt','init','Sorry,\x20there\x20was\x20an\x20error\x20analyzing\x20your\x20answer.','border','AcuXD','accumulatedAnswer','9SFFjOy','UIaJI','quizCompleted','1266QKkgMI','msBib','Nyued','generateQuizSummary','14kMcgCI','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-percent\x22>','mgICl','RbUMq','</h2>\x0a\x20\x20\x20\x20\x20\x20<p>','appendChild','quizContainer','FpphC','length','OK\x20üëå','878456RpxEKn','DbXqm','match','LZmSh','%\x20Match</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>','displayResults','split','blink\x201s\x20infinite','Moesz','style','\x0a\x20\x20\x20\x20\x20\x20<h2>Question\x20','message','log','TFyKd','user-answer-display','answer','AfByq','BuoDo','ckfgk','Raw\x20quiz\x20input:','KqQDd','chatContainer','startConfirmationRecognition','pyRHF','display','No\x20response\x20detected.\x20Click\x20Yes\x20or\x20No.','classList','wordCount','zphwJ','recording','zHmgv','trim','JTcym','innerText','fWjLI','error','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>','\x5c$&','IBEUL','pcLJh','npAkh','\x0a\x20\x20\x20\x20\x20\x20<p>Done?</p>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22confirmation-buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22yesButton\x22\x20class=\x22confirm-button\x22>Yes</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22noButton\x22\x20class=\x22confirm-button\x22>No</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','yplRP','mwnhA','yesButton','addEventListener','flex','\x0a\x20\x20\x20\x20\x20\x20<h2>Quiz\x20Completed!</h2>\x0a\x20\x20\x20\x20\x20\x20<p>You\x27ve\x20completed\x20all\x20','welcomeScreen','pIqkE','#dc3545','SUqUc','getAccumulatedText','</p>\x0a\x20\x20\x20\x20','loaderElement','startRecording','aiAdapter','missingPoints','Fkyqe','okRpY','yhAAf','3364212XZSqoF','auto','isPaused','WCSxS','</div>','poor','Compare\x20the\x20following\x20answers:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20User\x27s\x20answer:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pqXJm','confirmAnswerCompletion','\x20of\x20','YBxAX','explicit','<strong>Your\x20answer:</strong>\x20','returnToChatButton','createElement','30|18|23|31|5|0|29|21|25|15|34|3|10|1|33|24|11|13|12|27|14|9|32|2|19|4|17|20|28|26|8|16|6|7|22','HhgvZ','loadCurrentQuestion','\x0aAnswer.','confirmation-prompt','confirmationPrompt','nextButton','div','button','quiz-container','stopRecording','speechProcessor','userAnswerDisplay','remove','95sptwLM','Answer:','EgvsQ','49eeiAKe','eventListeners','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Please\x20return\x20a\x20JSON\x20object\x20with\x20the\x20following\x20fields:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20percentageMatch\x20(number):\x20Percentage\x20of\x20key\x20points\x20covered\x20by\x20the\x20user.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20feedback\x20(string):\x20Constructive\x20feedback\x20on\x20strengths\x20and\x20areas\x20to\x20improve.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20missingPoints\x20(array\x20of\x20strings):\x20Key\x20points\x20not\x20mentioned\x20by\x20the\x20user.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20similarities\x20(array\x20of\x20strings):\x20Important\x20points\x20both\x20answers\x20share.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20differences\x20(array\x20of\x20strings):\x20Notable\x20differences\x20in\x20content\x20or\x20emphasis.','click','bnVSh','currentQuestionIndex','10370190ZivYWS','emit','innerHTML','OPQxd','PTcqL','.container','forEach','CDthj','qYfpF','Excellent!\x20üéâ','correctAnswerDisplay','13148265xmRTrM','356898eWrRYU','uqoCy','zzdBw','createUIElements','hRGvG','questionDisplay','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Correct\x20answer:</strong>\x20','test','hlRDI','UxGgb','Failed\x20to\x20parse\x20AI\x20response\x20as\x20JSON:','VXBEM','‚úÖ\x20Correct\x20Answer\x20being\x20sent\x20for\x20comparison:','initializeSpeechManager','BJXUK','speakText','parse','KNDlb','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Q:</strong>\x20','aSLOC','querySelector','noButton','HDnxe','generateResponse','bBHDf','nextQuestion','<strong>Your\x20answer:</strong>\x20<em>(Speak\x20now...)</em>','BwFBe','deLfR','finishQuiz','AnUet','WXJRl','1508wDtcUX','xrWBD','gnNDp','currentQuiz','‚ùå\x20Compare\x20Answer\x20Error:','kyIwo','PNhWe','color','textContent','Failed\x20to\x20parse\x20quiz\x20questions:','getElementById','YTwxn','questions'];_0x32d8=function(){return _0x19ff88;};return _0x32d8();}function _0x2a83(_0x167368,_0x59ec69){const _0x32d88d=_0x32d8();return _0x2a83=function(_0x2a83a8,_0x3dafa6){_0x2a83a8=_0x2a83a8-0x1d7;let _0x2acf5c=_0x32d88d[_0x2a83a8];return _0x2acf5c;},_0x2a83(_0x167368,_0x59ec69);}(function(_0x27cd6a,_0x1e83e8){const _0x387229=_0x2a83,_0x206305=_0x27cd6a();while(!![]){try{const _0x16d70f=-parseInt(_0x387229(0x274))/0x1*(parseInt(_0x387229(0x219))/0x2)+-parseInt(_0x387229(0x25a))/0x3*(-parseInt(_0x387229(0x239))/0x4)+parseInt(_0x387229(0x1e4))/0x5*(parseInt(_0x387229(0x1f9))/0x6)+parseInt(_0x387229(0x1e7))/0x7*(parseInt(_0x387229(0x282))/0x8)+-parseInt(_0x387229(0x271))/0x9*(parseInt(_0x387229(0x1ed))/0xa)+parseInt(_0x387229(0x251))/0xb*(parseInt(_0x387229(0x2bf))/0xc)+-parseInt(_0x387229(0x1f8))/0xd*(parseInt(_0x387229(0x278))/0xe);if(_0x16d70f===_0x1e83e8)break;else _0x206305['push'](_0x206305['shift']());}catch(_0x4e7d3e){_0x206305['push'](_0x206305['shift']());}}}(_0x32d8,0xb10a0));import{displayError,Logger}from'./common.js';import{aiAdapter}from'./aiAdapter.js';import{SpeechProcessor}from'./speechProcessor.js';export class QuizManager{constructor(_0x2d732c={}){const _0xf913a3=_0x2a83;this[_0xf913a3(0x26b)]=_0x2d732c[_0xf913a3(0x26b)]||null,this[_0xf913a3(0x2ba)]=aiAdapter,this[_0xf913a3(0x21c)]={'questions':[],'currentQuestionIndex':0x0,'userAnswers':[],'isRecording':![],'recordingTimeout':null,'minimumWordCount':0x5,'wordCount':0x0,'accumulatedAnswer':''},this[_0xf913a3(0x27e)]=null,this[_0xf913a3(0x1fe)]=null,this[_0xf913a3(0x1e2)]=null,this[_0xf913a3(0x23f)]=null,this[_0xf913a3(0x1f7)]=null,this[_0xf913a3(0x1dc)]=null,this[_0xf913a3(0x1db)]=null,this[_0xf913a3(0x2c1)]=![],this[_0xf913a3(0x1e1)]=null,this[_0xf913a3(0x1e8)]={};}async['init'](){const _0x450137=_0x2a83,_0x2b89b6={'QFtPW':'loader','QbnTz':'QuizManager\x20initialized'},_0x493f7c=_0x450137(0x240)[_0x450137(0x288)]('|');let _0x5b7378=0x0;while(!![]){switch(_0x493f7c[_0x5b7378++]){case'0':this['setupEventListeners']();continue;case'1':this[_0x450137(0x2b8)]=document[_0x450137(0x223)](_0x2b89b6['QFtPW']);continue;case'2':await this[_0x450137(0x2ba)][_0x450137(0x26c)]();continue;case'3':this['createUIElements']();continue;case'4':this[_0x450137(0x206)]();continue;case'5':console[_0x450137(0x28e)](_0x2b89b6[_0x450137(0x257)]);continue;}break;}}[_0x117dd4(0x1fc)](){const _0x483ef8=_0x117dd4,_0x57c52c={'SUqUc':_0x483ef8(0x2ce),'yhAAf':_0x483ef8(0x230),'AcuXD':'div','HLHBy':_0x483ef8(0x23f),'sRuXY':_0x483ef8(0x1da),'aSLOC':_0x483ef8(0x264),'lnnKI':_0x483ef8(0x254),'qYfpF':'Next\x20Question','fWjLI':_0x483ef8(0x290),'Fkyqe':_0x483ef8(0x27e),'zHmgv':_0x483ef8(0x1db),'asJxq':_0x483ef8(0x227),'xATzk':_0x483ef8(0x1df),'PTcqL':_0x483ef8(0x1f7),'pIqkE':_0x483ef8(0x1e2),'KNDlb':'question-display'},_0x27ec77=_0x57c52c[_0x483ef8(0x2b5)][_0x483ef8(0x288)]('|');let _0x1f074c=0x0;while(!![]){switch(_0x27ec77[_0x1f074c++]){case'0':this[_0x483ef8(0x1fe)]['id']=_0x483ef8(0x1fe);continue;case'1':this[_0x483ef8(0x23f)]['style']['display']=_0x57c52c['yhAAf'];continue;case'2':this[_0x483ef8(0x1db)]=document[_0x483ef8(0x2cd)](_0x57c52c['AcuXD']);continue;case'3':this['resultDisplay']['id']=_0x57c52c['HLHBy'];continue;case'4':this['confirmationPrompt'][_0x483ef8(0x29c)][_0x483ef8(0x22f)](_0x57c52c[_0x483ef8(0x233)]);continue;case'5':this[_0x483ef8(0x1fe)]=document[_0x483ef8(0x2cd)](_0x57c52c[_0x483ef8(0x26f)]);continue;case'6':this[_0x483ef8(0x27e)][_0x483ef8(0x27d)](this[_0x483ef8(0x1f7)]);continue;case'7':this['quizContainer']['appendChild'](this[_0x483ef8(0x1dc)]);continue;case'8':this[_0x483ef8(0x27e)]['appendChild'](this[_0x483ef8(0x1db)]);continue;case'9':this[_0x483ef8(0x1dc)]['classList']['add'](_0x57c52c[_0x483ef8(0x20c)]);continue;case'10':this[_0x483ef8(0x23f)][_0x483ef8(0x29c)]['add'](_0x483ef8(0x256));continue;case'11':this[_0x483ef8(0x1f7)]['classList'][_0x483ef8(0x22f)](_0x57c52c['lnnKI']);continue;case'12':this[_0x483ef8(0x1dc)]=document[_0x483ef8(0x2cd)](_0x483ef8(0x1de));continue;case'13':this[_0x483ef8(0x1f7)][_0x483ef8(0x28b)][_0x483ef8(0x29a)]=_0x483ef8(0x230);continue;case'14':this[_0x483ef8(0x1dc)][_0x483ef8(0x221)]=_0x57c52c[_0x483ef8(0x1f5)];continue;case'15':this[_0x483ef8(0x1e2)]['classList'][_0x483ef8(0x22f)](_0x57c52c[_0x483ef8(0x2a4)]);continue;case'16':this[_0x483ef8(0x27e)]['appendChild'](this[_0x483ef8(0x23f)]);continue;case'17':this[_0x483ef8(0x1db)][_0x483ef8(0x1ef)]=_0x483ef8(0x2ab);continue;case'18':this['quizContainer']['id']=_0x57c52c[_0x483ef8(0x2bc)];continue;case'19':this[_0x483ef8(0x1db)]['id']=_0x57c52c[_0x483ef8(0x2a0)];continue;case'20':this[_0x483ef8(0x1db)][_0x483ef8(0x28b)][_0x483ef8(0x29a)]=_0x57c52c[_0x483ef8(0x2be)];continue;case'21':this['userAnswerDisplay']=document['createElement'](_0x57c52c['AcuXD']);continue;case'22':document[_0x483ef8(0x20d)](_0x483ef8(0x1f2))[_0x483ef8(0x228)](this[_0x483ef8(0x27e)],document[_0x483ef8(0x20d)](_0x57c52c[_0x483ef8(0x25b)]));continue;case'23':this['quizContainer'][_0x483ef8(0x29c)]['add'](_0x57c52c['xATzk']);continue;case'24':this[_0x483ef8(0x1f7)]['id']=_0x57c52c[_0x483ef8(0x1f1)];continue;case'25':this[_0x483ef8(0x1e2)]['id']=_0x57c52c[_0x483ef8(0x2b3)];continue;case'26':this['quizContainer']['appendChild'](this[_0x483ef8(0x1e2)]);continue;case'27':this['nextButton']['id']=_0x483ef8(0x1dc);continue;case'28':this[_0x483ef8(0x27e)][_0x483ef8(0x27d)](this[_0x483ef8(0x1fe)]);continue;case'29':this[_0x483ef8(0x1fe)][_0x483ef8(0x29c)]['add'](_0x57c52c[_0x483ef8(0x20a)]);continue;case'30':this[_0x483ef8(0x27e)]=document['createElement'](_0x483ef8(0x1dd));continue;case'31':this[_0x483ef8(0x27e)][_0x483ef8(0x28b)][_0x483ef8(0x29a)]=_0x57c52c['yhAAf'];continue;case'32':this[_0x483ef8(0x1dc)][_0x483ef8(0x28b)][_0x483ef8(0x29a)]=_0x57c52c[_0x483ef8(0x2be)];continue;case'33':this[_0x483ef8(0x1f7)]=document[_0x483ef8(0x2cd)](_0x57c52c[_0x483ef8(0x26f)]);continue;case'34':this[_0x483ef8(0x23f)]=document[_0x483ef8(0x2cd)]('div');continue;}break;}}[_0x117dd4(0x206)](){const _0x38240f=_0x117dd4,_0x46c846={'hlRDI':function(_0xc55df4,_0x5bf998){return _0xc55df4===_0x5bf998;},'KPMyM':_0x38240f(0x2ca),'Moesz':_0x38240f(0x2c0),'zphwJ':'extended','msBib':_0x38240f(0x262),'BwFBe':_0x38240f(0x29f)};this[_0x38240f(0x1e1)]=new SpeechProcessor({'onResult':(_0x1ae81d,_0x16acaf)=>{const _0x25fa28=_0x38240f;this[_0x25fa28(0x1e2)][_0x25fa28(0x1ef)]=_0x25fa28(0x2cb)+_0x1ae81d+'<span\x20class=\x22interim\x22>'+_0x16acaf+_0x25fa28(0x22d);},'onError':_0x1db93e=>{displayError(_0x1db93e);},'onSilence':_0x21811b=>{const _0x2440e5=_0x38240f;if(_0x46c846[_0x2440e5(0x201)](_0x21811b,_0x46c846[_0x2440e5(0x23a)]))this[_0x2440e5(0x2c7)]();else{if(_0x46c846[_0x2440e5(0x201)](_0x21811b,_0x46c846[_0x2440e5(0x28a)]))this['confirmAnswerCompletion']();else _0x46c846[_0x2440e5(0x201)](_0x21811b,_0x46c846[_0x2440e5(0x29e)])&&this[_0x2440e5(0x267)]();}},'onRecordingStart':()=>{const _0x189c4e=_0x38240f,_0x36a8e8=document[_0x189c4e(0x223)](_0x46c846[_0x189c4e(0x275)]);_0x36a8e8&&_0x36a8e8[_0x189c4e(0x29c)][_0x189c4e(0x22f)]('recording');},'onRecordingStop':()=>{const _0x3d6b4a=_0x38240f,_0x1d5c67=document[_0x3d6b4a(0x223)](_0x46c846[_0x3d6b4a(0x275)]);_0x1d5c67&&_0x1d5c67['classList'][_0x3d6b4a(0x1e3)](_0x46c846[_0x3d6b4a(0x214)]);},'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}[_0x117dd4(0x242)](){const _0x48e91d=_0x117dd4,_0x34e3bf={'WCSxS':'none','bBHDf':_0x48e91d(0x1ea),'HhgvZ':_0x48e91d(0x2ae),'RBskq':_0x48e91d(0x20e)};this['nextButton']['addEventListener'](_0x34e3bf[_0x48e91d(0x211)],()=>{this['nextQuestion']();}),document[_0x48e91d(0x223)](_0x34e3bf[_0x48e91d(0x1d7)])[_0x48e91d(0x2af)](_0x48e91d(0x1ea),()=>{const _0x222978=_0x48e91d;this[_0x222978(0x1db)]['style'][_0x222978(0x29a)]=_0x34e3bf['WCSxS'],this['confirmAnswerCompletion']();}),document[_0x48e91d(0x223)](_0x34e3bf[_0x48e91d(0x247)])['addEventListener'](_0x34e3bf[_0x48e91d(0x211)],()=>{const _0x2d63ee=_0x48e91d;this[_0x2d63ee(0x1db)][_0x2d63ee(0x28b)][_0x2d63ee(0x29a)]=_0x34e3bf[_0x2d63ee(0x2c2)];if(this[_0x2d63ee(0x1e1)])this[_0x2d63ee(0x1e1)][_0x2d63ee(0x2b9)]();});}[_0x117dd4(0x267)](){const _0x41c6fd=_0x117dd4,_0x591523={'pnWrY':'timeoutMessage','xrWBD':_0x41c6fd(0x252),'HDnxe':'none','LZmSh':_0x41c6fd(0x24b),'RbUMq':'3px\x20solid\x20#17a2b8','YTwxn':_0x41c6fd(0x289),'nZykl':_0x41c6fd(0x1dd),'DbXqm':_0x41c6fd(0x2b4),'djzpg':_0x41c6fd(0x24d),'ZGQdV':_0x41c6fd(0x29b),'JlKBx':function(_0x5b8082,_0x19c75a,_0x3dc048){return _0x5b8082(_0x19c75a,_0x3dc048);}};if(this[_0x41c6fd(0x1e1)])this[_0x41c6fd(0x1e1)]['stopRecording']();this[_0x41c6fd(0x1db)][_0x41c6fd(0x28b)][_0x41c6fd(0x29a)]=_0x41c6fd(0x252),this['confirmationPrompt'][_0x41c6fd(0x28b)][_0x41c6fd(0x26e)]=_0x591523[_0x41c6fd(0x27b)],this[_0x41c6fd(0x1db)][_0x41c6fd(0x28b)]['animation']=_0x591523[_0x41c6fd(0x224)];if(!document[_0x41c6fd(0x223)](_0x41c6fd(0x25f))){const _0x343dc0=document[_0x41c6fd(0x2cd)](_0x591523[_0x41c6fd(0x237)]);_0x343dc0['id']=_0x591523['pnWrY'],_0x343dc0[_0x41c6fd(0x28b)]['display']=_0x591523[_0x41c6fd(0x20f)],_0x343dc0[_0x41c6fd(0x28b)][_0x41c6fd(0x220)]=_0x591523[_0x41c6fd(0x283)],_0x343dc0[_0x41c6fd(0x28b)][_0x41c6fd(0x243)]=_0x591523['djzpg'],_0x343dc0[_0x41c6fd(0x2a3)]=_0x591523['ZGQdV'],this[_0x41c6fd(0x1db)]['appendChild'](_0x343dc0);}if(this[_0x41c6fd(0x1e1)]){const _0x79ef94=this[_0x41c6fd(0x1e1)][_0x41c6fd(0x298)](()=>{const _0x577661=_0x41c6fd;this['confirmationPrompt'][_0x577661(0x28b)][_0x577661(0x29a)]=_0x577661(0x230),this[_0x577661(0x2c7)]();},()=>{const _0x5207b4=_0x41c6fd;this['confirmationPrompt'][_0x5207b4(0x28b)][_0x5207b4(0x29a)]=_0x5207b4(0x230),this['speechProcessor'][_0x5207b4(0x2b9)]();},()=>{const _0x260379=_0x41c6fd;this[_0x260379(0x1db)][_0x260379(0x28b)][_0x260379(0x263)]='none',document['getElementById'](_0x260379(0x25f))&&(document[_0x260379(0x223)](_0x591523['pnWrY'])['style'][_0x260379(0x29a)]=_0x591523[_0x260379(0x21a)]);});}_0x591523[_0x41c6fd(0x269)](setTimeout,()=>{const _0xdd65b6=_0x41c6fd;if(this[_0xdd65b6(0x1db)][_0xdd65b6(0x28b)][_0xdd65b6(0x29a)]!==_0x591523[_0xdd65b6(0x20f)]){console[_0xdd65b6(0x28e)](_0x591523[_0xdd65b6(0x285)]),this[_0xdd65b6(0x1db)][_0xdd65b6(0x28b)][_0xdd65b6(0x29a)]=_0x591523[_0xdd65b6(0x20f)];if(this['speechProcessor'])this['speechProcessor']['startRecording']();}},0x1b58);}[_0x117dd4(0x2c7)](){const _0x5fcc9c=_0x117dd4;if(this[_0x5fcc9c(0x1e1)])this[_0x5fcc9c(0x1e1)][_0x5fcc9c(0x1e0)]();this[_0x5fcc9c(0x1db)][_0x5fcc9c(0x28b)][_0x5fcc9c(0x29a)]='none';const _0x45a99f=(this[_0x5fcc9c(0x1e1)]?this[_0x5fcc9c(0x1e1)][_0x5fcc9c(0x2b6)]():'')[_0x5fcc9c(0x23e)](/done|i am finished|that's all|yes|correct/gi,'')['trim']();this[_0x5fcc9c(0x21c)]['userAnswers'][this[_0x5fcc9c(0x21c)][_0x5fcc9c(0x1ec)]]=_0x45a99f,this[_0x5fcc9c(0x1e2)][_0x5fcc9c(0x1ef)]=_0x5fcc9c(0x2cb)+_0x45a99f,this['compareAnswer'](_0x45a99f,this[_0x5fcc9c(0x21c)][_0x5fcc9c(0x225)][this[_0x5fcc9c(0x21c)][_0x5fcc9c(0x1ec)]][_0x5fcc9c(0x291)]);}async[_0x117dd4(0x226)](_0x4fb289,_0x56212){const _0x27a4b7=_0x117dd4,_0x3aa153={'EgvsQ':_0x27a4b7(0x265),'ZPWbA':_0x27a4b7(0x205),'ixrNF':_0x27a4b7(0x22e),'zzdBw':'user','IBEUL':'üìù\x20Prompt\x20being\x20sent\x20to\x20AI:','RXJsZ':_0x27a4b7(0x250),'bnVSh':_0x27a4b7(0x252),'WXJRl':function(_0x5bc3bb,_0x17157e){return _0x5bc3bb===_0x17157e;},'uqoCy':'object','BJXUK':'üõë\x20cleanedResponse\x20is\x20already\x20an\x20object,\x20skipping\x20JSON.parse.','AfByq':'‚ú®\x20Parsed\x20Result:','xdKIa':_0x27a4b7(0x26d),'VXBEM':_0x27a4b7(0x21d),'DgNKI':_0x27a4b7(0x261)};await this['aiAdapter']['init'](),console[_0x27a4b7(0x28e)](_0x3aa153[_0x27a4b7(0x1e6)],_0x4fb289),console[_0x27a4b7(0x28e)](_0x3aa153['ZPWbA'],_0x56212);try{const _0x2577bc=JSON[_0x27a4b7(0x23c)]([{'role':_0x3aa153['ixrNF'],'content':_0x27a4b7(0x24f)},{'role':_0x3aa153[_0x27a4b7(0x1fb)],'content':_0x27a4b7(0x2c5)+_0x4fb289+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Correct\x20answer:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x56212+_0x27a4b7(0x1e9)}]);console[_0x27a4b7(0x28e)](_0x3aa153[_0x27a4b7(0x2a8)],_0x2577bc);const _0x4ae431=document['getElementById'](_0x3aa153[_0x27a4b7(0x253)]);if(_0x4ae431)_0x4ae431['style'][_0x27a4b7(0x29a)]=_0x3aa153[_0x27a4b7(0x1eb)];const _0x5960a8=await aiAdapter[_0x27a4b7(0x210)](_0x2577bc);let _0x6f8a5=_0x5960a8['choices'][0x0][_0x27a4b7(0x28d)]['content'];if(_0x4ae431)_0x4ae431[_0x27a4b7(0x28b)][_0x27a4b7(0x29a)]=_0x27a4b7(0x230);try{_0x3aa153[_0x27a4b7(0x218)](typeof _0x6f8a5,_0x3aa153[_0x27a4b7(0x1fa)])?console['log'](_0x3aa153[_0x27a4b7(0x207)]):(_0x6f8a5=JSON['parse'](_0x6f8a5),console[_0x27a4b7(0x28e)](_0x3aa153[_0x27a4b7(0x292)],_0x6f8a5)),this['displayResults'](_0x6f8a5);}catch(_0x42b437){console['error'](_0x27a4b7(0x234),_0x42b437),Logger['error'](_0x27a4b7(0x203),_0x42b437),this[_0x27a4b7(0x287)]({'percentageMatch':0x0,'feedback':_0x3aa153[_0x27a4b7(0x24e)],'missingPoints':[]});}}catch(_0x1d82cd){console[_0x27a4b7(0x2a5)](_0x3aa153[_0x27a4b7(0x204)],_0x1d82cd);const _0x190d7a=document[_0x27a4b7(0x223)](_0x3aa153[_0x27a4b7(0x253)]);if(_0x190d7a)_0x190d7a[_0x27a4b7(0x28b)][_0x27a4b7(0x29a)]=_0x27a4b7(0x230);Logger[_0x27a4b7(0x2a5)](_0x3aa153['DgNKI'],_0x1d82cd),this[_0x27a4b7(0x287)]({'percentageMatch':0x0,'feedback':_0x27a4b7(0x26d),'missingPoints':[]});}}['displayResults'](_0x4d57f4){const _0xad3f4d=_0x117dd4,_0x13168c={'iBjVy':_0xad3f4d(0x2a7),'gnNDp':'<span\x20class=\x22highlight\x22>$1</span>','FpphC':_0xad3f4d(0x252),'deLfR':function(_0xe403f3,_0x517296){return _0xe403f3>=_0x517296;},'TFyKd':_0xad3f4d(0x1f6),'pyRHF':_0xad3f4d(0x25e),'OPQxd':function(_0x487e6e,_0x4f6f31){return _0x487e6e>=_0x4f6f31;},'YBxAX':_0xad3f4d(0x25c),'PNhWe':_0xad3f4d(0x238),'CUDsj':function(_0x2b8fb6,_0x31e9cb){return _0x2b8fb6>=_0x31e9cb;},'AnUet':_0xad3f4d(0x281),'JTcym':_0xad3f4d(0x231),'okRpY':function(_0x44272f,_0x596cd6){return _0x44272f<_0x596cd6;},'pcLJh':function(_0x4165dd,_0x3334b3){return _0x4165dd-_0x3334b3;},'YRRMe':function(_0x495818,_0x4f40cb,_0x10445d){return _0x495818(_0x4f40cb,_0x10445d);}};this['resultDisplay']['style'][_0xad3f4d(0x29a)]=_0xad3f4d(0x252),this[_0xad3f4d(0x1f7)][_0xad3f4d(0x28b)][_0xad3f4d(0x29a)]=_0xad3f4d(0x252),this[_0xad3f4d(0x1dc)][_0xad3f4d(0x28b)][_0xad3f4d(0x29a)]=_0x13168c[_0xad3f4d(0x27f)];let _0x499c47='',_0x5280f3='';if(_0x13168c[_0xad3f4d(0x215)](_0x4d57f4[_0xad3f4d(0x22a)],0x5a))_0x499c47=_0x13168c[_0xad3f4d(0x28f)],_0x5280f3=_0x13168c[_0xad3f4d(0x299)];else{if(_0x13168c[_0xad3f4d(0x1f0)](_0x4d57f4[_0xad3f4d(0x22a)],0x50))_0x499c47=_0x13168c[_0xad3f4d(0x2c9)],_0x5280f3=_0x13168c[_0xad3f4d(0x21f)];else _0x13168c[_0xad3f4d(0x26a)](_0x4d57f4[_0xad3f4d(0x22a)],0x32)?(_0x499c47=_0x13168c[_0xad3f4d(0x217)],_0x5280f3='ok'):(_0x499c47=_0x13168c[_0xad3f4d(0x2a2)],_0x5280f3=_0xad3f4d(0x2c4));}this[_0xad3f4d(0x23f)][_0xad3f4d(0x1ef)]=_0xad3f4d(0x245)+_0x5280f3+_0xad3f4d(0x2a6)+_0x499c47+_0xad3f4d(0x279)+Math['round'](_0x4d57f4[_0xad3f4d(0x22a)])+_0xad3f4d(0x286)+_0x4d57f4[_0xad3f4d(0x255)]+'</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';let _0x4063cd=this[_0xad3f4d(0x21c)][_0xad3f4d(0x225)][this['currentQuiz'][_0xad3f4d(0x1ec)]][_0xad3f4d(0x291)];_0x4d57f4[_0xad3f4d(0x2bb)]&&_0x4d57f4['missingPoints'][_0xad3f4d(0x280)]>0x0&&_0x4d57f4[_0xad3f4d(0x2bb)][_0xad3f4d(0x1f3)](_0x564615=>{const _0x56c92c=_0xad3f4d,_0x2077dc=new RegExp('('+_0x564615['replace'](/[.*+?^${}()|[\]\\]/g,_0x13168c[_0x56c92c(0x258)])+')','gi');_0x4063cd=_0x4063cd[_0x56c92c(0x23e)](_0x2077dc,_0x13168c[_0x56c92c(0x21b)]);}),this['correctAnswerDisplay'][_0xad3f4d(0x1ef)]=_0xad3f4d(0x23b)+_0x4063cd+_0xad3f4d(0x2b7),_0x13168c[_0xad3f4d(0x2bd)](this[_0xad3f4d(0x21c)]['currentQuestionIndex'],_0x13168c[_0xad3f4d(0x2a9)](this[_0xad3f4d(0x21c)]['questions'][_0xad3f4d(0x280)],0x1))&&_0x13168c['YRRMe'](setTimeout,()=>{const _0x4641a4=_0xad3f4d;if(this['showAutoAdvancePrompt'])this[_0x4641a4(0x26b)]();},0x3e8);}[_0x117dd4(0x246)](_0x29ff48){const _0x2307d8=_0x117dd4,_0x12b82f=[/Q\d*\s*[:.-]\s*.*\s*A\s*[:.-]/i,/\d+\s*[).]\s*.*\s*Answer\s*[:.-]/i,/Question\s*\d+\s*[:.-]/i,/\b[Qq]uestion\b.*\b[Aa]nswer\b/];return _0x12b82f['some'](_0x10c962=>_0x10c962[_0x2307d8(0x200)](_0x29ff48));}[_0x117dd4(0x248)](_0x580ca7){const _0x566ddb=_0x117dd4,_0x31b581={'hBszh':_0x566ddb(0x295),'npAkh':function(_0x2a0b9,_0x18b9f){return _0x2a0b9===_0x18b9f;},'feiau':_0x566ddb(0x1e5),'mwnhA':_0x566ddb(0x259),'kyIwo':function(_0x2d375f,_0x31ad61){return _0x2d375f&&_0x31ad61;},'EbEIM':_0x566ddb(0x22b),'ckfgk':_0x566ddb(0x222)};console['log'](_0x31b581['hBszh'],_0x580ca7);try{try{const _0x42f937=JSON[_0x566ddb(0x209)](_0x580ca7);if(Array[_0x566ddb(0x22c)](_0x42f937)&&_0x42f937[_0x566ddb(0x280)]>0x0&&_0x42f937[0x0][_0x566ddb(0x232)]&&_0x42f937[0x0][_0x566ddb(0x291)])return _0x42f937;}catch(_0x440354){}const _0x294ef1=[],_0x567fd9=_0x580ca7[_0x566ddb(0x284)](/(?:Q:|Question:?|^\d+\.?)\s*(.+?)(?:A:|Answer:?)\s*(.+?)(?=(?:Q:|Question:?|^\d+\.?)|$)/gis);_0x567fd9&&_0x567fd9[_0x566ddb(0x280)]>0x0&&_0x567fd9['forEach'](_0x56f073=>{const _0x5ea78f=_0x566ddb,_0x466d37=_0x56f073[_0x5ea78f(0x284)](/(?:Q:|Question:?|^\d+\.?)\s*(.+?)(?=A:|Answer:?)/is),_0x28b838=_0x56f073[_0x5ea78f(0x284)](/(?:A:|Answer:?)\s*(.+?)$/is);_0x466d37&&_0x28b838&&_0x294ef1[_0x5ea78f(0x266)]({'question':_0x466d37[0x1][_0x5ea78f(0x2a1)](),'answer':_0x28b838[0x1][_0x5ea78f(0x2a1)]()});});if(_0x31b581['npAkh'](_0x294ef1[_0x566ddb(0x280)],0x0)){const _0xf1bb6f=_0x580ca7[_0x566ddb(0x288)](/\n\s*\n|\d+\s*[).]|\bQ\d*\s*[:.]/);for(let _0x555322=0x0;_0x555322<_0xf1bb6f[_0x566ddb(0x280)];_0x555322++){const _0x215792=_0xf1bb6f[_0x555322]['trim']();if(!_0x215792)continue;const _0x434536=[_0x31b581['feiau'],'A:',_0x31b581[_0x566ddb(0x2ad)],_0x566ddb(0x1d9)];let _0x1230bf=_0x215792,_0x1d7fd7='';for(const _0x2dbbee of _0x434536){if(_0x215792[_0x566ddb(0x241)](_0x2dbbee)){const _0x248c4f=_0x215792[_0x566ddb(0x288)](_0x2dbbee);_0x1230bf=_0x248c4f[0x0][_0x566ddb(0x2a1)](),_0x1d7fd7=_0x248c4f[0x1][_0x566ddb(0x2a1)]();break;}}_0x31b581[_0x566ddb(0x21e)](_0x1230bf,_0x1d7fd7)&&_0x294ef1[_0x566ddb(0x266)]({'question':_0x1230bf,'answer':_0x1d7fd7});}}return _0x31b581[_0x566ddb(0x2aa)](_0x294ef1['length'],0x0)&&aiLanguageSession&&console[_0x566ddb(0x28e)](_0x31b581['EbEIM']),console[_0x566ddb(0x28e)]('Parsed\x20questions:',_0x294ef1),_0x294ef1;}catch(_0x1bd366){return Logger[_0x566ddb(0x2a5)](_0x31b581[_0x566ddb(0x294)],_0x1bd366),console['log'](_0x31b581[_0x566ddb(0x294)],_0x1bd366),null;}}['startQuiz'](_0x2cca85){const _0x2e788f=_0x117dd4,_0x246caf={'Nyued':function(_0x4339f3,_0x367eaf){return _0x4339f3(_0x367eaf);},'OkQRp':'welcomeScreen','BuoDo':_0x2e788f(0x230),'yplRP':_0x2e788f(0x252),'ztCvr':'quizStarted'};this[_0x2e788f(0x21c)]={'questions':_0x2cca85,'currentQuestionIndex':0x0,'userAnswers':_0x246caf[_0x2e788f(0x276)](Array,_0x2cca85[_0x2e788f(0x280)])['fill'](''),'isRecording':![],'recordingTimeout':null,'minimumWordCount':0x5,'wordCount':0x0,'accumulatedAnswer':''};const _0x79f95f=document[_0x2e788f(0x223)](_0x246caf['OkQRp']),_0x483654=document[_0x2e788f(0x223)](_0x2e788f(0x297));if(_0x79f95f)_0x79f95f[_0x2e788f(0x28b)][_0x2e788f(0x29a)]=_0x246caf[_0x2e788f(0x293)];if(_0x483654)_0x483654[_0x2e788f(0x28b)][_0x2e788f(0x29a)]=_0x246caf[_0x2e788f(0x293)];this[_0x2e788f(0x27e)][_0x2e788f(0x28b)][_0x2e788f(0x29a)]=_0x246caf[_0x2e788f(0x2ac)],this['emit'](_0x246caf['ztCvr'],_0x2cca85),this[_0x2e788f(0x1d8)]();}[_0x117dd4(0x1d8)](){const _0x247855=_0x117dd4,_0x16e333={'BeTzM':_0x247855(0x230),'pqXJm':function(_0x4043d9,_0x539bf3){return _0x4043d9+_0x539bf3;},'XXMaf':'questionLoaded'};this[_0x247855(0x23f)]['style'][_0x247855(0x29a)]=_0x16e333[_0x247855(0x23d)],this[_0x247855(0x1f7)][_0x247855(0x28b)]['display']=_0x16e333[_0x247855(0x23d)],this['nextButton']['style'][_0x247855(0x29a)]=_0x247855(0x230),this[_0x247855(0x1db)][_0x247855(0x28b)][_0x247855(0x29a)]=_0x247855(0x230),this[_0x247855(0x21c)][_0x247855(0x270)]='',this[_0x247855(0x21c)][_0x247855(0x29d)]=0x0;this[_0x247855(0x1e1)]&&this[_0x247855(0x1e1)][_0x247855(0x24a)]();this[_0x247855(0x1e2)]['innerHTML']=_0x247855(0x213);const _0x490069=this['currentQuiz']['questions'][this[_0x247855(0x21c)][_0x247855(0x1ec)]];this['questionDisplay']['innerHTML']=_0x247855(0x28c)+_0x16e333[_0x247855(0x2c6)](this[_0x247855(0x21c)][_0x247855(0x1ec)],0x1)+_0x247855(0x2c8)+this[_0x247855(0x21c)][_0x247855(0x225)][_0x247855(0x280)]+_0x247855(0x27c)+_0x490069['question']+'</p>\x0a\x20\x20\x20\x20',this[_0x247855(0x1ee)](_0x16e333[_0x247855(0x249)],{'index':this[_0x247855(0x21c)]['currentQuestionIndex'],'question':_0x490069}),this[_0x247855(0x1e1)][_0x247855(0x208)](_0x490069[_0x247855(0x232)])['then'](()=>this[_0x247855(0x1e1)][_0x247855(0x2b9)](this[_0x247855(0x21c)]));}[_0x117dd4(0x212)](){const _0x4385d2=_0x117dd4,_0x45e900={'CDthj':function(_0x329ee6,_0x639a61){return _0x329ee6-_0x639a61;}};this['currentQuiz'][_0x4385d2(0x1ec)]<_0x45e900[_0x4385d2(0x1f4)](this[_0x4385d2(0x21c)][_0x4385d2(0x225)][_0x4385d2(0x280)],0x1)?(this['currentQuiz'][_0x4385d2(0x1ec)]++,this[_0x4385d2(0x1e1)]&&this[_0x4385d2(0x1e1)]['isRecording']&&this['speechProcessor'][_0x4385d2(0x1e0)](),this['loadCurrentQuestion']()):this[_0x4385d2(0x216)]();}[_0x117dd4(0x216)](){const _0x58fe73=_0x117dd4,_0x204caf={'KqQDd':'chatContainer','yCGIS':_0x58fe73(0x2b2),'hRGvG':_0x58fe73(0x2b0),'UIaJI':_0x58fe73(0x273),'gpsNr':_0x58fe73(0x1ea)};this['quizContainer'][_0x58fe73(0x1ef)]=_0x58fe73(0x2b1)+this[_0x58fe73(0x21c)][_0x58fe73(0x225)][_0x58fe73(0x280)]+'\x20questions.</p>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-summary\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+this['generateQuizSummary']()+_0x58fe73(0x244),this['emit'](_0x204caf[_0x58fe73(0x272)],{'questions':this[_0x58fe73(0x21c)][_0x58fe73(0x225)],'answers':this['currentQuiz'][_0x58fe73(0x268)]}),document[_0x58fe73(0x223)](_0x58fe73(0x2cc))[_0x58fe73(0x2af)](_0x204caf[_0x58fe73(0x24c)],()=>{const _0x4d94f3=_0x58fe73;this[_0x4d94f3(0x27e)]['style'][_0x4d94f3(0x29a)]=_0x4d94f3(0x230);const _0x2cee10=document[_0x4d94f3(0x223)](_0x204caf[_0x4d94f3(0x296)]),_0x1548ff=document[_0x4d94f3(0x223)](_0x204caf['yCGIS']);if(_0x2cee10)_0x2cee10[_0x4d94f3(0x28b)][_0x4d94f3(0x29a)]=_0x204caf[_0x4d94f3(0x1fd)];if(_0x1548ff)_0x1548ff[_0x4d94f3(0x28b)][_0x4d94f3(0x29a)]=_0x204caf['hRGvG'];this['emit']('returnedToChat');});}[_0x117dd4(0x277)](){const _0x5c51c6=_0x117dd4,_0x11378b={'NzEXc':_0x5c51c6(0x229),'UxGgb':_0x5c51c6(0x25d),'mgICl':_0x5c51c6(0x2c3)};let _0x2ad7f2=_0x11378b[_0x5c51c6(0x202)];return this[_0x5c51c6(0x21c)][_0x5c51c6(0x225)][_0x5c51c6(0x1f3)]((_0x59c06c,_0x380548)=>{const _0x237a29=_0x5c51c6,_0xa4fddd=this[_0x237a29(0x21c)][_0x237a29(0x268)][_0x380548]||_0x11378b['NzEXc'];_0x2ad7f2+=_0x237a29(0x235)+(_0x380548+0x1)+_0x237a29(0x20b)+_0x59c06c['question']+_0x237a29(0x260)+_0xa4fddd+_0x237a29(0x1ff)+_0x59c06c[_0x237a29(0x291)]+_0x237a29(0x236);}),_0x2ad7f2+=_0x11378b[_0x5c51c6(0x27a)],_0x2ad7f2;}['on'](_0x463fc7,_0x2116a6){const _0x2396c3=_0x117dd4;return!this['eventListeners'][_0x463fc7]&&(this[_0x2396c3(0x1e8)][_0x463fc7]=[]),this['eventListeners'][_0x463fc7][_0x2396c3(0x266)](_0x2116a6),this;}['off'](_0x11d811,_0x473832){const _0x57d21c=_0x117dd4;if(!this['eventListeners'][_0x11d811])return this;return!_0x473832?this[_0x57d21c(0x1e8)][_0x11d811]=[]:this[_0x57d21c(0x1e8)][_0x11d811]=this[_0x57d21c(0x1e8)][_0x11d811]['filter'](_0x11e9ae=>_0x11e9ae!==_0x473832),this;}[_0x117dd4(0x1ee)](_0x1a9e2c,_0x332403){const _0x1da2a2=_0x117dd4;if(!this['eventListeners'][_0x1a9e2c])return;this[_0x1da2a2(0x1e8)][_0x1a9e2c][_0x1da2a2(0x1f3)](_0x1aed32=>_0x1aed32(_0x332403));}}