
/*!
Copyright ¬© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x59e11d=_0x3002;function _0x41a8(){const _0x9f4582=['correctAnswerDisplay','</div>','Parsed\x20questions:','addEventListener','answer','Ojtjf','blink\x201s\x20infinite','init','\x0aAnswer.','66bmxtHi','aiAdapter','auto','<span\x20class=\x22interim\x22>','loadCurrentQuestion','block','log','forEach','ADnrf','innerHTML','confirmAnswerCompletion','DPfeH','speechProcessor','xgmsk','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22rating\x20','returnedToChat','vucxX','9|28|31|12|13|19|18|29|26|30|27|24|14|7|4|22|16|33|11|2|21|32|15|17|20|6|0|25|34|10|5|3|23|1|8','remove','off','yEaUV','agIQi','\x0a\x20\x20\x20\x20\x20\x20<p>Done?</p>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22confirmation-buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22yesButton\x22\x20class=\x22confirm-button\x22>Yes</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22noButton\x22\x20class=\x22confirm-button\x22>No</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x5c$&','parseQuizQuestions','replace','eventListeners','nextQuestion','timeoutMessage','BVWIQ','CxYpz','4044160oclXAM','6070827RtBOXt','No\x20response\x20detected.\x20Click\x20Yes\x20or\x20No.','result-display','UqASk','%\x20Match</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>','<strong>Your\x20answer:</strong>\x20','ZTthT','isQuizFormat','createUIElements','wordCount','ziFDV','confirmation-prompt','</h2>\x0a\x20\x20\x20\x20\x20\x20<p>','Try\x20again\x20ü§î','startConfirmationRecognition','No\x20response\x20detected,\x20resuming\x20recording.','div','welcomeScreen','.container','getElementById','cjoRo','aFCwy','currentQuestionIndex','jhvAu','rikYt','color','</p>\x0a\x20\x20\x20\x20','FiNeu','xqjjw','zcgNg','kfpqv','PkxEq','askForConfirmation','QzFMM','14776oDmhRi','wXBXO','mRJEB','koSou','isArray','quizContainer','questions','rrqNV','Failed\x20to\x20parse\x20AI\x20response\x20as\x20JSON:','resetAccumulatedText','noButton','3817ZUNbeN','‚ùå\x20Compare\x20Answer\x20Error:','bHKsd','LWGyn','hBoxg','style','\x0a\x20\x20\x20\x20\x20\x20<h3>Complete\x20Answer:</h3>\x0a\x20\x20\x20\x20\x20\x20<p>','‚úÖ\x20Correct\x20Answer\x20being\x20sent\x20for\x20comparison:','appendChild','795504nsgFGI','test','recording','WpHFZ','RmuiW','1388916vvHxXW','length','none','error','</span>','content','setupEventListeners','Answer\x20comparison\x20error:','percentageMatch','üõë\x20cleanedResponse\x20is\x20already\x20an\x20object,\x20skipping\x20JSON.parse.','finishQuiz','innerText','\x0a\x20\x20\x20\x20\x20\x20<h2>Question\x20','IEwUC','VMZSy','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','isRecording','dkrhc','question-display','feedback','JwTkU','querySelector','loader','YukoQ','button','rXJMG','userAnswerDisplay','utWag','resultDisplay','<span\x20class=\x22highlight\x22>$1</span>','trim','jStny','ZtmRH','15ZFyhsB','uYtMq','split','missingPoints','tVutF','‚ùå\x20JSON\x20Parse\x20Error:','generateQuizSummary','startQuiz','startRecording','flex','question','6QRdMsw','displayResults','<strong>Your\x20answer:</strong>\x20<em>(Speak\x20now...)</em>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Please\x20return\x20a\x20JSON\x20object\x20with\x20the\x20following\x20fields:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20percentageMatch\x20(number):\x20Percentage\x20of\x20key\x20points\x20covered\x20by\x20the\x20user.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20feedback\x20(string):\x20Constructive\x20feedback\x20on\x20strengths\x20and\x20areas\x20to\x20improve.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20missingPoints\x20(array\x20of\x20strings):\x20Key\x20points\x20not\x20mentioned\x20by\x20the\x20user.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20similarities\x20(array\x20of\x20strings):\x20Important\x20points\x20both\x20answers\x20share.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20differences\x20(array\x20of\x20strings):\x20Notable\x20differences\x20in\x20content\x20or\x20emphasis.','stopRecording','zsHmn','0|1|3|2|5|4','Sorry,\x20there\x20was\x20an\x20error\x20analyzing\x20your\x20answer.','mXqXr','returnToChatButton','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Question\x20','ggwus','insertBefore','\x0a\x20\x20\x20\x20\x20\x20<h2>Quiz\x20Completed!</h2>\x0a\x20\x20\x20\x20\x20\x20<p>You\x27ve\x20completed\x20all\x20','\x20of\x20','Good!\x20üëç','showAutoAdvancePrompt','Raw\x20quiz\x20input:','cAsWh','sgxdV','xFuuC','poor','explicit','ALfyN','No\x20answer\x20provided','338lXtGoK','yKvnD','QuizManager\x20initialized','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-percent\x22>','VGHOm','\x0aA.','questionDisplay','yEgBK','wpstc','CTnsI','<div\x20class=\x22summary-container\x22>','603156BUseYZ','correct-answer-display','QSTjy','nextButton','createElement','yDlir','Compare\x20the\x20following\x20answers:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20User\x27s\x20answer:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','good','chatContainer','HlUyP','gUsHm','click','aXkPy','vMioZ','EDojO','xGCEL','add','OK\x20üëå','</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','873siJEss','CcIrZ','#dc3545','compareAnswer','extended','questionLoaded','quizStarted','user','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Correct\x20answer:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentQuiz','fontWeight','accumulatedAnswer','.input-container','userAnswers','zmPNZ','KMSxA','display','oTAUK','parse','nMKYp','confirmationPrompt','acuow','CXHjD','classList','stringify','MzVbT','cXnWF','push','Next\x20Question','sZTOL','stThF','message','wjNjt','excellent','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Correct\x20answer:</strong>\x20','match','UZhCo','erjan','user-answer-display','sZwrz','getAccumulatedText','lhvKX','then','SvvNY','\x20questions.</p>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-summary\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','YeddT','TeqGa','emit','initializeSpeechManager'];_0x41a8=function(){return _0x9f4582;};return _0x41a8();}function _0x3002(_0x2532b4,_0x96935e){const _0x41a84f=_0x41a8();return _0x3002=function(_0x300222,_0x2badd7){_0x300222=_0x300222-0xb5;let _0x332783=_0x41a84f[_0x300222];return _0x332783;},_0x3002(_0x2532b4,_0x96935e);}(function(_0x5ac2df,_0x5639e3){const _0xb283e9=_0x3002,_0x363d57=_0x5ac2df();while(!![]){try{const _0x8b383=-parseInt(_0xb283e9(0x199))/0x1*(parseInt(_0xb283e9(0xf4))/0x2)+-parseInt(_0xb283e9(0xdb))/0x3*(-parseInt(_0xb283e9(0x1a7))/0x4)+parseInt(_0xb283e9(0xd0))/0x5*(-parseInt(_0xb283e9(0xff))/0x6)+parseInt(_0xb283e9(0x16c))/0x7+-parseInt(_0xb283e9(0x18e))/0x8*(parseInt(_0xb283e9(0x112))/0x9)+parseInt(_0xb283e9(0x16b))/0xa+-parseInt(_0xb283e9(0x14c))/0xb*(parseInt(_0xb283e9(0x1a2))/0xc);if(_0x8b383===_0x5639e3)break;else _0x363d57['push'](_0x363d57['shift']());}catch(_0x4278f7){_0x363d57['push'](_0x363d57['shift']());}}}(_0x41a8,0x6c0cd));import{displayError,Logger}from'./common.js';import{aiAdapter}from'./aiAdapter.js';import{SpeechProcessor}from'./speechProcessor.js';export class QuizManager{constructor(_0x81d817={}){const _0xddef44=_0x3002;this[_0xddef44(0xeb)]=_0x81d817[_0xddef44(0xeb)]||null,this[_0xddef44(0x14d)]=aiAdapter,this['currentQuiz']={'questions':[],'currentQuestionIndex':0x0,'userAnswers':[],'isRecording':![],'recordingTimeout':null,'minimumWordCount':0x5,'wordCount':0x0,'accumulatedAnswer':''},this[_0xddef44(0x193)]=null,this[_0xddef44(0xfa)]=null,this[_0xddef44(0xc9)]=null,this[_0xddef44(0xcb)]=null,this[_0xddef44(0x143)]=null,this[_0xddef44(0x102)]=null,this[_0xddef44(0x126)]=null,this['isPaused']=![],this['speechProcessor']=null,this[_0xddef44(0x166)]={};}async[_0x59e11d(0x14a)](){const _0x273e43=_0x59e11d,_0x5d7f37={'raGol':_0x273e43(0xf6)},_0x54ea03=_0x273e43(0xe1)['split']('|');let _0x1440d5=0x0;while(!![]){switch(_0x54ea03[_0x1440d5++]){case'0':await this[_0x273e43(0x14d)][_0x273e43(0x14a)]();continue;case'1':this['createUIElements']();continue;case'2':this[_0x273e43(0xb5)]();continue;case'3':this[_0x273e43(0x142)]();continue;case'4':console[_0x273e43(0x152)](_0x5d7f37['raGol']);continue;case'5':this['loaderElement']=document['getElementById'](_0x273e43(0xc5));continue;}break;}}[_0x59e11d(0x174)](){const _0x3901b0=_0x59e11d,_0x3610d9={'PkxEq':_0x3901b0(0x15d),'jStny':_0x3901b0(0x102),'lhvKX':'div','CTnsI':_0x3901b0(0x177),'ALfyN':_0x3901b0(0x1a9),'koSou':_0x3901b0(0x17e),'YeddT':_0x3901b0(0x11e),'UZhCo':_0x3901b0(0xc7),'YukoQ':_0x3901b0(0x16e),'cAsWh':_0x3901b0(0x100),'aFLhY':_0x3901b0(0xfa),'veDWT':_0x3901b0(0x126),'ADnrf':_0x3901b0(0x12e),'yKvnD':_0x3901b0(0xcb),'MzVbT':'userAnswerDisplay','sgxdV':_0x3901b0(0x193),'rikYt':_0x3901b0(0x138),'vMioZ':'quiz-container','oTAUK':'next-button'},_0x17211b=_0x3610d9[_0x3901b0(0x18b)][_0x3901b0(0xd2)]('|');let _0x1c910b=0x0;while(!![]){switch(_0x17211b[_0x1c910b++]){case'0':this['confirmationPrompt'][_0x3901b0(0x155)]=_0x3901b0(0x162);continue;case'1':this[_0x3901b0(0x193)]['appendChild'](this['nextButton']);continue;case'2':this[_0x3901b0(0x102)]['id']=_0x3610d9[_0x3901b0(0xce)];continue;case'3':this['quizContainer'][_0x3901b0(0x1a1)](this['resultDisplay']);continue;case'4':this[_0x3901b0(0x143)]=document[_0x3901b0(0x103)](_0x3610d9[_0x3901b0(0x13b)]);continue;case'5':this[_0x3901b0(0x193)]['appendChild'](this[_0x3901b0(0x126)]);continue;case'6':this[_0x3901b0(0x126)][_0x3901b0(0x129)][_0x3901b0(0x10f)](_0x3610d9[_0x3901b0(0xfd)]);continue;case'7':this[_0x3901b0(0xcb)][_0x3901b0(0x19e)][_0x3901b0(0x122)]=_0x3610d9['ALfyN'];continue;case'8':document[_0x3901b0(0xc4)](_0x3610d9[_0x3901b0(0x191)])[_0x3901b0(0xe7)](this[_0x3901b0(0x193)],document[_0x3901b0(0xc4)](_0x3610d9[_0x3901b0(0x13f)]));continue;case'9':this[_0x3901b0(0x193)]=document[_0x3901b0(0x103)](_0x3610d9[_0x3901b0(0x13b)]);continue;case'10':this[_0x3901b0(0x193)][_0x3901b0(0x1a1)](this[_0x3901b0(0xc9)]);continue;case'11':this['nextButton']=document[_0x3901b0(0x103)](_0x3610d9[_0x3901b0(0x136)]);continue;case'12':this[_0x3901b0(0x193)]['style'][_0x3901b0(0x122)]=_0x3610d9[_0x3901b0(0xf2)];continue;case'13':this[_0x3901b0(0xfa)]=document[_0x3901b0(0x103)](_0x3610d9[_0x3901b0(0x13b)]);continue;case'14':this[_0x3901b0(0xcb)]['classList'][_0x3901b0(0x10f)](_0x3610d9[_0x3901b0(0xc6)]);continue;case'15':this[_0x3901b0(0x102)][_0x3901b0(0x19e)][_0x3901b0(0x122)]=_0x3610d9[_0x3901b0(0xf2)];continue;case'16':this[_0x3901b0(0x143)]['classList'][_0x3901b0(0x10f)](_0x3610d9[_0x3901b0(0xed)]);continue;case'17':this['confirmationPrompt']=document['createElement'](_0x3610d9['lhvKX']);continue;case'18':this[_0x3901b0(0xfa)][_0x3901b0(0x129)][_0x3901b0(0x10f)](_0x3901b0(0xc1));continue;case'19':this['questionDisplay']['id']=_0x3610d9['aFLhY'];continue;case'20':this[_0x3901b0(0x126)]['id']=_0x3610d9['veDWT'];continue;case'21':this[_0x3901b0(0x102)]['textContent']=_0x3610d9[_0x3901b0(0x154)];continue;case'22':this[_0x3901b0(0x143)]['id']=_0x3901b0(0x143);continue;case'23':this[_0x3901b0(0x193)][_0x3901b0(0x1a1)](this['correctAnswerDisplay']);continue;case'24':this[_0x3901b0(0xcb)]['id']=_0x3610d9[_0x3901b0(0xf5)];continue;case'25':this[_0x3901b0(0x126)]['style'][_0x3901b0(0x122)]=_0x3610d9[_0x3901b0(0xf2)];continue;case'26':this[_0x3901b0(0xc9)]['id']=_0x3610d9[_0x3901b0(0x12b)];continue;case'27':this[_0x3901b0(0xcb)]=document['createElement'](_0x3610d9[_0x3901b0(0x13b)]);continue;case'28':this[_0x3901b0(0x193)]['id']=_0x3610d9[_0x3901b0(0xee)];continue;case'29':this[_0x3901b0(0xc9)]=document[_0x3901b0(0x103)](_0x3901b0(0x17c));continue;case'30':this[_0x3901b0(0xc9)]['classList'][_0x3901b0(0x10f)](_0x3610d9[_0x3901b0(0x184)]);continue;case'31':this[_0x3901b0(0x193)]['classList'][_0x3901b0(0x10f)](_0x3610d9[_0x3901b0(0x10c)]);continue;case'32':this[_0x3901b0(0x102)][_0x3901b0(0x129)][_0x3901b0(0x10f)](_0x3610d9[_0x3901b0(0x123)]);continue;case'33':this[_0x3901b0(0x143)][_0x3901b0(0x19e)][_0x3901b0(0x122)]=_0x3610d9[_0x3901b0(0xf2)];continue;case'34':this[_0x3901b0(0x193)][_0x3901b0(0x1a1)](this[_0x3901b0(0xfa)]);continue;}break;}}[_0x59e11d(0x142)](){const _0x1c7e85=_0x59e11d,_0x2c38eb={'aXkPy':function(_0x468bcc,_0xd0f54d){return _0x468bcc(_0xd0f54d);},'UqASk':_0x1c7e85(0xf1),'qvSvp':function(_0x37c926,_0x3e83a2){return _0x37c926===_0x3e83a2;},'TeqGa':_0x1c7e85(0x14e),'xgmsk':_0x1c7e85(0x116),'stThF':'micButton','acuow':_0x1c7e85(0x1a4)};this[_0x1c7e85(0x158)]=new SpeechProcessor({'onResult':(_0x31a5a3,_0x1c2927)=>{const _0xac7ca8=_0x1c7e85;this[_0xac7ca8(0xc9)][_0xac7ca8(0x155)]=_0xac7ca8(0x171)+_0x31a5a3+_0xac7ca8(0x14f)+_0x1c2927+_0xac7ca8(0x1ab);},'onError':_0x3edea2=>{const _0x47467b=_0x1c7e85;_0x2c38eb[_0x47467b(0x10b)](displayError,_0x3edea2);},'onSilence':_0x2de223=>{const _0x394c1f=_0x1c7e85;if(_0x2de223===_0x2c38eb[_0x394c1f(0x16f)])this[_0x394c1f(0x156)]();else{if(_0x2c38eb['qvSvp'](_0x2de223,_0x2c38eb[_0x394c1f(0x140)]))this[_0x394c1f(0x156)]();else _0x2de223===_0x2c38eb[_0x394c1f(0x159)]&&this['askForConfirmation']();}},'onRecordingStart':()=>{const _0x1b3681=_0x1c7e85,_0x329841=document[_0x1b3681(0x17f)](_0x2c38eb['stThF']);_0x329841&&_0x329841['classList'][_0x1b3681(0x10f)](_0x2c38eb[_0x1b3681(0x127)]);},'onRecordingStop':()=>{const _0x52776a=_0x1c7e85,_0x26a8f9=document[_0x52776a(0x17f)](_0x2c38eb[_0x52776a(0x130)]);_0x26a8f9&&_0x26a8f9[_0x52776a(0x129)][_0x52776a(0x15e)](_0x2c38eb[_0x52776a(0x127)]);},'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}['setupEventListeners'](){const _0x4f2ded=_0x59e11d,_0x33e5b1={'wXBXO':'none','yEaUV':_0x4f2ded(0x10a),'wjNjt':'yesButton','KMSxA':_0x4f2ded(0x198)};this[_0x4f2ded(0x102)][_0x4f2ded(0x146)](_0x33e5b1['yEaUV'],()=>{const _0x7097f0=_0x4f2ded;this[_0x7097f0(0x167)]();}),document[_0x4f2ded(0x17f)](_0x33e5b1[_0x4f2ded(0x132)])[_0x4f2ded(0x146)](_0x4f2ded(0x10a),()=>{const _0xf20aab=_0x4f2ded;this['confirmationPrompt'][_0xf20aab(0x19e)][_0xf20aab(0x122)]=_0x33e5b1[_0xf20aab(0x18f)],this[_0xf20aab(0x156)]();}),document[_0x4f2ded(0x17f)](_0x33e5b1[_0x4f2ded(0x121)])[_0x4f2ded(0x146)](_0x33e5b1[_0x4f2ded(0x160)],()=>{const _0x2404b1=_0x4f2ded;this['confirmationPrompt'][_0x2404b1(0x19e)][_0x2404b1(0x122)]=_0x33e5b1[_0x2404b1(0x18f)];if(this[_0x2404b1(0x158)])this[_0x2404b1(0x158)][_0x2404b1(0xd8)]();});}[_0x59e11d(0x18c)](){const _0x36999b=_0x59e11d,_0x33ca3b={'WpHFZ':_0x36999b(0x1a9),'zmPNZ':'timeoutMessage','ausTm':'block','sxcNv':function(_0x445678,_0x4b4d9f){return _0x445678!==_0x4b4d9f;},'wpstc':'3px\x20solid\x20#17a2b8','kfpqv':_0x36999b(0x149),'ZTthT':_0x36999b(0x17c),'GHefI':_0x36999b(0x114),'JwTkU':_0x36999b(0x16d)};if(this[_0x36999b(0x158)])this[_0x36999b(0x158)][_0x36999b(0xdf)]();this[_0x36999b(0x126)]['style'][_0x36999b(0x122)]=_0x33ca3b['ausTm'],this['confirmationPrompt'][_0x36999b(0x19e)]['border']=_0x33ca3b[_0x36999b(0xfc)],this['confirmationPrompt'][_0x36999b(0x19e)]['animation']=_0x33ca3b[_0x36999b(0x18a)];if(!document[_0x36999b(0x17f)](_0x36999b(0x168))){const _0xe41b5f=document[_0x36999b(0x103)](_0x33ca3b[_0x36999b(0x172)]);_0xe41b5f['id']=_0x33ca3b[_0x36999b(0x120)],_0xe41b5f[_0x36999b(0x19e)][_0x36999b(0x122)]=_0x33ca3b[_0x36999b(0x1a5)],_0xe41b5f[_0x36999b(0x19e)][_0x36999b(0x185)]=_0x33ca3b['GHefI'],_0xe41b5f[_0x36999b(0x19e)][_0x36999b(0x11c)]='bold',_0xe41b5f[_0x36999b(0xba)]=_0x33ca3b[_0x36999b(0xc3)],this[_0x36999b(0x126)]['appendChild'](_0xe41b5f);}if(this[_0x36999b(0x158)]){const _0xb59174=this[_0x36999b(0x158)][_0x36999b(0x17a)](()=>{const _0x1896aa=_0x36999b;this['confirmationPrompt'][_0x1896aa(0x19e)]['display']=_0x1896aa(0x1a9),this[_0x1896aa(0x156)]();},()=>{const _0x21dd40=_0x36999b;this['confirmationPrompt']['style'][_0x21dd40(0x122)]=_0x33ca3b[_0x21dd40(0x1a5)],this[_0x21dd40(0x158)]['startRecording']();},()=>{const _0x524d87=_0x36999b;this['confirmationPrompt'][_0x524d87(0x19e)]['animation']=_0x33ca3b['WpHFZ'],document['getElementById'](_0x33ca3b[_0x524d87(0x120)])&&(document[_0x524d87(0x17f)](_0x524d87(0x168))[_0x524d87(0x19e)][_0x524d87(0x122)]=_0x33ca3b['ausTm']);});}setTimeout(()=>{const _0x4254d9=_0x36999b;if(_0x33ca3b['sxcNv'](this[_0x4254d9(0x126)][_0x4254d9(0x19e)][_0x4254d9(0x122)],_0x33ca3b[_0x4254d9(0x1a5)])){console['log'](_0x4254d9(0x17b)),this[_0x4254d9(0x126)][_0x4254d9(0x19e)][_0x4254d9(0x122)]=_0x33ca3b[_0x4254d9(0x1a5)];if(this[_0x4254d9(0x158)])this[_0x4254d9(0x158)][_0x4254d9(0xd8)]();}},0x1b58);}[_0x59e11d(0x156)](){const _0x3adcdb=_0x59e11d;if(this[_0x3adcdb(0x158)])this[_0x3adcdb(0x158)]['stopRecording']();this[_0x3adcdb(0x126)][_0x3adcdb(0x19e)][_0x3adcdb(0x122)]=_0x3adcdb(0x1a9);const _0x1ccce0=(this['speechProcessor']?this[_0x3adcdb(0x158)][_0x3adcdb(0x13a)]():'')[_0x3adcdb(0x165)](/done|i am finished|that's all|yes|correct/gi,'')[_0x3adcdb(0xcd)]();this[_0x3adcdb(0x11b)][_0x3adcdb(0x11f)][this[_0x3adcdb(0x11b)][_0x3adcdb(0x182)]]=_0x1ccce0,this[_0x3adcdb(0xc9)]['innerHTML']=_0x3adcdb(0x171)+_0x1ccce0,this['compareAnswer'](_0x1ccce0,this[_0x3adcdb(0x11b)][_0x3adcdb(0x194)][this[_0x3adcdb(0x11b)][_0x3adcdb(0x182)]][_0x3adcdb(0x147)]);}async[_0x59e11d(0x115)](_0x4a5429,_0xdd726){const _0x19659d=_0x59e11d,_0x2f84cb={'BVWIQ':'üí¨\x20User\x20Answer\x20being\x20sent\x20for\x20comparison:','dkrhc':_0x19659d(0x1a0),'cjoRo':'system','VGHOm':'You\x20are\x20an\x20advanced\x20answer\x20comparison\x20assistant.\x20Analyze\x20the\x20user\x27s\x20answer\x20against\x20the\x20correct\x20answer\x20by\x20identifying\x20main\x20points,\x20calculating\x20a\x20percentage\x20match,\x20and\x20highlighting\x20similarities\x20and\x20differences.\x20Provide\x20structured\x20feedback\x20in\x20JSON\x20format.','CutvB':_0x19659d(0x119),'Ojtjf':'üìù\x20Prompt\x20being\x20sent\x20to\x20AI:','zsHmn':_0x19659d(0x151),'jhvAu':'none','bHKsd':function(_0x4b384f,_0x4dac06){return _0x4b384f===_0x4dac06;},'mRJEB':'object','zcgNg':_0x19659d(0xb8),'zfXjB':'‚ú®\x20Parsed\x20Result:','nlirX':_0x19659d(0x196),'utWag':_0x19659d(0xe2),'yEgBK':_0x19659d(0x19a)};await this[_0x19659d(0x14d)][_0x19659d(0x14a)](),console[_0x19659d(0x152)](_0x2f84cb[_0x19659d(0x169)],_0x4a5429),console['log'](_0x2f84cb[_0x19659d(0xc0)],_0xdd726);try{const _0x104b85=JSON[_0x19659d(0x12a)]([{'role':_0x2f84cb[_0x19659d(0x180)],'content':_0x2f84cb[_0x19659d(0xf8)]},{'role':_0x2f84cb['CutvB'],'content':_0x19659d(0x105)+_0x4a5429+_0x19659d(0x11a)+_0xdd726+_0x19659d(0xde)}]);console[_0x19659d(0x152)](_0x2f84cb[_0x19659d(0x148)],_0x104b85);const _0x1a8c81=document[_0x19659d(0x17f)]('loader');if(_0x1a8c81)_0x1a8c81[_0x19659d(0x19e)][_0x19659d(0x122)]=_0x2f84cb[_0x19659d(0xe0)];const _0xd4be33=await aiAdapter['generateResponse'](_0x104b85);let _0x257c26=_0xd4be33['choices'][0x0][_0x19659d(0x131)][_0x19659d(0x1ac)];if(_0x1a8c81)_0x1a8c81[_0x19659d(0x19e)][_0x19659d(0x122)]=_0x2f84cb[_0x19659d(0x183)];try{_0x2f84cb[_0x19659d(0x19b)](typeof _0x257c26,_0x2f84cb[_0x19659d(0x190)])?console[_0x19659d(0x152)](_0x2f84cb[_0x19659d(0x189)]):(_0x257c26=JSON[_0x19659d(0x124)](_0x257c26),console[_0x19659d(0x152)](_0x2f84cb['zfXjB'],_0x257c26)),this[_0x19659d(0xdc)](_0x257c26);}catch(_0x5ac8a7){console[_0x19659d(0x1aa)](_0x19659d(0xd5),_0x5ac8a7),Logger[_0x19659d(0x1aa)](_0x2f84cb['nlirX'],_0x5ac8a7),this['displayResults']({'percentageMatch':0x0,'feedback':_0x2f84cb[_0x19659d(0xca)],'missingPoints':[]});}}catch(_0x58da26){console['error'](_0x2f84cb[_0x19659d(0xfb)],_0x58da26);const _0x29f158=document[_0x19659d(0x17f)]('loader');if(_0x29f158)_0x29f158[_0x19659d(0x19e)][_0x19659d(0x122)]=_0x2f84cb[_0x19659d(0x183)];Logger[_0x19659d(0x1aa)](_0x19659d(0xb6),_0x58da26),this[_0x19659d(0xdc)]({'percentageMatch':0x0,'feedback':_0x2f84cb[_0x19659d(0xca)],'missingPoints':[]});}}[_0x59e11d(0xdc)](_0x441107){const _0x244c5e=_0x59e11d,_0xa62512={'ZtmRH':_0x244c5e(0x163),'LWGyn':_0x244c5e(0xcc),'ggwus':_0x244c5e(0x151),'xGCEL':function(_0x118e54,_0x26d25b){return _0x118e54>=_0x26d25b;},'IEwUC':'Excellent!\x20üéâ','sZTOL':_0x244c5e(0x106),'CxYpz':_0x244c5e(0xf0),'FiNeu':function(_0x2b98a0,_0xc80977){return _0x2b98a0>_0xc80977;},'rrqNV':function(_0x24ec42,_0x4d2488){return _0x24ec42<_0x4d2488;},'gUsHm':function(_0xcce622,_0x29b762){return _0xcce622-_0x29b762;},'oMGJW':function(_0x480623,_0x356970,_0x38a3b7){return _0x480623(_0x356970,_0x38a3b7);}};this[_0x244c5e(0xcb)]['style'][_0x244c5e(0x122)]='block',this[_0x244c5e(0x143)][_0x244c5e(0x19e)]['display']=_0xa62512['ggwus'],this['nextButton'][_0x244c5e(0x19e)][_0x244c5e(0x122)]=_0xa62512[_0x244c5e(0xe6)];let _0x1792fc='',_0xa08d17='';if(_0xa62512[_0x244c5e(0x10e)](_0x441107[_0x244c5e(0xb7)],0x5a))_0x1792fc=_0xa62512[_0x244c5e(0xbc)],_0xa08d17=_0x244c5e(0x133);else{if(_0xa62512[_0x244c5e(0x10e)](_0x441107[_0x244c5e(0xb7)],0x50))_0x1792fc=_0x244c5e(0xea),_0xa08d17=_0xa62512[_0x244c5e(0x12f)];else _0x441107['percentageMatch']>=0x32?(_0x1792fc=_0x244c5e(0x110),_0xa08d17='ok'):(_0x1792fc=_0x244c5e(0x179),_0xa08d17=_0xa62512[_0x244c5e(0x16a)]);}this['resultDisplay'][_0x244c5e(0x155)]=_0x244c5e(0x15a)+_0xa08d17+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>'+_0x1792fc+_0x244c5e(0xf7)+Math['round'](_0x441107[_0x244c5e(0xb7)])+_0x244c5e(0x170)+_0x441107[_0x244c5e(0xc2)]+_0x244c5e(0x111);let _0x10c983=this[_0x244c5e(0x11b)][_0x244c5e(0x194)][this[_0x244c5e(0x11b)][_0x244c5e(0x182)]][_0x244c5e(0x147)];_0x441107[_0x244c5e(0xd3)]&&_0xa62512[_0x244c5e(0x187)](_0x441107[_0x244c5e(0xd3)]['length'],0x0)&&_0x441107[_0x244c5e(0xd3)][_0x244c5e(0x153)](_0x312f9d=>{const _0x138c0e=_0x244c5e,_0x3cd38b=new RegExp('('+_0x312f9d[_0x138c0e(0x165)](/[.*+?^${}()|[\]\\]/g,_0xa62512[_0x138c0e(0xcf)])+')','gi');_0x10c983=_0x10c983['replace'](_0x3cd38b,_0xa62512[_0x138c0e(0x19c)]);}),this[_0x244c5e(0x143)][_0x244c5e(0x155)]=_0x244c5e(0x19f)+_0x10c983+_0x244c5e(0x186),_0xa62512[_0x244c5e(0x195)](this[_0x244c5e(0x11b)][_0x244c5e(0x182)],_0xa62512[_0x244c5e(0x109)](this[_0x244c5e(0x11b)][_0x244c5e(0x194)][_0x244c5e(0x1a8)],0x1))&&_0xa62512['oMGJW'](setTimeout,()=>{const _0xba74f6=_0x244c5e;if(this[_0xba74f6(0xeb)])this[_0xba74f6(0xeb)]();},0x3e8);}[_0x59e11d(0x173)](_0x51791f){const _0x24cacc=_0x59e11d,_0x5a778c=[/Q\d*\s*[:.-]\s*.*\s*A\s*[:.-]/i,/\d+\s*[).]\s*.*\s*Answer\s*[:.-]/i,/Question\s*\d+\s*[:.-]/i,/\b[Qq]uestion\b.*\b[Aa]nswer\b/];return _0x5a778c['some'](_0x148996=>_0x148996[_0x24cacc(0x1a3)](_0x51791f));}[_0x59e11d(0x164)](_0x27f4ab){const _0x468553=_0x59e11d,_0x52880e={'QSTjy':function(_0x2cefaf,_0x3a074f){return _0x2cefaf&&_0x3a074f;},'aFCwy':_0x468553(0xec),'VMZSy':function(_0x368c67,_0x1c2573){return _0x368c67>_0x1c2573;},'erjan':function(_0x285add,_0x1b33cc){return _0x285add===_0x1b33cc;},'AzjTn':function(_0x1ea39b,_0x4c705d){return _0x1ea39b<_0x4c705d;},'rXJMG':'Answer:','SvvNY':_0x468553(0xf9),'fqVsW':_0x468553(0x14b),'EDojO':function(_0x550918,_0x2d592c){return _0x550918&&_0x2d592c;},'CcIrZ':'Could\x20use\x20AI\x20to\x20extract\x20Q&A\x20pairs\x20from\x20unstructured\x20text','vucxX':_0x468553(0x145),'DPfeH':'Failed\x20to\x20parse\x20quiz\x20questions:'};console[_0x468553(0x152)](_0x52880e[_0x468553(0x181)],_0x27f4ab);try{try{const _0x5ea147=JSON[_0x468553(0x124)](_0x27f4ab);if(Array[_0x468553(0x192)](_0x5ea147)&&_0x52880e[_0x468553(0xbd)](_0x5ea147[_0x468553(0x1a8)],0x0)&&_0x5ea147[0x0][_0x468553(0xda)]&&_0x5ea147[0x0][_0x468553(0x147)])return _0x5ea147;}catch(_0x2431fd){}const _0x9cd624=[],_0x501485=_0x27f4ab[_0x468553(0x135)](/(?:Q:|Question:?|^\d+\.?)\s*(.+?)(?:A:|Answer:?)\s*(.+?)(?=(?:Q:|Question:?|^\d+\.?)|$)/gis);_0x501485&&_0x501485[_0x468553(0x1a8)]>0x0&&_0x501485[_0x468553(0x153)](_0x56e31c=>{const _0x43e834=_0x468553,_0x72322c=_0x56e31c[_0x43e834(0x135)](/(?:Q:|Question:?|^\d+\.?)\s*(.+?)(?=A:|Answer:?)/is),_0x4e5237=_0x56e31c[_0x43e834(0x135)](/(?:A:|Answer:?)\s*(.+?)$/is);_0x52880e[_0x43e834(0x101)](_0x72322c,_0x4e5237)&&_0x9cd624[_0x43e834(0x12d)]({'question':_0x72322c[0x1][_0x43e834(0xcd)](),'answer':_0x4e5237[0x1]['trim']()});});if(_0x52880e[_0x468553(0x137)](_0x9cd624[_0x468553(0x1a8)],0x0)){const _0x835110=_0x27f4ab['split'](/\n\s*\n|\d+\s*[).]|\bQ\d*\s*[:.]/);for(let _0x191176=0x0;_0x52880e['AzjTn'](_0x191176,_0x835110[_0x468553(0x1a8)]);_0x191176++){const _0x16719c=_0x835110[_0x191176][_0x468553(0xcd)]();if(!_0x16719c)continue;const _0x3bf60e=[_0x52880e[_0x468553(0xc8)],'A:',_0x52880e[_0x468553(0x13d)],_0x52880e['fqVsW']];let _0x1663b1=_0x16719c,_0x45cfff='';for(const _0x3716b1 of _0x3bf60e){if(_0x16719c['includes'](_0x3716b1)){const _0x20dbd4=_0x16719c['split'](_0x3716b1);_0x1663b1=_0x20dbd4[0x0]['trim'](),_0x45cfff=_0x20dbd4[0x1][_0x468553(0xcd)]();break;}}_0x52880e[_0x468553(0x10d)](_0x1663b1,_0x45cfff)&&_0x9cd624[_0x468553(0x12d)]({'question':_0x1663b1,'answer':_0x45cfff});}}return _0x52880e[_0x468553(0x137)](_0x9cd624['length'],0x0)&&aiLanguageSession&&console[_0x468553(0x152)](_0x52880e[_0x468553(0x113)]),console[_0x468553(0x152)](_0x52880e[_0x468553(0x15c)],_0x9cd624),_0x9cd624;}catch(_0xb7595b){return Logger[_0x468553(0x1aa)](_0x52880e[_0x468553(0x157)],_0xb7595b),console[_0x468553(0x152)](_0x52880e['DPfeH'],_0xb7595b),null;}}[_0x59e11d(0xd7)](_0x3af06c){const _0xe63d69=_0x59e11d,_0x339476={'cXnWF':function(_0x245f8f,_0x3d628d){return _0x245f8f(_0x3d628d);},'RmuiW':_0xe63d69(0x17d),'yDlir':_0xe63d69(0x107),'uYtMq':_0xe63d69(0x1a9),'tVutF':'block','ziFDV':_0xe63d69(0x118)};this[_0xe63d69(0x11b)]={'questions':_0x3af06c,'currentQuestionIndex':0x0,'userAnswers':_0x339476[_0xe63d69(0x12c)](Array,_0x3af06c[_0xe63d69(0x1a8)])['fill'](''),'isRecording':![],'recordingTimeout':null,'minimumWordCount':0x5,'wordCount':0x0,'accumulatedAnswer':''};const _0x69e4f7=document['getElementById'](_0x339476[_0xe63d69(0x1a6)]),_0x117fa6=document[_0xe63d69(0x17f)](_0x339476[_0xe63d69(0x104)]);if(_0x69e4f7)_0x69e4f7[_0xe63d69(0x19e)][_0xe63d69(0x122)]=_0x339476[_0xe63d69(0xd1)];if(_0x117fa6)_0x117fa6[_0xe63d69(0x19e)][_0xe63d69(0x122)]=_0x339476[_0xe63d69(0xd1)];this[_0xe63d69(0x193)][_0xe63d69(0x19e)][_0xe63d69(0x122)]=_0x339476[_0xe63d69(0xd4)],this[_0xe63d69(0x141)](_0x339476[_0xe63d69(0x176)],_0x3af06c),this[_0xe63d69(0x150)]();}[_0x59e11d(0x150)](){const _0x1555ff=_0x59e11d,_0x18c252={'xFuuC':_0x1555ff(0x1a9),'OZbkd':_0x1555ff(0x117)};this[_0x1555ff(0xcb)][_0x1555ff(0x19e)][_0x1555ff(0x122)]=_0x18c252[_0x1555ff(0xef)],this[_0x1555ff(0x143)]['style'][_0x1555ff(0x122)]=_0x18c252[_0x1555ff(0xef)],this['nextButton'][_0x1555ff(0x19e)]['display']=_0x18c252[_0x1555ff(0xef)],this[_0x1555ff(0x126)][_0x1555ff(0x19e)][_0x1555ff(0x122)]=_0x18c252['xFuuC'],this[_0x1555ff(0x11b)][_0x1555ff(0x11d)]='',this[_0x1555ff(0x11b)][_0x1555ff(0x175)]=0x0;this[_0x1555ff(0x158)]&&this[_0x1555ff(0x158)][_0x1555ff(0x197)]();this['userAnswerDisplay']['innerHTML']=_0x1555ff(0xdd);const _0x41d639=this['currentQuiz']['questions'][this['currentQuiz'][_0x1555ff(0x182)]];this['questionDisplay'][_0x1555ff(0x155)]=_0x1555ff(0xbb)+(this[_0x1555ff(0x11b)]['currentQuestionIndex']+0x1)+_0x1555ff(0xe9)+this[_0x1555ff(0x11b)][_0x1555ff(0x194)][_0x1555ff(0x1a8)]+_0x1555ff(0x178)+_0x41d639[_0x1555ff(0xda)]+'</p>\x0a\x20\x20\x20\x20',this[_0x1555ff(0x141)](_0x18c252['OZbkd'],{'index':this[_0x1555ff(0x11b)]['currentQuestionIndex'],'question':_0x41d639}),this['speechProcessor']['speakText'](_0x41d639[_0x1555ff(0xda)])[_0x1555ff(0x13c)](()=>this[_0x1555ff(0x158)]['startRecording'](this[_0x1555ff(0x11b)]));}[_0x59e11d(0x167)](){const _0x1c7f64=_0x59e11d,_0x1c94af={'nMKYp':function(_0x22c510,_0x547d58){return _0x22c510<_0x547d58;},'hBoxg':function(_0x48d154,_0x3b7102){return _0x48d154-_0x3b7102;}};_0x1c94af[_0x1c7f64(0x125)](this['currentQuiz'][_0x1c7f64(0x182)],_0x1c94af[_0x1c7f64(0x19d)](this[_0x1c7f64(0x11b)][_0x1c7f64(0x194)][_0x1c7f64(0x1a8)],0x1))?(this[_0x1c7f64(0x11b)]['currentQuestionIndex']++,this[_0x1c7f64(0x158)]&&this['speechProcessor'][_0x1c7f64(0xbf)]&&this['speechProcessor'][_0x1c7f64(0xdf)](),this[_0x1c7f64(0x150)]()):this['finishQuiz']();}[_0x59e11d(0xb9)](){const _0x1a4b9d=_0x59e11d,_0x4038ac={'sZwrz':_0x1a4b9d(0x1a9),'HlUyP':_0x1a4b9d(0x17d),'bQMvb':_0x1a4b9d(0xd9),'LfQjV':_0x1a4b9d(0x15b),'CXHjD':'quizCompleted','xqjjw':_0x1a4b9d(0xe4),'mXqXr':_0x1a4b9d(0x10a)};this['quizContainer'][_0x1a4b9d(0x155)]=_0x1a4b9d(0xe8)+this[_0x1a4b9d(0x11b)][_0x1a4b9d(0x194)][_0x1a4b9d(0x1a8)]+_0x1a4b9d(0x13e)+this[_0x1a4b9d(0xd6)]()+'\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22returnToChatButton\x22\x20class=\x22next-button\x22>Return\x20to\x20Chat</button>\x0a\x20\x20\x20\x20',this[_0x1a4b9d(0x141)](_0x4038ac[_0x1a4b9d(0x128)],{'questions':this[_0x1a4b9d(0x11b)]['questions'],'answers':this[_0x1a4b9d(0x11b)][_0x1a4b9d(0x11f)]}),document[_0x1a4b9d(0x17f)](_0x4038ac[_0x1a4b9d(0x188)])['addEventListener'](_0x4038ac[_0x1a4b9d(0xe3)],()=>{const _0x1aab7c=_0x1a4b9d;this[_0x1aab7c(0x193)][_0x1aab7c(0x19e)][_0x1aab7c(0x122)]=_0x4038ac[_0x1aab7c(0x139)];const _0x1f8b98=document[_0x1aab7c(0x17f)](_0x1aab7c(0x107)),_0x2b51bf=document[_0x1aab7c(0x17f)](_0x4038ac[_0x1aab7c(0x108)]);if(_0x1f8b98)_0x1f8b98[_0x1aab7c(0x19e)][_0x1aab7c(0x122)]='flex';if(_0x2b51bf)_0x2b51bf['style'][_0x1aab7c(0x122)]=_0x4038ac['bQMvb'];this[_0x1aab7c(0x141)](_0x4038ac['LfQjV']);});}[_0x59e11d(0xd6)](){const _0x2c92cc=_0x59e11d,_0x2f8fab={'agIQi':_0x2c92cc(0xf3),'QzFMM':function(_0x202a93,_0x37c591){return _0x202a93+_0x37c591;},'bCrQw':_0x2c92cc(0xfe)};let _0x2653d5=_0x2f8fab['bCrQw'];return this[_0x2c92cc(0x11b)]['questions']['forEach']((_0x2d7bfa,_0x5b9bc0)=>{const _0x59f24c=_0x2c92cc,_0x32f683=this['currentQuiz'][_0x59f24c(0x11f)][_0x5b9bc0]||_0x2f8fab[_0x59f24c(0x161)];_0x2653d5+=_0x59f24c(0xe5)+_0x2f8fab[_0x59f24c(0x18d)](_0x5b9bc0,0x1)+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Q:</strong>\x20'+_0x2d7bfa[_0x59f24c(0xda)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Your\x20answer:</strong>\x20'+_0x32f683+_0x59f24c(0x134)+_0x2d7bfa[_0x59f24c(0x147)]+_0x59f24c(0xbe);}),_0x2653d5+=_0x2c92cc(0x144),_0x2653d5;}['on'](_0x51dc54,_0x4336f4){const _0xb29d6a=_0x59e11d;return!this[_0xb29d6a(0x166)][_0x51dc54]&&(this[_0xb29d6a(0x166)][_0x51dc54]=[]),this['eventListeners'][_0x51dc54][_0xb29d6a(0x12d)](_0x4336f4),this;}[_0x59e11d(0x15f)](_0x5c4727,_0x58a274){const _0x21ac07=_0x59e11d;if(!this[_0x21ac07(0x166)][_0x5c4727])return this;return!_0x58a274?this[_0x21ac07(0x166)][_0x5c4727]=[]:this[_0x21ac07(0x166)][_0x5c4727]=this['eventListeners'][_0x5c4727]['filter'](_0x12def9=>_0x12def9!==_0x58a274),this;}[_0x59e11d(0x141)](_0x4e2763,_0x507434){const _0x116098=_0x59e11d;if(!this[_0x116098(0x166)][_0x4e2763])return;this[_0x116098(0x166)][_0x4e2763][_0x116098(0x153)](_0xf9a0a4=>_0xf9a0a4(_0x507434));}}