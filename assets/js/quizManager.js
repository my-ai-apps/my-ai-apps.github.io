
/*!
Copyright ¬© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
function _0x11c7(){const _0x11d403=['returnedToChat','TWkeE','901660nMXbCX','OuVrU','speechProcessor','‚úÖ\x20Correct\x20Answer\x20being\x20sent\x20for\x20comparison:','auto','KLHyP','user-answer-display','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>','fEEQR','add','\x0a\x20\x20\x20\x20\x20\x20<h2>Quiz\x20Completed!</h2>\x0a\x20\x20\x20\x20\x20\x20<p>You\x27ve\x20completed\x20all\x20','\x0a\x20\x20\x20\x20\x20\x20<p>Done?</p>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22confirmation-buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22yesButton\x22\x20class=\x22confirm-button\x22>Yes</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22noButton\x22\x20class=\x22confirm-button\x22>No</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<strong>Your\x20answer:</strong>\x20<em>(Speak\x20now...)</em>','JtLAC','loaderElement','iXFpF','nextButton','Failed\x20to\x20parse\x20quiz\x20questions:','</p>\x0a\x20\x20\x20\x20','nextQuestion','lBDVg','split','GWAKG','vjPKx','createUIElements','PwEtI','ukEKx','userAnswers','Failed\x20to\x20parse\x20AI\x20response\x20as\x20JSON:','QHvNR','PGWcm','stopRecording','Pcigj','ysWhI','hvQKX','quizContainer','isPaused','rcloz','472NkkuRy','wordCount','flCbo','match','none','2|4|10|1|7|3|5|11|6|8|9|0','feedback','1039220TKABaq','result-display','yObtM','Sorry,\x20there\x20was\x20an\x20error\x20analyzing\x20your\x20answer.','UCJyq','innerHTML','parse','xDlWJ','KjtZg','3hzSwGT','TTnqp','Answer\x20comparison\x20error:','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Correct\x20answer:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','yesButton','nPuBE','speakText','kqKlc','stkEc','üìù\x20Prompt\x20being\x20sent\x20to\x20AI:','SBQsm','correctAnswerDisplay','OuzYB','‚ú®\x20Parsed\x20Result:','resetAccumulatedText','\x0a\x20\x20\x20\x20\x20\x20<h2>Question\x20','some','Next\x20Question','currentQuiz','chatContainer','good','#dc3545','<span\x20class=\x22interim\x22>','KswxP','Jfntn','104681onKVgb','eaCAZ','display','setupEventListeners','generateQuizSummary','gHeZV','.input-container','blink\x201s\x20infinite','showAutoAdvancePrompt','getElementById','JIIbz','\x0aAnswer.','uLqMR','border','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Please\x20return\x20a\x20JSON\x20object\x20with\x20the\x20following\x20fields:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20percentageMatch\x20(number):\x20Percentage\x20of\x20key\x20points\x20covered\x20by\x20the\x20user.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20feedback\x20(string):\x20Constructive\x20feedback\x20on\x20strengths\x20and\x20areas\x20to\x20improve.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20missingPoints\x20(array\x20of\x20strings):\x20Key\x20points\x20not\x20mentioned\x20by\x20the\x20user.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20similarities\x20(array\x20of\x20strings):\x20Important\x20points\x20both\x20answers\x20share.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20differences\x20(array\x20of\x20strings):\x20Notable\x20differences\x20in\x20content\x20or\x20emphasis.','kuGGd','user','querySelector','stringify','quizCompleted','addEventListener','\x0aA.','awIaF','startQuiz','\x20questions.</p>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-summary\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','FhEPt','accumulatedAnswer','‚ùå\x20JSON\x20Parse\x20Error:','noButton','getAccumulatedText','confirmationPrompt','length','remove','classList','trim','style','JvrKv','jPwGZ','returnToChatButton','kdKtR','isQuizFormat','Parsed\x20questions:','zuVMP','init','Sbaos','confirmAnswerCompletion','3|2|1|4|0','extended','Answer:','next-button','Good!\x20üëç','questions','click','initializeSpeechManager','questionDisplay','6mppCxi','fill','</h2>\x0a\x20\x20\x20\x20\x20\x20<p>','ggbvI','kveob','loadCurrentQuestion','quizStarted','1703756umFyPX','QqlAt','welcomeScreen','appendChild','error','RkzTT','‚ùå\x20Compare\x20Answer\x20Error:','object','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','createElement','4jcbsHh','<span\x20class=\x22highlight\x22>$1</span>','üõë\x20cleanedResponse\x20is\x20already\x20an\x20object,\x20skipping\x20JSON.parse.','47133gpSAOR','resultDisplay','then','VgUMV','üí¨\x20User\x20Answer\x20being\x20sent\x20for\x20comparison:','recording','push','pWoeH','emit','excellent','test','yqKUH','insertBefore','animation','OJVvZ','finishQuiz','fontWeight','flex','startRecording','EnBEG','gWejA','lzKxy','compareAnswer','currentQuestionIndex','QuizManager\x20initialized','missingPoints','prompt','XAByQ','No\x20response\x20detected,\x20resuming\x20recording.','Try\x20again\x20ü§î','log','questionLoaded','Could\x20use\x20AI\x20to\x20extract\x20Q&A\x20pairs\x20from\x20unstructured\x20text','No\x20response\x20detected.\x20Click\x20Yes\x20or\x20No.','mNyHD','userAnswerDisplay','correct-answer-display','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Q:</strong>\x20','üìù\x20Loader\x20element\x20set\x20to\x20block:','FTKjp','QNiPs','vxvEA','button','poor','ZkARZ','replace','innerText','system','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Correct\x20answer:</strong>\x20','<strong>Your\x20answer:</strong>\x20','answer','</div>','1124144HqsFaA','forEach','rQrjL','3919883lTmpYT','You\x20are\x20an\x20advanced\x20answer\x20comparison\x20assistant.\x20Analyze\x20the\x20user\x27s\x20answer\x20against\x20the\x20correct\x20answer\x20by\x20identifying\x20main\x20points,\x20calculating\x20a\x20percentage\x20match,\x20and\x20highlighting\x20similarities\x20and\x20differences.\x20Provide\x20structured\x20feedback\x20in\x20JSON\x20format.','jSJql','njMJu','<div\x20class=\x22summary-container\x22>','qZInw','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Your\x20answer:</strong>\x20','bwUKP','bpqmV','askForConfirmation','VaGlx','MNITW','owOkY','ASulL','question-display','block','percentageMatch','eventListeners','displayResults','question','color','loader','%\x20Match</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22returnToChatButton\x22\x20class=\x22next-button\x22>Return\x20to\x20Chat</button>\x0a\x20\x20\x20\x20','wdocz','div','OK\x20üëå','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22rating\x20','\x0a\x20\x20\x20\x20\x20\x20<h3>Complete\x20Answer:</h3>\x0a\x20\x20\x20\x20\x20\x20<p>','off'];_0x11c7=function(){return _0x11d403;};return _0x11c7();}const _0xf87b72=_0x12f5;(function(_0x164299,_0x166a53){const _0x3b9e50=_0x12f5,_0x19fa66=_0x164299();while(!![]){try{const _0x146baf=parseInt(_0x3b9e50(0x14e))/0x1*(-parseInt(_0x3b9e50(0x196))/0x2)+parseInt(_0x3b9e50(0x135))/0x3*(parseInt(_0x3b9e50(0x18c))/0x4)+parseInt(_0x3b9e50(0xff))/0x5*(-parseInt(_0x3b9e50(0x185))/0x6)+parseInt(_0x3b9e50(0x1cd))/0x7+-parseInt(_0x3b9e50(0x125))/0x8*(-parseInt(_0x3b9e50(0x199))/0x9)+parseInt(_0x3b9e50(0x12c))/0xa+-parseInt(_0x3b9e50(0x1d0))/0xb;if(_0x146baf===_0x166a53)break;else _0x19fa66['push'](_0x19fa66['shift']());}catch(_0x550f6c){_0x19fa66['push'](_0x19fa66['shift']());}}}(_0x11c7,0x3ddcd));import{displayError,Logger}from'./common.js';function _0x12f5(_0x1a1db3,_0x44be4e){const _0x11c788=_0x11c7();return _0x12f5=function(_0x12f523,_0x284e43){_0x12f523=_0x12f523-0xf0;let _0x33f9e8=_0x11c788[_0x12f523];return _0x33f9e8;},_0x12f5(_0x1a1db3,_0x44be4e);}import{aiLanguageSession,cleanJSONMarkdown,initializeLanguageSession}from'./aiCommon.js';import{SpeechProcessor}from'./speechProcessor.js';export class QuizManager{constructor(_0x1e70e6={}){const _0x5a3a0d=_0x12f5,_0x4638a2={'RVups':_0x5a3a0d(0x12a)},_0x5bd2b7=_0x4638a2['RVups']['split']('|');let _0x5b8e67=0x0;while(!![]){switch(_0x5bd2b7[_0x5b8e67++]){case'0':this['eventListeners']={};continue;case'1':this[_0x5a3a0d(0x184)]=null;continue;case'2':this[_0x5a3a0d(0x156)]=_0x1e70e6[_0x5a3a0d(0x156)]||null;continue;case'3':this[_0x5a3a0d(0x19a)]=null;continue;case'4':this['currentQuiz']={'questions':[],'currentQuestionIndex':0x0,'userAnswers':[],'isRecording':![],'recordingTimeout':null,'minimumWordCount':0x5,'wordCount':0x0,'accumulatedAnswer':''};continue;case'5':this[_0x5a3a0d(0x140)]=null;continue;case'6':this['confirmationPrompt']=null;continue;case'7':this['userAnswerDisplay']=null;continue;case'8':this[_0x5a3a0d(0x123)]=![];continue;case'9':this[_0x5a3a0d(0x101)]=null;continue;case'10':this[_0x5a3a0d(0x122)]=null;continue;case'11':this['nextButton']=null;continue;}break;}}[_0xf87b72(0x179)](){const _0x309df4=_0xf87b72,_0x284ea8={'kqKlc':'loader'},_0x2436ae=_0x309df4(0x17c)['split']('|');let _0x4d3d5c=0x0;while(!![]){switch(_0x2436ae[_0x4d3d5c++]){case'0':console['log'](_0x309df4(0x1b1));continue;case'1':this['setupEventListeners']();continue;case'2':this[_0x309df4(0x183)]();continue;case'3':this[_0x309df4(0x117)]();continue;case'4':this[_0x309df4(0x10d)]=document[_0x309df4(0x157)](_0x284ea8[_0x309df4(0x13c)]);continue;}break;}}[_0xf87b72(0x117)](){const _0x130272=_0xf87b72,_0x119301={'tshQX':_0x130272(0x1c3),'YUCHO':'quizContainer','owOkY':_0x130272(0x105),'FhEPt':_0x130272(0xf8),'zsefl':_0x130272(0x1bc),'yqKUH':'confirmation-prompt','Sbaos':_0x130272(0x184),'jSJql':_0x130272(0x129),'yObtM':'.container','FTKjp':_0x130272(0x12d),'wdocz':_0x130272(0x17f),'WXFJK':_0x130272(0x1bd),'zuVMP':'quiz-container','njMJu':_0x130272(0x1de)},_0x49ab79='18|1|25|10|20|11|30|14|8|2|5|6|17|33|3|34|23|12|0|4|28|19|29|26|31|9|32|15|16|27|7|21|22|24|13'['split']('|');let _0x57cbda=0x0;while(!![]){switch(_0x49ab79[_0x57cbda++]){case'0':this[_0x130272(0x10f)]=document[_0x130272(0x195)](_0x119301['tshQX']);continue;case'1':this['quizContainer']['id']=_0x119301['YUCHO'];continue;case'2':this[_0x130272(0x1bc)][_0x130272(0x16f)][_0x130272(0x108)](_0x119301[_0x130272(0x1dc)]);continue;case'3':this[_0x130272(0x140)]=document['createElement'](_0x130272(0xf8));continue;case'4':this[_0x130272(0x10f)]['id']=_0x130272(0x10f);continue;case'5':this[_0x130272(0x19a)]=document[_0x130272(0x195)](_0x119301[_0x130272(0x167)]);continue;case'6':this[_0x130272(0x19a)]['id']=_0x130272(0x19a);continue;case'7':this[_0x130272(0x122)][_0x130272(0x18f)](this['confirmationPrompt']);continue;case'8':this[_0x130272(0x1bc)]['id']=_0x119301['zsefl'];continue;case'9':this[_0x130272(0x16c)][_0x130272(0x16f)][_0x130272(0x108)](_0x119301[_0x130272(0x1a4)]);continue;case'10':this['quizContainer'][_0x130272(0x171)]['display']='none';continue;case'11':this['questionDisplay']['id']=_0x119301[_0x130272(0x17a)];continue;case'12':this['correctAnswerDisplay']['style'][_0x130272(0x150)]=_0x119301[_0x130272(0x1d2)];continue;case'13':document[_0x130272(0x15f)](_0x119301[_0x130272(0x12e)])[_0x130272(0x1a5)](this[_0x130272(0x122)],document[_0x130272(0x15f)](_0x130272(0x154)));continue;case'14':this['userAnswerDisplay']=document['createElement'](_0x119301[_0x130272(0x167)]);continue;case'15':this[_0x130272(0x16c)][_0x130272(0x171)][_0x130272(0x150)]=_0x119301[_0x130272(0x1d2)];continue;case'16':this[_0x130272(0x122)]['appendChild'](this[_0x130272(0x184)]);continue;case'17':this[_0x130272(0x19a)]['classList'][_0x130272(0x108)](_0x119301[_0x130272(0x1c0)]);continue;case'18':this[_0x130272(0x122)]=document[_0x130272(0x195)](_0x119301[_0x130272(0x167)]);continue;case'19':this['nextButton'][_0x130272(0x16f)][_0x130272(0x108)](_0x119301[_0x130272(0xf7)]);continue;case'20':this[_0x130272(0x184)]=document[_0x130272(0x195)](_0x119301[_0x130272(0x167)]);continue;case'21':this[_0x130272(0x122)]['appendChild'](this[_0x130272(0x19a)]);continue;case'22':this[_0x130272(0x122)][_0x130272(0x18f)](this[_0x130272(0x140)]);continue;case'23':this['correctAnswerDisplay'][_0x130272(0x16f)][_0x130272(0x108)](_0x119301['WXFJK']);continue;case'24':this[_0x130272(0x122)][_0x130272(0x18f)](this[_0x130272(0x10f)]);continue;case'25':this['quizContainer'][_0x130272(0x16f)][_0x130272(0x108)](_0x119301[_0x130272(0x178)]);continue;case'26':this[_0x130272(0x16c)]=document[_0x130272(0x195)](_0x119301[_0x130272(0x167)]);continue;case'27':this[_0x130272(0x122)][_0x130272(0x18f)](this[_0x130272(0x1bc)]);continue;case'28':this[_0x130272(0x10f)]['textContent']=_0x130272(0x146);continue;case'29':this[_0x130272(0x10f)]['style']['display']=_0x119301['jSJql'];continue;case'30':this['questionDisplay'][_0x130272(0x16f)]['add'](_0x119301[_0x130272(0x1d3)]);continue;case'31':this[_0x130272(0x16c)]['id']='confirmationPrompt';continue;case'32':this[_0x130272(0x16c)]['innerHTML']=_0x130272(0x10a);continue;case'33':this[_0x130272(0x19a)][_0x130272(0x171)]['display']=_0x119301[_0x130272(0x1d2)];continue;case'34':this[_0x130272(0x140)]['id']='correctAnswerDisplay';continue;}break;}}['initializeSpeechManager'](){const _0x127dbf=_0xf87b72,_0x5971c8={'bpqmV':function(_0x384568,_0x26ffa1){return _0x384568(_0x26ffa1);},'rQrjL':function(_0x1e48bf,_0x4f1827){return _0x1e48bf===_0x4f1827;},'dFUwD':function(_0x598bd8,_0x22ec58){return _0x598bd8===_0x22ec58;},'uLqMR':_0x127dbf(0x103),'QHvNR':_0x127dbf(0x17d),'JvrKv':'micButton','ASulL':_0x127dbf(0x19e)};this['speechProcessor']=new SpeechProcessor({'onResult':(_0x1ebaee,_0x41de5a)=>{const _0x251544=_0x127dbf;this['userAnswerDisplay']['innerHTML']=_0x251544(0x1ca)+_0x1ebaee+_0x251544(0x14b)+_0x41de5a+'</span>';},'onError':_0x2ed0a3=>{const _0x443405=_0x127dbf;_0x5971c8[_0x443405(0x1d8)](displayError,_0x2ed0a3);},'onSilence':_0x546857=>{const _0x58b9cf=_0x127dbf;if(_0x5971c8[_0x58b9cf(0x1cf)](_0x546857,'explicit'))this[_0x58b9cf(0x17b)]();else{if(_0x5971c8['dFUwD'](_0x546857,_0x5971c8[_0x58b9cf(0x15a)]))this['confirmAnswerCompletion']();else _0x546857===_0x5971c8[_0x58b9cf(0x11c)]&&this[_0x58b9cf(0x1d9)]();}},'onRecordingStart':()=>{const _0x586691=_0x127dbf,_0x155d26=document[_0x586691(0x157)](_0x5971c8[_0x586691(0x172)]);_0x155d26&&_0x155d26['classList'][_0x586691(0x108)](_0x5971c8[_0x586691(0x1dd)]);},'onRecordingStop':()=>{const _0x23e598=_0x127dbf,_0x120827=document[_0x23e598(0x157)](_0x5971c8[_0x23e598(0x172)]);_0x120827&&_0x120827[_0x23e598(0x16f)][_0x23e598(0x16e)](_0x5971c8[_0x23e598(0x1dd)]);},'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}[_0xf87b72(0x151)](){const _0xf6f340=_0xf87b72,_0x130cf1={'XzxzE':_0xf6f340(0x129),'QqlAt':_0xf6f340(0x182),'UCJyq':_0xf6f340(0x139),'pWoeH':_0xf6f340(0x16a)};this[_0xf6f340(0x10f)][_0xf6f340(0x162)](_0x130cf1[_0xf6f340(0x18d)],()=>{const _0x43803d=_0xf6f340;this[_0x43803d(0x112)]();}),document['getElementById'](_0x130cf1[_0xf6f340(0x130)])[_0xf6f340(0x162)](_0x130cf1['QqlAt'],()=>{const _0x60cdd=_0xf6f340;this[_0x60cdd(0x16c)]['style'][_0x60cdd(0x150)]=_0x130cf1['XzxzE'],this[_0x60cdd(0x17b)]();}),document[_0xf6f340(0x157)](_0x130cf1[_0xf6f340(0x1a0)])['addEventListener'](_0xf6f340(0x182),()=>{const _0x4caea6=_0xf6f340;this[_0x4caea6(0x16c)]['style'][_0x4caea6(0x150)]=_0x4caea6(0x129);if(this[_0x4caea6(0x101)])this['speechProcessor'][_0x4caea6(0x1ab)]();});}[_0xf87b72(0x1d9)](){const _0x3efcbc=_0xf87b72,_0x5c1dae={'lzKxy':_0x3efcbc(0x129),'EnBEG':'timeoutMessage','OLOzb':_0x3efcbc(0x1df),'ZkARZ':function(_0x2842be,_0x31a023){return _0x2842be!==_0x31a023;},'boPye':'3px\x20solid\x20#17a2b8','qZInw':'div','gWejA':_0x3efcbc(0x14a),'vjPKx':'bold','lBDVg':_0x3efcbc(0x1ba),'OuVrU':function(_0x499184,_0x58e7aa,_0x412b14){return _0x499184(_0x58e7aa,_0x412b14);}};if(this[_0x3efcbc(0x101)])this[_0x3efcbc(0x101)][_0x3efcbc(0x11e)]();this[_0x3efcbc(0x16c)][_0x3efcbc(0x171)][_0x3efcbc(0x150)]=_0x5c1dae['OLOzb'],this[_0x3efcbc(0x16c)][_0x3efcbc(0x171)][_0x3efcbc(0x15b)]=_0x5c1dae['boPye'],this[_0x3efcbc(0x16c)]['style']['animation']=_0x3efcbc(0x155);if(!document[_0x3efcbc(0x157)](_0x5c1dae['EnBEG'])){const _0x491fa4=document['createElement'](_0x5c1dae[_0x3efcbc(0x1d5)]);_0x491fa4['id']=_0x5c1dae['EnBEG'],_0x491fa4[_0x3efcbc(0x171)][_0x3efcbc(0x150)]=_0x5c1dae['lzKxy'],_0x491fa4[_0x3efcbc(0x171)][_0x3efcbc(0xf3)]=_0x5c1dae[_0x3efcbc(0x1ad)],_0x491fa4['style'][_0x3efcbc(0x1a9)]=_0x5c1dae[_0x3efcbc(0x116)],_0x491fa4[_0x3efcbc(0x1c7)]=_0x5c1dae[_0x3efcbc(0x113)],this[_0x3efcbc(0x16c)][_0x3efcbc(0x18f)](_0x491fa4);}if(this['speechProcessor']){const _0x2384ac=this[_0x3efcbc(0x101)]['startConfirmationRecognition'](()=>{const _0x4bac0b=_0x3efcbc;this[_0x4bac0b(0x16c)][_0x4bac0b(0x171)]['display']=_0x5c1dae[_0x4bac0b(0x1ae)],this[_0x4bac0b(0x17b)]();},()=>{const _0xd0f628=_0x3efcbc;this['confirmationPrompt'][_0xd0f628(0x171)]['display']=_0x5c1dae[_0xd0f628(0x1ae)],this[_0xd0f628(0x101)][_0xd0f628(0x1ab)]();},()=>{const _0x636a7a=_0x3efcbc;this[_0x636a7a(0x16c)]['style'][_0x636a7a(0x1a6)]=_0x5c1dae[_0x636a7a(0x1ae)],document['getElementById'](_0x5c1dae['EnBEG'])&&(document[_0x636a7a(0x157)](_0x5c1dae[_0x636a7a(0x1ac)])[_0x636a7a(0x171)][_0x636a7a(0x150)]=_0x5c1dae['OLOzb']);});}_0x5c1dae[_0x3efcbc(0x100)](setTimeout,()=>{const _0x5d2c04=_0x3efcbc;if(_0x5c1dae[_0x5d2c04(0x1c5)](this['confirmationPrompt']['style'][_0x5d2c04(0x150)],_0x5c1dae[_0x5d2c04(0x1ae)])){console[_0x5d2c04(0x1b7)](_0x5d2c04(0x1b5)),this['confirmationPrompt'][_0x5d2c04(0x171)][_0x5d2c04(0x150)]=_0x5c1dae[_0x5d2c04(0x1ae)];if(this[_0x5d2c04(0x101)])this[_0x5d2c04(0x101)][_0x5d2c04(0x1ab)]();}},0x1b58);}[_0xf87b72(0x17b)](){const _0x4f1e02=_0xf87b72,_0x4cb424={'RkzTT':_0x4f1e02(0x129)};if(this['speechProcessor'])this[_0x4f1e02(0x101)]['stopRecording']();this['confirmationPrompt'][_0x4f1e02(0x171)][_0x4f1e02(0x150)]=_0x4cb424[_0x4f1e02(0x191)];const _0x5e632f=(this[_0x4f1e02(0x101)]?this['speechProcessor'][_0x4f1e02(0x16b)]():'')[_0x4f1e02(0x1c6)](/done|i am finished|that's all|yes|correct/gi,'')[_0x4f1e02(0x170)]();this[_0x4f1e02(0x147)]['userAnswers'][this['currentQuiz'][_0x4f1e02(0x1b0)]]=_0x5e632f,this[_0x4f1e02(0x1bc)][_0x4f1e02(0x131)]=_0x4f1e02(0x1ca)+_0x5e632f,this['compareAnswer'](_0x5e632f,this[_0x4f1e02(0x147)][_0x4f1e02(0x181)][this[_0x4f1e02(0x147)][_0x4f1e02(0x1b0)]][_0x4f1e02(0x1cb)]);}async[_0xf87b72(0x1af)](_0x5b7e72,_0x435211){const _0x3d6531=_0xf87b72,_0x5690ac={'pgEQE':_0x3d6531(0x19d),'OJVvZ':_0x3d6531(0x1c8),'bbtyk':_0x3d6531(0x1d1),'rcloz':_0x3d6531(0x15e),'VgUMV':_0x3d6531(0xf4),'eaCAZ':_0x3d6531(0x1bf),'KjtZg':_0x3d6531(0x1df),'rjXSr':'ü§ñ\x20Raw\x20AI\x20Response:','fEEQR':'none','PYwMI':function(_0x36998d,_0x35f431){return _0x36998d(_0x35f431);},'QNiPs':function(_0x468a12,_0x1a0dc8){return _0x468a12===_0x1a0dc8;},'jPwGZ':_0x3d6531(0x193),'hvQKX':_0x3d6531(0x198),'fdzPZ':_0x3d6531(0x142),'xDlWJ':_0x3d6531(0x169),'awIaF':_0x3d6531(0x11b),'GACCq':'Sorry,\x20there\x20was\x20an\x20error\x20analyzing\x20your\x20answer.','KLHyP':_0x3d6531(0x192)};if(!aiLanguageSession)await initializeLanguageSession();console['log'](_0x5690ac['pgEQE'],_0x5b7e72),console['log'](_0x3d6531(0x102),_0x435211);try{const _0x40ad66=JSON[_0x3d6531(0x160)]([{'role':_0x5690ac[_0x3d6531(0x1a7)],'content':_0x5690ac['bbtyk']},{'role':_0x5690ac[_0x3d6531(0x124)],'content':'Compare\x20the\x20following\x20answers:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20User\x27s\x20answer:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5b7e72+_0x3d6531(0x138)+_0x435211+_0x3d6531(0x15c)}]);console['log'](_0x3d6531(0x13e),_0x40ad66);const _0x178c8e=document[_0x3d6531(0x157)](_0x5690ac[_0x3d6531(0x19c)]);console[_0x3d6531(0x1b7)](_0x5690ac[_0x3d6531(0x14f)],_0x178c8e);if(_0x178c8e)_0x178c8e[_0x3d6531(0x171)][_0x3d6531(0x150)]=_0x5690ac[_0x3d6531(0x134)];const _0x25f47a=await aiLanguageSession[_0x3d6531(0x1b3)](_0x40ad66);console[_0x3d6531(0x1b7)](_0x5690ac['rjXSr'],_0x25f47a);if(_0x178c8e)_0x178c8e[_0x3d6531(0x171)][_0x3d6531(0x150)]=_0x5690ac[_0x3d6531(0x107)];try{let _0x3064e1=_0x5690ac['PYwMI'](cleanJSONMarkdown,_0x25f47a);console[_0x3d6531(0x1b7)]('üßπ\x20Cleaned\x20response:',_0x3064e1);let _0x2c58bb=_0x3064e1;_0x5690ac[_0x3d6531(0x1c1)](typeof _0x3064e1,_0x5690ac[_0x3d6531(0x173)])?console[_0x3d6531(0x1b7)](_0x5690ac[_0x3d6531(0x121)]):(_0x2c58bb=JSON[_0x3d6531(0x132)](_0x3064e1),console[_0x3d6531(0x1b7)](_0x5690ac['fdzPZ'],_0x2c58bb)),this['displayResults'](_0x2c58bb);}catch(_0x420bd8){console[_0x3d6531(0x190)](_0x5690ac[_0x3d6531(0x133)],_0x420bd8),Logger['error'](_0x5690ac[_0x3d6531(0x164)],_0x420bd8),this[_0x3d6531(0xf1)]({'percentageMatch':0x0,'feedback':_0x5690ac['GACCq'],'missingPoints':[]});}}catch(_0x491c77){console['error'](_0x5690ac[_0x3d6531(0x104)],_0x491c77);const _0x12885f=document[_0x3d6531(0x157)](_0x5690ac['VgUMV']);if(_0x12885f)_0x12885f[_0x3d6531(0x171)][_0x3d6531(0x150)]=_0x5690ac['fEEQR'];Logger['error'](_0x3d6531(0x137),_0x491c77),this[_0x3d6531(0xf1)]({'percentageMatch':0x0,'feedback':_0x3d6531(0x12f),'missingPoints':[]});}}[_0xf87b72(0xf1)](_0x1e5d73){const _0x41af48=_0xf87b72,_0x522aef={'GWAKG':_0x41af48(0x197),'mNyHD':_0x41af48(0x1df),'VaGlx':function(_0x3b9d85,_0x5742b8){return _0x3b9d85>=_0x5742b8;},'uGqOr':_0x41af48(0x1a2),'OuzYB':_0x41af48(0x180),'KswxP':_0x41af48(0x149),'TTnqp':function(_0x273408,_0x36033c){return _0x273408>=_0x36033c;},'SBQsm':_0x41af48(0x1c4),'xThTj':function(_0x93c412,_0x1eb71d){return _0x93c412-_0x1eb71d;},'PwEtI':function(_0x4fbb6d,_0x25d71a,_0x113bda){return _0x4fbb6d(_0x25d71a,_0x113bda);}};this[_0x41af48(0x19a)][_0x41af48(0x171)]['display']=_0x522aef[_0x41af48(0x1bb)],this[_0x41af48(0x140)][_0x41af48(0x171)][_0x41af48(0x150)]=_0x522aef[_0x41af48(0x1bb)],this[_0x41af48(0x10f)][_0x41af48(0x171)]['display']='block';let _0x30425a='',_0x259eb8='';if(_0x522aef[_0x41af48(0x1da)](_0x1e5d73[_0x41af48(0x1e0)],0x5a))_0x30425a='Excellent!\x20üéâ',_0x259eb8=_0x522aef['uGqOr'];else{if(_0x522aef['VaGlx'](_0x1e5d73[_0x41af48(0x1e0)],0x50))_0x30425a=_0x522aef[_0x41af48(0x141)],_0x259eb8=_0x522aef[_0x41af48(0x14c)];else _0x522aef[_0x41af48(0x136)](_0x1e5d73[_0x41af48(0x1e0)],0x32)?(_0x30425a=_0x41af48(0xf9),_0x259eb8='ok'):(_0x30425a=_0x41af48(0x1b6),_0x259eb8=_0x522aef[_0x41af48(0x13f)]);}this['resultDisplay']['innerHTML']=_0x41af48(0xfa)+_0x259eb8+_0x41af48(0x106)+_0x30425a+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-percent\x22>'+Math['round'](_0x1e5d73['percentageMatch'])+_0x41af48(0xf5)+_0x1e5d73[_0x41af48(0x12b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';let _0x23e10e=this['currentQuiz'][_0x41af48(0x181)][this['currentQuiz'][_0x41af48(0x1b0)]][_0x41af48(0x1cb)];_0x1e5d73[_0x41af48(0x1b2)]&&_0x1e5d73[_0x41af48(0x1b2)][_0x41af48(0x16d)]>0x0&&_0x1e5d73[_0x41af48(0x1b2)][_0x41af48(0x1ce)](_0xc83e60=>{const _0x384599=_0x41af48,_0x4728e8=new RegExp('('+_0xc83e60[_0x384599(0x1c6)](/[.*+?^${}()|[\]\\]/g,'\x5c$&')+')','gi');_0x23e10e=_0x23e10e[_0x384599(0x1c6)](_0x4728e8,_0x522aef[_0x384599(0x115)]);}),this['correctAnswerDisplay'][_0x41af48(0x131)]=_0x41af48(0xfb)+_0x23e10e+_0x41af48(0x111),this['currentQuiz'][_0x41af48(0x1b0)]<_0x522aef['xThTj'](this[_0x41af48(0x147)][_0x41af48(0x181)][_0x41af48(0x16d)],0x1)&&_0x522aef[_0x41af48(0x118)](setTimeout,()=>{const _0x112625=_0x41af48;if(this[_0x112625(0x156)])this[_0x112625(0x156)]();},0x3e8);}[_0xf87b72(0x176)](_0x2d24bd){const _0x508ffe=_0xf87b72,_0x18048e=[/Q\d*\s*[:.-]\s*.*\s*A\s*[:.-]/i,/\d+\s*[).]\s*.*\s*Answer\s*[:.-]/i,/Question\s*\d+\s*[:.-]/i,/\b[Qq]uestion\b.*\b[Aa]nswer\b/];return _0x18048e[_0x508ffe(0x145)](_0x46c52b=>_0x46c52b[_0x508ffe(0x1a3)](_0x2d24bd));}['parseQuizQuestions'](_0x55c340){const _0x483dac=_0xf87b72,_0x4e6444={'Pcigj':function(_0xd56356,_0x2af7b3){return _0xd56356>_0x2af7b3;},'JIIbz':function(_0x25e0b2,_0x3ed305){return _0x25e0b2>_0x3ed305;},'stkEc':function(_0x5f2038,_0x153296){return _0x5f2038===_0x153296;},'ZHtNc':function(_0x5c5b0c,_0x545c2a){return _0x5c5b0c<_0x545c2a;},'KMSSr':_0x483dac(0x17e),'vxvEA':_0x483dac(0x163),'bwUKP':_0x483dac(0x159),'gHeZV':_0x483dac(0x177),'flCbo':_0x483dac(0x110)};console['log']('Raw\x20quiz\x20input:',_0x55c340);try{try{const _0x5902bb=JSON['parse'](_0x55c340);if(Array['isArray'](_0x5902bb)&&_0x4e6444[_0x483dac(0x11f)](_0x5902bb['length'],0x0)&&_0x5902bb[0x0][_0x483dac(0xf2)]&&_0x5902bb[0x0][_0x483dac(0x1cb)])return _0x5902bb;}catch(_0x1088f7){}const _0x4beb55=[],_0x4f253e=_0x55c340[_0x483dac(0x128)](/(?:Q:|Question:?|^\d+\.?)\s*(.+?)(?:A:|Answer:?)\s*(.+?)(?=(?:Q:|Question:?|^\d+\.?)|$)/gis);_0x4f253e&&_0x4e6444[_0x483dac(0x158)](_0x4f253e['length'],0x0)&&_0x4f253e[_0x483dac(0x1ce)](_0x49ed17=>{const _0x4a0e4d=_0x483dac,_0x3ba0ee=_0x49ed17[_0x4a0e4d(0x128)](/(?:Q:|Question:?|^\d+\.?)\s*(.+?)(?=A:|Answer:?)/is),_0x4b4ee3=_0x49ed17[_0x4a0e4d(0x128)](/(?:A:|Answer:?)\s*(.+?)$/is);_0x3ba0ee&&_0x4b4ee3&&_0x4beb55[_0x4a0e4d(0x19f)]({'question':_0x3ba0ee[0x1][_0x4a0e4d(0x170)](),'answer':_0x4b4ee3[0x1][_0x4a0e4d(0x170)]()});});if(_0x4e6444[_0x483dac(0x13d)](_0x4beb55[_0x483dac(0x16d)],0x0)){const _0x2c1a5b=_0x55c340[_0x483dac(0x114)](/\n\s*\n|\d+\s*[).]|\bQ\d*\s*[:.]/);for(let _0x22c69b=0x0;_0x4e6444['ZHtNc'](_0x22c69b,_0x2c1a5b[_0x483dac(0x16d)]);_0x22c69b++){const _0x477b14=_0x2c1a5b[_0x22c69b][_0x483dac(0x170)]();if(!_0x477b14)continue;const _0x124b07=[_0x4e6444['KMSSr'],'A:',_0x4e6444[_0x483dac(0x1c2)],_0x4e6444[_0x483dac(0x1d7)]];let _0x1bd52d=_0x477b14,_0x13beaf='';for(const _0x3b7a2e of _0x124b07){if(_0x477b14['includes'](_0x3b7a2e)){const _0x4602a7=_0x477b14[_0x483dac(0x114)](_0x3b7a2e);_0x1bd52d=_0x4602a7[0x0][_0x483dac(0x170)](),_0x13beaf=_0x4602a7[0x1][_0x483dac(0x170)]();break;}}_0x1bd52d&&_0x13beaf&&_0x4beb55[_0x483dac(0x19f)]({'question':_0x1bd52d,'answer':_0x13beaf});}}return _0x4e6444[_0x483dac(0x13d)](_0x4beb55[_0x483dac(0x16d)],0x0)&&aiLanguageSession&&console[_0x483dac(0x1b7)](_0x483dac(0x1b9)),console['log'](_0x4e6444[_0x483dac(0x153)],_0x4beb55),_0x4beb55;}catch(_0x14d6c6){return Logger[_0x483dac(0x190)](_0x4e6444[_0x483dac(0x127)],_0x14d6c6),console[_0x483dac(0x1b7)](_0x4e6444[_0x483dac(0x127)],_0x14d6c6),null;}}[_0xf87b72(0x165)](_0x173b15){const _0x5eacbd=_0xf87b72,_0x43ada0={'TWkeE':function(_0x2bfcd1,_0x35d5c5){return _0x2bfcd1(_0x35d5c5);},'JkUYe':_0x5eacbd(0x18e),'kuGGd':_0x5eacbd(0x129),'ysWhI':_0x5eacbd(0x1df)};this[_0x5eacbd(0x147)]={'questions':_0x173b15,'currentQuestionIndex':0x0,'userAnswers':_0x43ada0[_0x5eacbd(0xfe)](Array,_0x173b15[_0x5eacbd(0x16d)])[_0x5eacbd(0x186)](''),'isRecording':![],'recordingTimeout':null,'minimumWordCount':0x5,'wordCount':0x0,'accumulatedAnswer':''};const _0x1d3636=document['getElementById'](_0x43ada0['JkUYe']),_0xa7705=document[_0x5eacbd(0x157)](_0x5eacbd(0x148));if(_0x1d3636)_0x1d3636['style'][_0x5eacbd(0x150)]=_0x43ada0[_0x5eacbd(0x15d)];if(_0xa7705)_0xa7705[_0x5eacbd(0x171)][_0x5eacbd(0x150)]=_0x43ada0[_0x5eacbd(0x15d)];this[_0x5eacbd(0x122)][_0x5eacbd(0x171)]['display']=_0x43ada0[_0x5eacbd(0x120)],this[_0x5eacbd(0x1a1)](_0x5eacbd(0x18b),_0x173b15),this['loadCurrentQuestion']();}[_0xf87b72(0x18a)](){const _0x5dda45=_0xf87b72,_0x17692a={'MNITW':_0x5dda45(0x129),'ggbvI':_0x5dda45(0x10b),'Jfntn':function(_0x5456de,_0x5ee898){return _0x5456de+_0x5ee898;},'XAByQ':_0x5dda45(0x1b8)};this['resultDisplay'][_0x5dda45(0x171)][_0x5dda45(0x150)]=_0x17692a[_0x5dda45(0x1db)],this[_0x5dda45(0x140)][_0x5dda45(0x171)][_0x5dda45(0x150)]=_0x17692a[_0x5dda45(0x1db)],this[_0x5dda45(0x10f)][_0x5dda45(0x171)]['display']=_0x17692a['MNITW'],this[_0x5dda45(0x16c)][_0x5dda45(0x171)][_0x5dda45(0x150)]=_0x17692a[_0x5dda45(0x1db)],this[_0x5dda45(0x147)][_0x5dda45(0x168)]='',this[_0x5dda45(0x147)][_0x5dda45(0x126)]=0x0;this[_0x5dda45(0x101)]&&this[_0x5dda45(0x101)][_0x5dda45(0x143)]();this[_0x5dda45(0x1bc)][_0x5dda45(0x131)]=_0x17692a[_0x5dda45(0x188)];const _0x2aaa34=this[_0x5dda45(0x147)][_0x5dda45(0x181)][this[_0x5dda45(0x147)][_0x5dda45(0x1b0)]];this[_0x5dda45(0x184)]['innerHTML']=_0x5dda45(0x144)+_0x17692a[_0x5dda45(0x14d)](this[_0x5dda45(0x147)][_0x5dda45(0x1b0)],0x1)+'\x20of\x20'+this[_0x5dda45(0x147)][_0x5dda45(0x181)][_0x5dda45(0x16d)]+_0x5dda45(0x187)+_0x2aaa34[_0x5dda45(0xf2)]+_0x5dda45(0x111),this[_0x5dda45(0x1a1)](_0x17692a[_0x5dda45(0x1b4)],{'index':this['currentQuiz'][_0x5dda45(0x1b0)],'question':_0x2aaa34}),this[_0x5dda45(0x101)][_0x5dda45(0x13b)](_0x2aaa34[_0x5dda45(0xf2)])[_0x5dda45(0x19b)](()=>this[_0x5dda45(0x101)]['startRecording'](this['currentQuiz']));}['nextQuestion'](){const _0x17c466=_0xf87b72,_0x4f4ba0={'PGWcm':function(_0xf5da50,_0x46bdeb){return _0xf5da50-_0x46bdeb;}};this[_0x17c466(0x147)][_0x17c466(0x1b0)]<_0x4f4ba0[_0x17c466(0x11d)](this[_0x17c466(0x147)][_0x17c466(0x181)][_0x17c466(0x16d)],0x1)?(this[_0x17c466(0x147)][_0x17c466(0x1b0)]++,this[_0x17c466(0x101)]&&this[_0x17c466(0x101)]['isRecording']&&this[_0x17c466(0x101)][_0x17c466(0x11e)](),this['loadCurrentQuestion']()):this['finishQuiz']();}[_0xf87b72(0x1a8)](){const _0x3d5ffc=_0xf87b72,_0x244832={'kveob':_0x3d5ffc(0x129),'sIbOv':_0x3d5ffc(0x148),'kdKtR':_0x3d5ffc(0x18e),'ukEKx':_0x3d5ffc(0x1aa),'JtLAC':_0x3d5ffc(0xfd),'FESQK':_0x3d5ffc(0x161),'iXFpF':_0x3d5ffc(0x174),'vaPsw':_0x3d5ffc(0x182)};this[_0x3d5ffc(0x122)][_0x3d5ffc(0x131)]=_0x3d5ffc(0x109)+this['currentQuiz'][_0x3d5ffc(0x181)]['length']+_0x3d5ffc(0x166)+this[_0x3d5ffc(0x152)]()+_0x3d5ffc(0xf6),this[_0x3d5ffc(0x1a1)](_0x244832['FESQK'],{'questions':this['currentQuiz'][_0x3d5ffc(0x181)],'answers':this['currentQuiz']['userAnswers']}),document[_0x3d5ffc(0x157)](_0x244832[_0x3d5ffc(0x10e)])[_0x3d5ffc(0x162)](_0x244832['vaPsw'],()=>{const _0x178c3e=_0x3d5ffc;this[_0x178c3e(0x122)][_0x178c3e(0x171)]['display']=_0x244832[_0x178c3e(0x189)];const _0x38b095=document['getElementById'](_0x244832['sIbOv']),_0x1d667b=document[_0x178c3e(0x157)](_0x244832[_0x178c3e(0x175)]);if(_0x38b095)_0x38b095[_0x178c3e(0x171)][_0x178c3e(0x150)]=_0x244832[_0x178c3e(0x119)];if(_0x1d667b)_0x1d667b[_0x178c3e(0x171)]['display']=_0x244832[_0x178c3e(0x119)];this[_0x178c3e(0x1a1)](_0x244832[_0x178c3e(0x10c)]);});}[_0xf87b72(0x152)](){const _0x4020e5=_0xf87b72,_0x32ef7d={'nPuBE':'No\x20answer\x20provided','CgyGW':function(_0x3848c1,_0x39875e){return _0x3848c1+_0x39875e;},'yJAfW':_0x4020e5(0x1cc)};let _0x22fdb9=_0x4020e5(0x1d4);return this['currentQuiz'][_0x4020e5(0x181)][_0x4020e5(0x1ce)]((_0x161123,_0xe1d012)=>{const _0x15ea28=_0x4020e5,_0x3fc265=this[_0x15ea28(0x147)][_0x15ea28(0x11a)][_0xe1d012]||_0x32ef7d[_0x15ea28(0x13a)];_0x22fdb9+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Question\x20'+_0x32ef7d['CgyGW'](_0xe1d012,0x1)+_0x15ea28(0x1be)+_0x161123[_0x15ea28(0xf2)]+_0x15ea28(0x1d6)+_0x3fc265+_0x15ea28(0x1c9)+_0x161123['answer']+_0x15ea28(0x194);}),_0x22fdb9+=_0x32ef7d['yJAfW'],_0x22fdb9;}['on'](_0x374ea1,_0x47178a){const _0x309a03=_0xf87b72;return!this['eventListeners'][_0x374ea1]&&(this[_0x309a03(0xf0)][_0x374ea1]=[]),this['eventListeners'][_0x374ea1]['push'](_0x47178a),this;}[_0xf87b72(0xfc)](_0x4ab8b2,_0x30148e){const _0x381e42=_0xf87b72;if(!this[_0x381e42(0xf0)][_0x4ab8b2])return this;return!_0x30148e?this[_0x381e42(0xf0)][_0x4ab8b2]=[]:this[_0x381e42(0xf0)][_0x4ab8b2]=this[_0x381e42(0xf0)][_0x4ab8b2]['filter'](_0xe76331=>_0xe76331!==_0x30148e),this;}[_0xf87b72(0x1a1)](_0x1d34a0,_0x44b6cc){const _0x5e9669=_0xf87b72;if(!this[_0x5e9669(0xf0)][_0x1d34a0])return;this['eventListeners'][_0x1d34a0]['forEach'](_0x291307=>_0x291307(_0x44b6cc));}}