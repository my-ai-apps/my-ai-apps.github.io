
/*!
Copyright ¬© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x31872f=_0x31b5;(function(_0x23c224,_0x594020){const _0x120cdd=_0x31b5,_0x104b22=_0x23c224();while(!![]){try{const _0x3953b2=parseInt(_0x120cdd(0x15e))/0x1+-parseInt(_0x120cdd(0x19a))/0x2+-parseInt(_0x120cdd(0xef))/0x3+parseInt(_0x120cdd(0x16b))/0x4+parseInt(_0x120cdd(0x16a))/0x5*(-parseInt(_0x120cdd(0x108))/0x6)+-parseInt(_0x120cdd(0x1ca))/0x7+parseInt(_0x120cdd(0xfc))/0x8*(parseInt(_0x120cdd(0x1bc))/0x9);if(_0x3953b2===_0x594020)break;else _0x104b22['push'](_0x104b22['shift']());}catch(_0x17b537){_0x104b22['push'](_0x104b22['shift']());}}}(_0xb76d,0xc16fa));import{displayError,Logger}from'./common.js';import{aiLanguageSession,cleanJSONMarkdown,initializeLanguageSession}from'./aiCommon.js';import{SpeechProcessor}from'./speechProcessor.js';function _0x31b5(_0x4cd5b6,_0x36a162){const _0xb76d1e=_0xb76d();return _0x31b5=function(_0x31b5d5,_0x3b5bca){_0x31b5d5=_0x31b5d5-0xeb;let _0x6638a7=_0xb76d1e[_0x31b5d5];return _0x6638a7;},_0x31b5(_0x4cd5b6,_0x36a162);}function _0xb76d(){const _0x4e76cf=['querySelector','confirmationPrompt','log','missingPoints','round','Sorry,\x20there\x20was\x20an\x20error\x20analyzing\x20your\x20answer.','kRtKI','aUOXy','div','appendChild','extended','border','Ehiiq','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Correct\x20answer:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','RcLPw','feedback','startQuiz','TllaI','FXhPx','gjGlW','noSiy','qEKaF','compareAnswer','Excellent!\x20üéâ','explicit','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Your\x20answer:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20<p>Done?</p>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22confirmation-buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22yesButton\x22\x20class=\x22confirm-button\x22>Yes</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22noButton\x22\x20class=\x22confirm-button\x22>No</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','0|2|1|4|3','JEOrI','next-button','fzQkt','good','No\x20answer\x20provided','xgSdG','%\x20Match</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>','‚ùå\x20Compare\x20Answer\x20Error:','.container','CzZtl','BJnte','quiz-container','parseQuizQuestions','match','answer','.input-container','sYShI','stringify','tpNmy','aoneQ','initializeSpeechManager','YOyIM','startRecording','ahYOG','wordCount','fuPIJ','No\x20response\x20detected.\x20Click\x20Yes\x20or\x20No.','color','TiTfz','QuizManager\x20initialized','showAutoAdvancePrompt','TOjLK','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Correct\x20answer:</strong>\x20','OK\x20üëå','nZbHn','3px\x20solid\x20#17a2b8','THkAX','SevZB','auto','returnToChatButton','currentQuestionIndex','oArpZ','nojyd','IjBAw','SbDOL','jClnn','CSGLI','Parsed\x20questions:','createUIElements','637108mxtKOs','replace','displayResults','Try\x20again\x20ü§î','error','forEach','ü§ñ\x20Raw\x20AI\x20Response:','finishQuiz','quizContainer','oOolE','DISbK','recording','108380zzxWDG','3309068GfPlvm','welcomeScreen','pNULr','loader','timeoutMessage','VDuKg','textContent','wCfYw','rYRqp','some','XepNI','</h2>\x0a\x20\x20\x20\x20\x20\x20<p>','askForConfirmation','returnedToChat','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Q:</strong>\x20','confirmAnswerCompletion','noButton','<strong>Your\x20answer:</strong>\x20<em>(Speak\x20now...)</em>','none','tZseF','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>','trim','LTgQD','sNpZP','animation','‚ùå\x20JSON\x20Parse\x20Error:','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22returnToChatButton\x22\x20class=\x22next-button\x22>Return\x20to\x20Chat</button>\x0a\x20\x20\x20\x20','‚ú®\x20Parsed\x20Result:','DFrcP','chatContainer','poor','classList','speechProcessor','Good!\x20üëç','ScsIl','\x0aAnswer.','startConfirmationRecognition','style','‚úÖ\x20Correct\x20Answer\x20being\x20sent\x20for\x20comparison:','Could\x20use\x20AI\x20to\x20extract\x20Q&A\x20pairs\x20from\x20unstructured\x20text','questions','QPisJ','\x20of\x20','uNzFe','üí¨\x20User\x20Answer\x20being\x20sent\x20for\x20comparison:','user-answer-display','pcAuC','345744facDpH','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22rating\x20','speakText','jspkp','icJNz','addEventListener','currentQuiz','cyHvv','isRecording','nextQuestion','kFhrF','KnkxS','prompt','whFUM','resultDisplay','userAnswerDisplay','then','JECre','Failed\x20to\x20parse\x20AI\x20response\x20as\x20JSON:','loadCurrentQuestion','JNXen','VQGpY','correct-answer-display','result-display','Akrfn','question','DCnwU','wSQRu','Failed\x20to\x20parse\x20quiz\x20questions:','HotzU','blink\x201s\x20infinite','userAnswers','resetAccumulatedText','click','2665989dZjjSF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Question\x20','smkBC','No\x20response\x20detected,\x20resuming\x20recording.','mebhM','split','emit','insertBefore','Nlrlz','xLHpz','createElement','push','loaderElement','\x20questions.</p>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-summary\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','3685941sRBKFX','</div>','setupEventListeners','fontWeight','</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','stopRecording','iarba','correctAnswerDisplay','generateQuizSummary','test','gwbuV','innerHTML','parse','user','XkQss','isArray','question-display','length','IfONH','VyprC','LPNxg','\x0a\x20\x20\x20\x20\x20\x20<h2>Question\x20','getAccumulatedText','isQuizFormat','<strong>Your\x20answer:</strong>\x20','RvAIL','Compare\x20the\x20following\x20answers:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20User\x27s\x20answer:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','NEqbU','3710913tJAFzr','percentageMatch','\x0a\x20\x20\x20\x20\x20\x20<h2>Quiz\x20Completed!</h2>\x0a\x20\x20\x20\x20\x20\x20<p>You\x27ve\x20completed\x20all\x20','GaWDb','nextButton','questionDisplay','QDUUh','block','SoujV','getElementById','accumulatedAnswer','<div\x20class=\x22summary-container\x22>','button','40hgRahx','\x0a\x20\x20\x20\x20\x20\x20<h3>Complete\x20Answer:</h3>\x0a\x20\x20\x20\x20\x20\x20<p>','</p>\x0a\x20\x20\x20\x20','\x0aA.','mQaOP','</span>','RJIiO','questionLoaded','üõë\x20cleanedResponse\x20is\x20already\x20an\x20object,\x20skipping\x20JSON.parse.','system','add','init','60Fsoszr','display','isPaused','<span\x20class=\x22interim\x22>','qMNxi','eventListeners','<span\x20class=\x22highlight\x22>$1</span>','SkfrW'];_0xb76d=function(){return _0x4e76cf;};return _0xb76d();}export class QuizManager{constructor(_0x159c5c={}){const _0x50b13e=_0x31b5,_0x207ae7={'HEEBC':'7|0|5|1|2|10|9|6|3|4|11|8'},_0x3ba1e3=_0x207ae7['HEEBC'][_0x50b13e(0x1c1)]('|');let _0x14f0a9=0x0;while(!![]){switch(_0x3ba1e3[_0x14f0a9++]){case'0':this[_0x50b13e(0x1a0)]={'questions':[],'currentQuestionIndex':0x0,'userAnswers':[],'isRecording':![],'recordingTimeout':null,'minimumWordCount':0x5,'wordCount':0x0,'accumulatedAnswer':''};continue;case'1':this[_0x50b13e(0xf4)]=null;continue;case'2':this[_0x50b13e(0x1a9)]=null;continue;case'3':this[_0x50b13e(0x111)]=null;continue;case'4':this[_0x50b13e(0x10a)]=![];continue;case'5':this[_0x50b13e(0x166)]=null;continue;case'6':this[_0x50b13e(0xf3)]=null;continue;case'7':this[_0x50b13e(0x14b)]=_0x159c5c[_0x50b13e(0x14b)]||null;continue;case'8':this[_0x50b13e(0x10d)]={};continue;case'9':this[_0x50b13e(0x1d1)]=null;continue;case'10':this[_0x50b13e(0x1a8)]=null;continue;case'11':this['speechProcessor']=null;continue;}break;}}[_0x31872f(0x107)](){const _0x473024=_0x31872f,_0x4c3157={'NdYuQ':_0x473024(0x12c),'tZseF':_0x473024(0x14a)},_0x2f6eb6=_0x4c3157['NdYuQ'][_0x473024(0x1c1)]('|');let _0x59a008=0x0;while(!![]){switch(_0x2f6eb6[_0x59a008++]){case'0':this['createUIElements']();continue;case'1':this[_0x473024(0x1cc)]();continue;case'2':this[_0x473024(0x141)]();continue;case'3':console['log'](_0x4c3157[_0x473024(0x17e)]);continue;case'4':this[_0x473024(0x1c8)]=document['getElementById']('loader');continue;}break;}}[_0x31872f(0x15d)](){const _0x632ce8=_0x31872f,_0xa0a558={'JEOrI':_0x632ce8(0x118),'SkfrW':_0x632ce8(0x166),'wCfYw':_0x632ce8(0x138),'VDuKg':_0x632ce8(0x17d),'nZbHn':_0x632ce8(0x198),'fpWMf':_0x632ce8(0x1b1),'aUOXy':_0x632ce8(0x1d1),'fuPIJ':_0x632ce8(0x1b0),'FSCeN':_0x632ce8(0xfb),'VyprC':_0x632ce8(0xf3),'tOqeC':'Next\x20Question','cyHvv':_0x632ce8(0x12e),'mebhM':_0x632ce8(0x111),'kRtKI':'confirmation-prompt','sNpZP':_0x632ce8(0x135),'QDUUh':_0x632ce8(0x13c)};this[_0x632ce8(0x166)]=document['createElement'](_0xa0a558[_0x632ce8(0x12d)]),this['quizContainer']['id']=_0xa0a558[_0x632ce8(0x10f)],this[_0x632ce8(0x166)][_0x632ce8(0x18a)][_0x632ce8(0x106)](_0xa0a558[_0x632ce8(0x172)]),this[_0x632ce8(0x166)]['style']['display']=_0xa0a558['VDuKg'],this[_0x632ce8(0xf4)]=document[_0x632ce8(0x1c6)](_0xa0a558['JEOrI']),this[_0x632ce8(0xf4)]['id']='questionDisplay',this[_0x632ce8(0xf4)]['classList'][_0x632ce8(0x106)](_0x632ce8(0x1da)),this[_0x632ce8(0x1a9)]=document['createElement'](_0xa0a558[_0x632ce8(0x12d)]),this[_0x632ce8(0x1a9)]['id']=_0x632ce8(0x1a9),this['userAnswerDisplay']['classList'][_0x632ce8(0x106)](_0xa0a558[_0x632ce8(0x14f)]),this[_0x632ce8(0x1a8)]=document[_0x632ce8(0x1c6)](_0xa0a558[_0x632ce8(0x12d)]),this['resultDisplay']['id']=_0x632ce8(0x1a8),this['resultDisplay'][_0x632ce8(0x18a)][_0x632ce8(0x106)](_0xa0a558['fpWMf']),this['resultDisplay'][_0x632ce8(0x190)][_0x632ce8(0x109)]='none',this[_0x632ce8(0x1d1)]=document[_0x632ce8(0x1c6)](_0xa0a558[_0x632ce8(0x12d)]),this['correctAnswerDisplay']['id']=_0xa0a558[_0x632ce8(0x117)],this['correctAnswerDisplay'][_0x632ce8(0x18a)][_0x632ce8(0x106)](_0xa0a558[_0x632ce8(0x146)]),this[_0x632ce8(0x1d1)][_0x632ce8(0x190)][_0x632ce8(0x109)]=_0xa0a558[_0x632ce8(0x170)],this[_0x632ce8(0xf3)]=document[_0x632ce8(0x1c6)](_0xa0a558['FSCeN']),this['nextButton']['id']=_0xa0a558[_0x632ce8(0x1dd)],this[_0x632ce8(0xf3)][_0x632ce8(0x171)]=_0xa0a558['tOqeC'],this[_0x632ce8(0xf3)][_0x632ce8(0x18a)][_0x632ce8(0x106)](_0xa0a558[_0x632ce8(0x1a1)]),this[_0x632ce8(0xf3)][_0x632ce8(0x190)]['display']=_0xa0a558[_0x632ce8(0x170)],this[_0x632ce8(0x111)]=document['createElement'](_0xa0a558[_0x632ce8(0x12d)]),this[_0x632ce8(0x111)]['id']=_0xa0a558[_0x632ce8(0x1c0)],this[_0x632ce8(0x111)]['classList'][_0x632ce8(0x106)](_0xa0a558[_0x632ce8(0x116)]),this[_0x632ce8(0x111)][_0x632ce8(0x1d5)]=_0x632ce8(0x12b),this[_0x632ce8(0x111)][_0x632ce8(0x190)][_0x632ce8(0x109)]=_0xa0a558[_0x632ce8(0x170)],this[_0x632ce8(0x166)][_0x632ce8(0x119)](this[_0x632ce8(0xf4)]),this[_0x632ce8(0x166)][_0x632ce8(0x119)](this['userAnswerDisplay']),this[_0x632ce8(0x166)][_0x632ce8(0x119)](this[_0x632ce8(0x111)]),this['quizContainer'][_0x632ce8(0x119)](this[_0x632ce8(0x1a8)]),this[_0x632ce8(0x166)][_0x632ce8(0x119)](this['correctAnswerDisplay']),this['quizContainer'][_0x632ce8(0x119)](this[_0x632ce8(0xf3)]),document[_0x632ce8(0x110)](_0xa0a558[_0x632ce8(0x182)])[_0x632ce8(0x1c3)](this[_0x632ce8(0x166)],document[_0x632ce8(0x110)](_0xa0a558[_0x632ce8(0xf5)]));}[_0x31872f(0x141)](){const _0x7cba72=_0x31872f,_0x1543f5={'qMNxi':function(_0x144ac4,_0x56593b){return _0x144ac4(_0x56593b);},'Nlrlz':_0x7cba72(0x153),'ahYOG':function(_0x4196a5,_0x212976){return _0x4196a5===_0x212976;},'dEJNr':'micButton','smkBC':_0x7cba72(0x169)};this[_0x7cba72(0x18b)]=new SpeechProcessor({'onResult':(_0x3ef255,_0x4123dd)=>{const _0x3f2bda=_0x7cba72;this[_0x3f2bda(0x1a9)][_0x3f2bda(0x1d5)]=_0x3f2bda(0xeb)+_0x3ef255+_0x3f2bda(0x10b)+_0x4123dd+_0x3f2bda(0x101);},'onError':_0x390f5d=>{const _0x3f5ccb=_0x7cba72;_0x1543f5[_0x3f5ccb(0x10c)](displayError,_0x390f5d);},'onSilence':_0x5130d0=>{const _0x453ddf=_0x7cba72;if(_0x5130d0===_0x453ddf(0x129))this[_0x453ddf(0x17a)]();else{if(_0x5130d0===_0x1543f5[_0x453ddf(0x1c4)])this[_0x453ddf(0x17a)]();else _0x1543f5[_0x453ddf(0x144)](_0x5130d0,_0x453ddf(0x11a))&&this[_0x453ddf(0x177)]();}},'onRecordingStart':()=>{const _0x35a5f1=_0x7cba72,_0x14a863=document[_0x35a5f1(0xf8)](_0x1543f5['dEJNr']);_0x14a863&&_0x14a863[_0x35a5f1(0x18a)]['add'](_0x1543f5[_0x35a5f1(0x1be)]);},'onRecordingStop':()=>{const _0x180366=_0x7cba72,_0x4a2d59=document[_0x180366(0xf8)](_0x1543f5['dEJNr']);_0x4a2d59&&_0x4a2d59[_0x180366(0x18a)]['remove'](_0x1543f5['smkBC']);},'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}['setupEventListeners'](){const _0x3113ba=_0x31872f,_0x428746={'SevZB':_0x3113ba(0x17d),'XepNI':_0x3113ba(0x1bb),'jClnn':'yesButton','xLHpz':_0x3113ba(0x17b)};this[_0x3113ba(0xf3)]['addEventListener'](_0x428746[_0x3113ba(0x175)],()=>{const _0x470bd3=_0x3113ba;this[_0x470bd3(0x1a3)]();}),document[_0x3113ba(0xf8)](_0x428746[_0x3113ba(0x15a)])[_0x3113ba(0x19f)](_0x428746[_0x3113ba(0x175)],()=>{const _0x3f70a2=_0x3113ba;this[_0x3f70a2(0x111)][_0x3f70a2(0x190)]['display']=_0x428746[_0x3f70a2(0x152)],this[_0x3f70a2(0x17a)]();}),document[_0x3113ba(0xf8)](_0x428746[_0x3113ba(0x1c5)])['addEventListener'](_0x428746['XepNI'],()=>{const _0x54794b=_0x3113ba;this['confirmationPrompt']['style'][_0x54794b(0x109)]=_0x428746['SevZB'];if(this[_0x54794b(0x18b)])this[_0x54794b(0x18b)]['startRecording']();});}['askForConfirmation'](){const _0x254a8e=_0x31872f,_0xdc391e={'pNULr':_0x254a8e(0x17d),'oArpZ':_0x254a8e(0x16f),'gwbuV':_0x254a8e(0xf6),'TllaI':function(_0x1ad2c3,_0x1cfed1){return _0x1ad2c3!==_0x1cfed1;},'kwDrt':_0x254a8e(0x1bf),'IfONH':_0x254a8e(0x150),'kFhrF':_0x254a8e(0x1b8),'tpNmy':_0x254a8e(0x118),'IjBAw':'bold','OmejM':_0x254a8e(0x147),'eohyF':function(_0x24188f,_0x50d933,_0x556b07){return _0x24188f(_0x50d933,_0x556b07);}};if(this[_0x254a8e(0x18b)])this[_0x254a8e(0x18b)][_0x254a8e(0x1cf)]();this[_0x254a8e(0x111)]['style'][_0x254a8e(0x109)]=_0x254a8e(0xf6),this['confirmationPrompt'][_0x254a8e(0x190)][_0x254a8e(0x11b)]=_0xdc391e[_0x254a8e(0x1dc)],this['confirmationPrompt'][_0x254a8e(0x190)][_0x254a8e(0x183)]=_0xdc391e[_0x254a8e(0x1a4)];if(!document[_0x254a8e(0xf8)](_0xdc391e[_0x254a8e(0x156)])){const _0x5721f9=document[_0x254a8e(0x1c6)](_0xdc391e[_0x254a8e(0x13f)]);_0x5721f9['id']='timeoutMessage',_0x5721f9[_0x254a8e(0x190)][_0x254a8e(0x109)]=_0xdc391e[_0x254a8e(0x16d)],_0x5721f9[_0x254a8e(0x190)][_0x254a8e(0x148)]='#dc3545',_0x5721f9[_0x254a8e(0x190)][_0x254a8e(0x1cd)]=_0xdc391e[_0x254a8e(0x158)],_0x5721f9['innerText']=_0xdc391e['OmejM'],this[_0x254a8e(0x111)]['appendChild'](_0x5721f9);}if(this[_0x254a8e(0x18b)]){const _0x301b3f=this['speechProcessor'][_0x254a8e(0x18f)](()=>{const _0x39e0c9=_0x254a8e;this[_0x39e0c9(0x111)][_0x39e0c9(0x190)][_0x39e0c9(0x109)]=_0xdc391e[_0x39e0c9(0x16d)],this['confirmAnswerCompletion']();},()=>{const _0x262f6d=_0x254a8e;this['confirmationPrompt'][_0x262f6d(0x190)]['display']=_0xdc391e[_0x262f6d(0x16d)],this['speechProcessor'][_0x262f6d(0x143)]();},()=>{const _0x256fe5=_0x254a8e;this[_0x256fe5(0x111)][_0x256fe5(0x190)][_0x256fe5(0x183)]=_0xdc391e[_0x256fe5(0x16d)],document[_0x256fe5(0xf8)](_0xdc391e[_0x256fe5(0x156)])&&(document[_0x256fe5(0xf8)](_0xdc391e[_0x256fe5(0x156)])[_0x256fe5(0x190)]['display']=_0xdc391e[_0x256fe5(0x1d4)]);});}_0xdc391e['eohyF'](setTimeout,()=>{const _0x20713e=_0x254a8e;if(_0xdc391e[_0x20713e(0x122)](this['confirmationPrompt'][_0x20713e(0x190)][_0x20713e(0x109)],_0x20713e(0x17d))){console[_0x20713e(0x112)](_0xdc391e['kwDrt']),this[_0x20713e(0x111)][_0x20713e(0x190)][_0x20713e(0x109)]=_0xdc391e[_0x20713e(0x16d)];if(this['speechProcessor'])this[_0x20713e(0x18b)][_0x20713e(0x143)]();}},0x1b58);}[_0x31872f(0x17a)](){const _0x21807c=_0x31872f,_0x42a645={'NEqbU':'none'};if(this[_0x21807c(0x18b)])this[_0x21807c(0x18b)]['stopRecording']();this[_0x21807c(0x111)][_0x21807c(0x190)][_0x21807c(0x109)]=_0x42a645[_0x21807c(0xee)];const _0xd6bf66=(this[_0x21807c(0x18b)]?this[_0x21807c(0x18b)][_0x21807c(0x1e0)]():'')['replace'](/done|i am finished|that's all|yes|correct/gi,'')[_0x21807c(0x180)]();this[_0x21807c(0x1a0)]['userAnswers'][this[_0x21807c(0x1a0)][_0x21807c(0x155)]]=_0xd6bf66,this[_0x21807c(0x1a9)][_0x21807c(0x1d5)]=_0x21807c(0xeb)+_0xd6bf66,this['compareAnswer'](_0xd6bf66,this[_0x21807c(0x1a0)][_0x21807c(0x193)][this[_0x21807c(0x1a0)][_0x21807c(0x155)]][_0x21807c(0x13b)]);}async[_0x31872f(0x127)](_0x233a59,_0x3f3a36){const _0x352162=_0x31872f,_0x320eb2={'aoneQ':_0x352162(0x191),'CSGLI':_0x352162(0x105),'KnkxS':'You\x20are\x20an\x20advanced\x20answer\x20comparison\x20assistant.\x20Analyze\x20the\x20user\x27s\x20answer\x20against\x20the\x20correct\x20answer\x20by\x20identifying\x20main\x20points,\x20calculating\x20a\x20percentage\x20match,\x20and\x20highlighting\x20similarities\x20and\x20differences.\x20Provide\x20structured\x20feedback\x20in\x20JSON\x20format.','xgSdG':_0x352162(0x1d7),'ljWeA':'üìù\x20Prompt\x20being\x20sent\x20to\x20AI:','THkAX':'üìù\x20Loader\x20element\x20set\x20to\x20block:','BJMcq':_0x352162(0x164),'ZYtgi':'üßπ\x20Cleaned\x20response:','VQGpY':function(_0x1672ee,_0x2a7d64){return _0x1672ee===_0x2a7d64;},'pcAuC':'object','FXhPx':_0x352162(0x104),'YOyIM':_0x352162(0x186),'XkQss':_0x352162(0x184),'ScsIl':_0x352162(0x1ac),'uNzFe':_0x352162(0x115),'LPNxg':_0x352162(0x134),'YMKXd':_0x352162(0x16e),'RJIiO':'Answer\x20comparison\x20error:'};if(!aiLanguageSession)await initializeLanguageSession();console[_0x352162(0x112)](_0x352162(0x197),_0x233a59),console[_0x352162(0x112)](_0x320eb2[_0x352162(0x140)],_0x3f3a36);try{const _0x432373=JSON[_0x352162(0x13e)]([{'role':_0x320eb2[_0x352162(0x15b)],'content':_0x320eb2[_0x352162(0x1a5)]},{'role':_0x320eb2[_0x352162(0x132)],'content':_0x352162(0xed)+_0x233a59+_0x352162(0x11e)+_0x3f3a36+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Please\x20return\x20a\x20JSON\x20object\x20with\x20the\x20following\x20fields:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20percentageMatch\x20(number):\x20Percentage\x20of\x20key\x20points\x20covered\x20by\x20the\x20user.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20feedback\x20(string):\x20Constructive\x20feedback\x20on\x20strengths\x20and\x20areas\x20to\x20improve.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20missingPoints\x20(array\x20of\x20strings):\x20Key\x20points\x20not\x20mentioned\x20by\x20the\x20user.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20similarities\x20(array\x20of\x20strings):\x20Important\x20points\x20both\x20answers\x20share.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20differences\x20(array\x20of\x20strings):\x20Notable\x20differences\x20in\x20content\x20or\x20emphasis.'}]);console[_0x352162(0x112)](_0x320eb2['ljWeA'],_0x432373);const _0x60739e=document[_0x352162(0xf8)](_0x352162(0x16e));console['log'](_0x320eb2[_0x352162(0x151)],_0x60739e);if(_0x60739e)_0x60739e[_0x352162(0x190)][_0x352162(0x109)]=_0x352162(0xf6);const _0x5d14c8=await aiLanguageSession[_0x352162(0x1a6)](_0x432373);console[_0x352162(0x112)](_0x320eb2['BJMcq'],_0x5d14c8);if(_0x60739e)_0x60739e['style'][_0x352162(0x109)]=_0x352162(0x17d);try{let _0x23cf6c=cleanJSONMarkdown(_0x5d14c8);console[_0x352162(0x112)](_0x320eb2['ZYtgi'],_0x23cf6c);let _0x1234ed=_0x23cf6c;_0x320eb2[_0x352162(0x1af)](typeof _0x23cf6c,_0x320eb2[_0x352162(0x199)])?console['log'](_0x320eb2[_0x352162(0x123)]):(_0x1234ed=JSON[_0x352162(0x1d6)](_0x23cf6c),console[_0x352162(0x112)](_0x320eb2[_0x352162(0x142)],_0x1234ed)),this['displayResults'](_0x1234ed);}catch(_0x196c03){console['error'](_0x320eb2[_0x352162(0x1d8)],_0x196c03),Logger['error'](_0x320eb2[_0x352162(0x18d)],_0x196c03),this['displayResults']({'percentageMatch':0x0,'feedback':_0x320eb2[_0x352162(0x196)],'missingPoints':[]});}}catch(_0x2942ab){console['error'](_0x320eb2[_0x352162(0x1de)],_0x2942ab);const _0x24285e=document['getElementById'](_0x320eb2['YMKXd']);if(_0x24285e)_0x24285e[_0x352162(0x190)]['display']=_0x352162(0x17d);Logger[_0x352162(0x162)](_0x320eb2[_0x352162(0x102)],_0x2942ab),this[_0x352162(0x160)]({'percentageMatch':0x0,'feedback':_0x320eb2['uNzFe'],'missingPoints':[]});}}['displayResults'](_0x315fc7){const _0x3f9a71=_0x31872f,_0x470953={'wSQRu':'\x5c$&','TiTfz':_0x3f9a71(0x10e),'fzQkt':_0x3f9a71(0xf6),'usSdf':function(_0x4bf0e0,_0x57e1b3){return _0x4bf0e0>=_0x57e1b3;},'icJNz':'excellent','RvAIL':function(_0x112cc8,_0x4289d3){return _0x112cc8>=_0x4289d3;},'whFUM':_0x3f9a71(0x18c),'nojyd':_0x3f9a71(0x130),'XuKBk':_0x3f9a71(0x189),'SoujV':function(_0x4daee9,_0x6242d2){return _0x4daee9>_0x6242d2;},'oOolE':function(_0x5e97e7,_0x19d37a){return _0x5e97e7<_0x19d37a;},'Ehiiq':function(_0x46752b,_0x5cb9fe,_0x71ce77){return _0x46752b(_0x5cb9fe,_0x71ce77);}};this[_0x3f9a71(0x1a8)][_0x3f9a71(0x190)][_0x3f9a71(0x109)]=_0x3f9a71(0xf6),this[_0x3f9a71(0x1d1)][_0x3f9a71(0x190)][_0x3f9a71(0x109)]=_0x470953['fzQkt'],this['nextButton'][_0x3f9a71(0x190)]['display']=_0x470953[_0x3f9a71(0x12f)];let _0xfde07a='',_0x39276e='';if(_0x470953['usSdf'](_0x315fc7['percentageMatch'],0x5a))_0xfde07a=_0x3f9a71(0x128),_0x39276e=_0x470953[_0x3f9a71(0x19e)];else{if(_0x470953[_0x3f9a71(0xec)](_0x315fc7[_0x3f9a71(0xf0)],0x50))_0xfde07a=_0x470953[_0x3f9a71(0x1a7)],_0x39276e=_0x470953[_0x3f9a71(0x157)];else _0x315fc7[_0x3f9a71(0xf0)]>=0x32?(_0xfde07a=_0x3f9a71(0x14e),_0x39276e='ok'):(_0xfde07a=_0x3f9a71(0x161),_0x39276e=_0x470953['XuKBk']);}this[_0x3f9a71(0x1a8)][_0x3f9a71(0x1d5)]=_0x3f9a71(0x19b)+_0x39276e+_0x3f9a71(0x17f)+_0xfde07a+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-percent\x22>'+Math[_0x3f9a71(0x114)](_0x315fc7[_0x3f9a71(0xf0)])+_0x3f9a71(0x133)+_0x315fc7[_0x3f9a71(0x120)]+_0x3f9a71(0x1ce);let _0x329ba9=this[_0x3f9a71(0x1a0)][_0x3f9a71(0x193)][this[_0x3f9a71(0x1a0)][_0x3f9a71(0x155)]][_0x3f9a71(0x13b)];_0x315fc7[_0x3f9a71(0x113)]&&_0x470953[_0x3f9a71(0xf7)](_0x315fc7[_0x3f9a71(0x113)][_0x3f9a71(0x1db)],0x0)&&_0x315fc7['missingPoints'][_0x3f9a71(0x163)](_0x4ca81d=>{const _0x2d2f5e=_0x3f9a71,_0x363342=new RegExp('('+_0x4ca81d['replace'](/[.*+?^${}()|[\]\\]/g,_0x470953[_0x2d2f5e(0x1b5)])+')','gi');_0x329ba9=_0x329ba9[_0x2d2f5e(0x15f)](_0x363342,_0x470953[_0x2d2f5e(0x149)]);}),this['correctAnswerDisplay'][_0x3f9a71(0x1d5)]=_0x3f9a71(0xfd)+_0x329ba9+_0x3f9a71(0xfe),_0x470953[_0x3f9a71(0x167)](this[_0x3f9a71(0x1a0)][_0x3f9a71(0x155)],this[_0x3f9a71(0x1a0)][_0x3f9a71(0x193)][_0x3f9a71(0x1db)]-0x1)&&_0x470953[_0x3f9a71(0x11c)](setTimeout,()=>{const _0x499402=_0x3f9a71;if(this[_0x499402(0x14b)])this[_0x499402(0x14b)]();},0x3e8);}[_0x31872f(0x1e1)](_0x5e2795){const _0xbb815=_0x31872f,_0xbbec7a=[/Q\d*\s*[:.-]\s*.*\s*A\s*[:.-]/i,/\d+\s*[).]\s*.*\s*Answer\s*[:.-]/i,/Question\s*\d+\s*[:.-]/i,/\b[Qq]uestion\b.*\b[Aa]nswer\b/];return _0xbbec7a[_0xbb815(0x174)](_0x494d68=>_0x494d68[_0xbb815(0x1d3)](_0x5e2795));}[_0x31872f(0x139)](_0x1df970){const _0x19dab0=_0x31872f,_0x435151={'QPisJ':function(_0x50e8f1,_0x58d011){return _0x50e8f1&&_0x58d011;},'SbDOL':'Raw\x20quiz\x20input:','TOjLK':function(_0x2ba429,_0x40b727){return _0x2ba429>_0x40b727;},'caoAw':function(_0x534307,_0x12197a){return _0x534307===_0x12197a;},'jspkp':function(_0x244084,_0x5cd332){return _0x244084<_0x5cd332;},'mwJcC':'Answer:','iirLv':_0x19dab0(0xff),'qEKaF':_0x19dab0(0x18e),'JECre':function(_0x8264,_0x4110bc){return _0x8264===_0x4110bc;},'iarba':_0x19dab0(0x192),'DISbK':_0x19dab0(0x1b6)};console[_0x19dab0(0x112)](_0x435151[_0x19dab0(0x159)],_0x1df970);try{try{const _0x1bef13=JSON[_0x19dab0(0x1d6)](_0x1df970);if(Array[_0x19dab0(0x1d9)](_0x1bef13)&&_0x435151['TOjLK'](_0x1bef13[_0x19dab0(0x1db)],0x0)&&_0x1bef13[0x0][_0x19dab0(0x1b3)]&&_0x1bef13[0x0][_0x19dab0(0x13b)])return _0x1bef13;}catch(_0x7d38c6){}const _0x401e78=[],_0x48ec84=_0x1df970[_0x19dab0(0x13a)](/(?:Q:|Question:?|^\d+\.?)\s*(.+?)(?:A:|Answer:?)\s*(.+?)(?=(?:Q:|Question:?|^\d+\.?)|$)/gis);_0x48ec84&&_0x435151[_0x19dab0(0x14c)](_0x48ec84[_0x19dab0(0x1db)],0x0)&&_0x48ec84['forEach'](_0x1274bd=>{const _0x301b95=_0x19dab0,_0x42572d=_0x1274bd[_0x301b95(0x13a)](/(?:Q:|Question:?|^\d+\.?)\s*(.+?)(?=A:|Answer:?)/is),_0x5a9674=_0x1274bd[_0x301b95(0x13a)](/(?:A:|Answer:?)\s*(.+?)$/is);_0x435151[_0x301b95(0x194)](_0x42572d,_0x5a9674)&&_0x401e78[_0x301b95(0x1c7)]({'question':_0x42572d[0x1][_0x301b95(0x180)](),'answer':_0x5a9674[0x1][_0x301b95(0x180)]()});});if(_0x435151['caoAw'](_0x401e78[_0x19dab0(0x1db)],0x0)){const _0xaa3ef7=_0x1df970[_0x19dab0(0x1c1)](/\n\s*\n|\d+\s*[).]|\bQ\d*\s*[:.]/);for(let _0x4546b0=0x0;_0x435151[_0x19dab0(0x19d)](_0x4546b0,_0xaa3ef7[_0x19dab0(0x1db)]);_0x4546b0++){const _0xbbd123=_0xaa3ef7[_0x4546b0][_0x19dab0(0x180)]();if(!_0xbbd123)continue;const _0x7e1f51=[_0x435151['mwJcC'],'A:',_0x435151['iirLv'],_0x435151[_0x19dab0(0x126)]];let _0x14e805=_0xbbd123,_0x4becad='';for(const _0x24869a of _0x7e1f51){if(_0xbbd123['includes'](_0x24869a)){const _0x423ecb=_0xbbd123['split'](_0x24869a);_0x14e805=_0x423ecb[0x0][_0x19dab0(0x180)](),_0x4becad=_0x423ecb[0x1]['trim']();break;}}_0x435151[_0x19dab0(0x194)](_0x14e805,_0x4becad)&&_0x401e78['push']({'question':_0x14e805,'answer':_0x4becad});}}return _0x435151[_0x19dab0(0x1ab)](_0x401e78['length'],0x0)&&aiLanguageSession&&console['log'](_0x435151[_0x19dab0(0x1d0)]),console[_0x19dab0(0x112)](_0x19dab0(0x15c),_0x401e78),_0x401e78;}catch(_0x515e7f){return Logger[_0x19dab0(0x162)](_0x435151[_0x19dab0(0x168)],_0x515e7f),console[_0x19dab0(0x112)](_0x435151[_0x19dab0(0x168)],_0x515e7f),null;}}[_0x31872f(0x121)](_0x3cb030){const _0x42fd3c=_0x31872f,_0x493d55={'DCnwU':function(_0x119e5f,_0x5de6bf){return _0x119e5f(_0x5de6bf);},'phBgr':_0x42fd3c(0x16c),'HotzU':_0x42fd3c(0x188),'mQaOP':_0x42fd3c(0x17d),'CzZtl':'quizStarted'};this[_0x42fd3c(0x1a0)]={'questions':_0x3cb030,'currentQuestionIndex':0x0,'userAnswers':_0x493d55[_0x42fd3c(0x1b4)](Array,_0x3cb030[_0x42fd3c(0x1db)])['fill'](''),'isRecording':![],'recordingTimeout':null,'minimumWordCount':0x5,'wordCount':0x0,'accumulatedAnswer':''};const _0x169ae0=document['getElementById'](_0x493d55['phBgr']),_0x41f81c=document[_0x42fd3c(0xf8)](_0x493d55[_0x42fd3c(0x1b7)]);if(_0x169ae0)_0x169ae0[_0x42fd3c(0x190)][_0x42fd3c(0x109)]=_0x493d55[_0x42fd3c(0x100)];if(_0x41f81c)_0x41f81c['style'][_0x42fd3c(0x109)]='none';this[_0x42fd3c(0x166)]['style'][_0x42fd3c(0x109)]=_0x42fd3c(0xf6),this[_0x42fd3c(0x1c2)](_0x493d55[_0x42fd3c(0x136)],_0x3cb030),this[_0x42fd3c(0x1ad)]();}[_0x31872f(0x1ad)](){const _0x3d5116=_0x31872f,_0x175635={'gjGlW':_0x3d5116(0x17d),'DFrcP':_0x3d5116(0x17c),'noSiy':_0x3d5116(0x103)};this[_0x3d5116(0x1a8)][_0x3d5116(0x190)][_0x3d5116(0x109)]=_0x175635[_0x3d5116(0x124)],this['correctAnswerDisplay'][_0x3d5116(0x190)][_0x3d5116(0x109)]='none',this[_0x3d5116(0xf3)][_0x3d5116(0x190)][_0x3d5116(0x109)]=_0x175635[_0x3d5116(0x124)],this[_0x3d5116(0x111)]['style']['display']=_0x175635[_0x3d5116(0x124)],this[_0x3d5116(0x1a0)][_0x3d5116(0xf9)]='',this['currentQuiz'][_0x3d5116(0x145)]=0x0;this[_0x3d5116(0x18b)]&&this[_0x3d5116(0x18b)][_0x3d5116(0x1ba)]();this[_0x3d5116(0x1a9)]['innerHTML']=_0x175635[_0x3d5116(0x187)];const _0x3d5710=this[_0x3d5116(0x1a0)][_0x3d5116(0x193)][this[_0x3d5116(0x1a0)][_0x3d5116(0x155)]];this['questionDisplay'][_0x3d5116(0x1d5)]=_0x3d5116(0x1df)+(this[_0x3d5116(0x1a0)][_0x3d5116(0x155)]+0x1)+_0x3d5116(0x195)+this[_0x3d5116(0x1a0)][_0x3d5116(0x193)]['length']+_0x3d5116(0x176)+_0x3d5710[_0x3d5116(0x1b3)]+_0x3d5116(0xfe),this[_0x3d5116(0x1c2)](_0x175635[_0x3d5116(0x125)],{'index':this[_0x3d5116(0x1a0)][_0x3d5116(0x155)],'question':_0x3d5710}),this[_0x3d5116(0x18b)][_0x3d5116(0x19c)](_0x3d5710[_0x3d5116(0x1b3)])[_0x3d5116(0x1aa)](()=>this[_0x3d5116(0x18b)]['startRecording'](this[_0x3d5116(0x1a0)]));}[_0x31872f(0x1a3)](){const _0x5b1eee=_0x31872f,_0x403290={'JNXen':function(_0x532e73,_0x58118f){return _0x532e73<_0x58118f;},'rYRqp':function(_0x464b20,_0xcd4668){return _0x464b20-_0xcd4668;}};_0x403290[_0x5b1eee(0x1ae)](this[_0x5b1eee(0x1a0)][_0x5b1eee(0x155)],_0x403290[_0x5b1eee(0x173)](this[_0x5b1eee(0x1a0)][_0x5b1eee(0x193)]['length'],0x1))?(this[_0x5b1eee(0x1a0)][_0x5b1eee(0x155)]++,this[_0x5b1eee(0x18b)]&&this[_0x5b1eee(0x18b)][_0x5b1eee(0x1a2)]&&this[_0x5b1eee(0x18b)][_0x5b1eee(0x1cf)](),this[_0x5b1eee(0x1ad)]()):this[_0x5b1eee(0x165)]();}[_0x31872f(0x165)](){const _0x204878=_0x31872f,_0x2fe441={'GaWDb':_0x204878(0x17d),'coPpy':_0x204878(0x188),'sYShI':_0x204878(0x16c),'oDwXz':'flex','cOxiB':_0x204878(0x178),'LTgQD':'quizCompleted','BJnte':_0x204878(0x1bb)};this[_0x204878(0x166)]['innerHTML']=_0x204878(0xf1)+this[_0x204878(0x1a0)][_0x204878(0x193)][_0x204878(0x1db)]+_0x204878(0x1c9)+this['generateQuizSummary']()+_0x204878(0x185),this[_0x204878(0x1c2)](_0x2fe441[_0x204878(0x181)],{'questions':this[_0x204878(0x1a0)][_0x204878(0x193)],'answers':this[_0x204878(0x1a0)][_0x204878(0x1b9)]}),document[_0x204878(0xf8)](_0x204878(0x154))[_0x204878(0x19f)](_0x2fe441[_0x204878(0x137)],()=>{const _0x12da23=_0x204878;this[_0x12da23(0x166)][_0x12da23(0x190)][_0x12da23(0x109)]=_0x2fe441[_0x12da23(0xf2)];const _0xe16d43=document[_0x12da23(0xf8)](_0x2fe441['coPpy']),_0x12ef38=document[_0x12da23(0xf8)](_0x2fe441[_0x12da23(0x13d)]);if(_0xe16d43)_0xe16d43[_0x12da23(0x190)][_0x12da23(0x109)]='flex';if(_0x12ef38)_0x12ef38[_0x12da23(0x190)][_0x12da23(0x109)]=_0x2fe441['oDwXz'];this[_0x12da23(0x1c2)](_0x2fe441['cOxiB']);});}[_0x31872f(0x1d2)](){const _0x19cd41=_0x31872f,_0x156dd2={'ufsUi':_0x19cd41(0x131),'RcLPw':function(_0x103cc3,_0x3e03e1){return _0x103cc3+_0x3e03e1;},'Akrfn':_0x19cd41(0x1cb)};let _0x6ed227=_0x19cd41(0xfa);return this['currentQuiz']['questions'][_0x19cd41(0x163)]((_0x3e5f04,_0x4fc212)=>{const _0x432949=_0x19cd41,_0x3c7e6b=this[_0x432949(0x1a0)][_0x432949(0x1b9)][_0x4fc212]||_0x156dd2['ufsUi'];_0x6ed227+=_0x432949(0x1bd)+_0x156dd2[_0x432949(0x11f)](_0x4fc212,0x1)+_0x432949(0x179)+_0x3e5f04['question']+_0x432949(0x12a)+_0x3c7e6b+_0x432949(0x14d)+_0x3e5f04[_0x432949(0x13b)]+_0x432949(0x11d);}),_0x6ed227+=_0x156dd2[_0x19cd41(0x1b2)],_0x6ed227;}['on'](_0x47e347,_0x3bb72b){const _0x435305=_0x31872f;return!this[_0x435305(0x10d)][_0x47e347]&&(this[_0x435305(0x10d)][_0x47e347]=[]),this['eventListeners'][_0x47e347][_0x435305(0x1c7)](_0x3bb72b),this;}['off'](_0xcaf17a,_0x62856a){const _0x28edda=_0x31872f;if(!this[_0x28edda(0x10d)][_0xcaf17a])return this;return!_0x62856a?this[_0x28edda(0x10d)][_0xcaf17a]=[]:this[_0x28edda(0x10d)][_0xcaf17a]=this['eventListeners'][_0xcaf17a]['filter'](_0x50b73e=>_0x50b73e!==_0x62856a),this;}['emit'](_0x1285d1,_0x296ffb){const _0x2a838b=_0x31872f;if(!this[_0x2a838b(0x10d)][_0x1285d1])return;this[_0x2a838b(0x10d)][_0x1285d1]['forEach'](_0x3f4c7d=>_0x3f4c7d(_0x296ffb));}}