
/*!
Copyright ¬© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x2e31bc=_0x3a93;function _0x1934(){const _0x43c166=['replace','timeoutMessage','Sorry,\x20there\x20was\x20an\x20error\x20analyzing\x20your\x20answer.','poor','\x0aA.','parseQuizQuestions','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>','maFAg','sBUKX','NRkky','isQuizFormat','‚ùå\x20JSON\x20Parse\x20Error:','wpExw','quizCompleted','off','animation','\x0aAnswer.','DZUok','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-percent\x22>','No\x20response\x20detected.\x20Click\x20Yes\x20or\x20No.','returnToChatButton','VUsph','trim','blink\x201s\x20infinite','Parsed\x20questions:','split','fontWeight','NZCoW','loadCurrentQuestion','includes','29|8|22|18|10|24|6|12|23|20|5|26|13|4|0|3|11|34|30|28|21|7|17|31|25|16|33|32|27|14|9|15|19|1|2','FouWA','missingPoints','message','emit','startRecording','initializeSpeechManager','‚ú®\x20Parsed\x20Result:','hohYD','Answer\x20comparison\x20error:','log','\x0a\x20\x20\x20\x20\x20\x20<p>Done?</p>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22confirmation-buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22yesButton\x22\x20class=\x22confirm-button\x22>Yes</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22noButton\x22\x20class=\x22confirm-button\x22>No</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','mvTWv','Try\x20again\x20ü§î','183480zAQPko','vYLUl','extended','question','lrhNJ','rLPIl','isArray','block','displayResults','3px\x20solid\x20#17a2b8','<span\x20class=\x22interim\x22>','length','setupEventListeners','choices','Answer:','PtqJd','ODilv','GlLVj','</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','answer','currentQuestionIndex','excellent','user','chatContainer','üìù\x20Prompt\x20being\x20sent\x20to\x20AI:','stopRecording','error','speechProcessor','rQSGX','isPaused','tKuFO','Raw\x20quiz\x20input:','yesButton','<strong>Your\x20answer:</strong>\x20','edHIy','match','RBKcC','eSSeD','RUfvQ','nextQuestion','Excellent!\x20üéâ','innerHTML','14365ibLdnC','yXMOQ','flex','</span>','click','14XGhRuH','remove','loaderElement','currentQuiz','speakText','NfhqG','Failed\x20to\x20parse\x20quiz\x20questions:','style','\x0a\x20\x20\x20\x20\x20\x20<h3>Complete\x20Answer:</h3>\x0a\x20\x20\x20\x20\x20\x20<p>','getElementById','div','Dgega','compareAnswer','confirmAnswerCompletion','quizStarted','Compare\x20the\x20following\x20answers:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20User\x27s\x20answer:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','DQouH','welcomeScreen','3|9|6|1|0|2|10|7|11|12|5|8|4','pugrv','color','appendChild','hSloT','noButton','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22returnToChatButton\x22\x20class=\x22next-button\x22>Return\x20to\x20Chat</button>\x0a\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Correct\x20answer:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createUIElements','showAutoAdvancePrompt','YKaYa','PWLGB','querySelector','getAccumulatedText','HKPeY','zCLIZ','Uuoef','qUnLd','ywvZz','<strong>Your\x20answer:</strong>\x20<em>(Speak\x20now...)</em>','accumulatedAnswer','JZQSM','percentageMatch','add','init','\x0a\x20\x20\x20\x20\x20\x20<h2>Quiz\x20Completed!</h2>\x0a\x20\x20\x20\x20\x20\x20<p>You\x27ve\x20completed\x20all\x20','248289jLNfax','generateQuizSummary','%\x20Match</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>','AzZoT','FvIqM','YkayV','auto','userAnswerDisplay','<span\x20class=\x22highlight\x22>$1</span>','bMWiZ','returnedToChat','srUuM','sdMUa','156DBRvWp','correct-answer-display','display','parse','ngdsD','4GfnHeO','content','userAnswers','yfZUJ','23630sfxxCY','correctAnswerDisplay','confirmationPrompt','No\x20answer\x20provided','yQDRv','fYcqC','wordCount','push','forEach','.input-container','createElement','some','frNAz','insertBefore','user-answer-display','ZBYKP','resetAccumulatedText','AssYF','questionDisplay','iqzfr','Failed\x20to\x20parse\x20AI\x20response\x20as\x20JSON:','bold','AAjIi','bvKsb','cIuEd','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22rating\x20','BnMtZ','#dc3545','ZRgsY','then','594wwULMR','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Please\x20return\x20a\x20JSON\x20object\x20with\x20the\x20following\x20fields:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20percentageMatch\x20(number):\x20Percentage\x20of\x20key\x20points\x20covered\x20by\x20the\x20user.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20feedback\x20(string):\x20Constructive\x20feedback\x20on\x20strengths\x20and\x20areas\x20to\x20improve.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20missingPoints\x20(array\x20of\x20strings):\x20Key\x20points\x20not\x20mentioned\x20by\x20the\x20user.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20similarities\x20(array\x20of\x20strings):\x20Important\x20points\x20both\x20answers\x20share.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20differences\x20(array\x20of\x20strings):\x20Notable\x20differences\x20in\x20content\x20or\x20emphasis.','\x5c$&','VHimO','FQuLx','</div>','rmmFg','jfCaj','16583jJhCEj','good','quizContainer','nMaOv','1363642idHfSg','LqWGX','<div\x20class=\x22summary-container\x22>','recording','HXcQq','949095SdsCrf','vYxiA','button','border','qHRRD','nextButton','addEventListener','loader','SqrrH','explicit','micButton','eventListeners','Next\x20Question','You\x20are\x20an\x20advanced\x20answer\x20comparison\x20assistant.\x20Analyze\x20the\x20user\x27s\x20answer\x20against\x20the\x20correct\x20answer\x20by\x20identifying\x20main\x20points,\x20calculating\x20a\x20percentage\x20match,\x20and\x20highlighting\x20similarities\x20and\x20differences.\x20Provide\x20structured\x20feedback\x20in\x20JSON\x20format.','questions','KzrQz','resultDisplay','isRecording','none','mXKrH','stringify','FkwLL','fill','finishQuiz','classList','BBIml','nLomN','</h2>\x0a\x20\x20\x20\x20\x20\x20<p>','eVTNL','DVnHp','.container','cVmar','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Your\x20answer:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','aiAdapter','ikBJK','zEcjI','round','etNIq','lJgPY'];_0x1934=function(){return _0x43c166;};return _0x1934();}(function(_0xe0389b,_0x279e9c){const _0x575f42=_0x3a93,_0x284557=_0xe0389b();while(!![]){try{const _0x220f46=-parseInt(_0x575f42(0x1aa))/0x1*(parseInt(_0x575f42(0x236))/0x2)+parseInt(_0x575f42(0x16e))/0x3*(-parseInt(_0x575f42(0x180))/0x4)+parseInt(_0x575f42(0x231))/0x5*(parseInt(_0x575f42(0x17b))/0x6)+parseInt(_0x575f42(0x1ae))/0x7+parseInt(_0x575f42(0x207))/0x8+-parseInt(_0x575f42(0x1b3))/0x9+parseInt(_0x575f42(0x184))/0xa*(parseInt(_0x575f42(0x1a2))/0xb);if(_0x220f46===_0x279e9c)break;else _0x284557['push'](_0x284557['shift']());}catch(_0x551989){_0x284557['push'](_0x284557['shift']());}}}(_0x1934,0x1c41e));import{displayError,Logger}from'./common.js';import{aiAdapter}from'./aiAdapter.js';function _0x3a93(_0x3987cd,_0x29d61e){const _0x193476=_0x1934();return _0x3a93=function(_0x3a93e5,_0x2801f7){_0x3a93e5=_0x3a93e5-0x150;let _0x3dae37=_0x193476[_0x3a93e5];return _0x3dae37;},_0x3a93(_0x3987cd,_0x29d61e);}import{SpeechProcessor}from'./speechProcessor.js';export class QuizManager{constructor(_0x49af0f={}){const _0x108232=_0x3a93,_0x419681={'ywvZz':_0x108232(0x154)},_0x453685=_0x419681[_0x108232(0x166)][_0x108232(0x1f4)]('|');let _0x2ee7e9=0x0;while(!![]){switch(_0x453685[_0x2ee7e9++]){case'0':this[_0x108232(0x196)]=null;continue;case'1':this[_0x108232(0x1ac)]=null;continue;case'2':this[_0x108232(0x175)]=null;continue;case'3':this[_0x108232(0x15d)]=_0x49af0f['showAutoAdvancePrompt']||null;continue;case'4':this[_0x108232(0x1be)]={};continue;case'5':this[_0x108232(0x224)]=![];continue;case'6':this[_0x108232(0x239)]={'questions':[],'currentQuestionIndex':0x0,'userAnswers':[],'isRecording':![],'recordingTimeout':null,'minimumWordCount':0x5,'wordCount':0x0,'accumulatedAnswer':''};continue;case'7':this[_0x108232(0x185)]=null;continue;case'8':this['speechProcessor']=null;continue;case'9':this[_0x108232(0x1d5)]=aiAdapter;continue;case'10':this[_0x108232(0x1c3)]=null;continue;case'11':this[_0x108232(0x1b8)]=null;continue;case'12':this[_0x108232(0x186)]=null;continue;}break;}}async['init'](){const _0x355cba=_0x3a93,_0x19da48={'ngdsD':'loader','AzZoT':'QuizManager\x20initialized'};await this[_0x355cba(0x1d5)]['init'](),this[_0x355cba(0x15c)](),this[_0x355cba(0x1ff)](),this['setupEventListeners'](),this[_0x355cba(0x238)]=document['getElementById'](_0x19da48[_0x355cba(0x17f)]),console[_0x355cba(0x203)](_0x19da48[_0x355cba(0x171)]);}[_0x2e31bc(0x15c)](){const _0x14c502=_0x2e31bc,_0x4178e4={'YKaYa':_0x14c502(0x1f9),'ZRgsY':_0x14c502(0x240),'bvKsb':_0x14c502(0x1d1),'LeULc':_0x14c502(0x18d),'vYxiA':_0x14c502(0x185),'hSloT':_0x14c502(0x1c5),'rmmFg':'question-display','rImmM':'next-button','yNDSD':_0x14c502(0x1ac),'JZQSM':_0x14c502(0x17c),'NZCoW':'confirmation-prompt','TzmHb':_0x14c502(0x192),'fJJnJ':'quiz-container','Uuoef':_0x14c502(0x175),'YkayV':_0x14c502(0x186),'DZUok':_0x14c502(0x1c3),'FkwLL':_0x14c502(0x1b8),'eVTNL':_0x14c502(0x1b5)},_0x7d0e64=_0x4178e4[_0x14c502(0x15e)][_0x14c502(0x1f4)]('|');let _0x43e6b8=0x0;while(!![]){switch(_0x7d0e64[_0x43e6b8++]){case'0':this[_0x14c502(0x185)]=document[_0x14c502(0x18e)](_0x4178e4[_0x14c502(0x1a0)]);continue;case'1':this[_0x14c502(0x1ac)][_0x14c502(0x157)](this[_0x14c502(0x1b8)]);continue;case'2':document[_0x14c502(0x160)](_0x4178e4[_0x14c502(0x19b)])[_0x14c502(0x191)](this[_0x14c502(0x1ac)],document[_0x14c502(0x160)](_0x4178e4['LeULc']));continue;case'3':this['correctAnswerDisplay']['id']=_0x4178e4[_0x14c502(0x1b4)];continue;case'4':this[_0x14c502(0x1c3)]['style'][_0x14c502(0x17d)]=_0x4178e4['hSloT'];continue;case'5':this[_0x14c502(0x1c3)]=document[_0x14c502(0x18e)](_0x4178e4[_0x14c502(0x1a0)]);continue;case'6':this[_0x14c502(0x196)][_0x14c502(0x1cb)]['add'](_0x4178e4[_0x14c502(0x1a8)]);continue;case'7':this[_0x14c502(0x1b8)]['classList'][_0x14c502(0x16b)](_0x4178e4['rImmM']);continue;case'8':this['quizContainer']['id']=_0x4178e4['yNDSD'];continue;case'9':this[_0x14c502(0x1ac)]['appendChild'](this[_0x14c502(0x186)]);continue;case'10':this[_0x14c502(0x196)]=document[_0x14c502(0x18e)]('div');continue;case'11':this[_0x14c502(0x185)][_0x14c502(0x1cb)]['add'](_0x4178e4[_0x14c502(0x169)]);continue;case'12':this[_0x14c502(0x175)]=document[_0x14c502(0x18e)](_0x4178e4[_0x14c502(0x1a0)]);continue;case'13':this['resultDisplay']['classList'][_0x14c502(0x16b)]('result-display');continue;case'14':this[_0x14c502(0x1ac)][_0x14c502(0x157)](this[_0x14c502(0x175)]);continue;case'15':this['quizContainer'][_0x14c502(0x157)](this[_0x14c502(0x1c3)]);continue;case'16':this['confirmationPrompt'][_0x14c502(0x1cb)][_0x14c502(0x16b)](_0x4178e4[_0x14c502(0x1f6)]);continue;case'17':this['nextButton']['style'][_0x14c502(0x17d)]=_0x4178e4[_0x14c502(0x158)];continue;case'18':this[_0x14c502(0x1ac)]['style']['display']=_0x14c502(0x1c5);continue;case'19':this[_0x14c502(0x1ac)][_0x14c502(0x157)](this[_0x14c502(0x185)]);continue;case'20':this[_0x14c502(0x175)][_0x14c502(0x1cb)][_0x14c502(0x16b)](_0x4178e4['TzmHb']);continue;case'21':this[_0x14c502(0x1b8)]['textContent']=_0x14c502(0x1bf);continue;case'22':this[_0x14c502(0x1ac)][_0x14c502(0x1cb)][_0x14c502(0x16b)](_0x4178e4['fJJnJ']);continue;case'23':this[_0x14c502(0x175)]['id']=_0x4178e4[_0x14c502(0x164)];continue;case'24':this[_0x14c502(0x196)]['id']=_0x14c502(0x196);continue;case'25':this['confirmationPrompt']['id']=_0x4178e4[_0x14c502(0x173)];continue;case'26':this[_0x14c502(0x1c3)]['id']=_0x4178e4[_0x14c502(0x1ec)];continue;case'27':this[_0x14c502(0x1ac)][_0x14c502(0x157)](this[_0x14c502(0x196)]);continue;case'28':this[_0x14c502(0x1b8)]['id']=_0x4178e4[_0x14c502(0x1c8)];continue;case'29':this[_0x14c502(0x1ac)]=document[_0x14c502(0x18e)](_0x4178e4[_0x14c502(0x1a0)]);continue;case'30':this[_0x14c502(0x1b8)]=document[_0x14c502(0x18e)](_0x4178e4[_0x14c502(0x1cf)]);continue;case'31':this[_0x14c502(0x186)]=document[_0x14c502(0x18e)](_0x4178e4[_0x14c502(0x1a0)]);continue;case'32':this[_0x14c502(0x186)]['style']['display']=_0x4178e4[_0x14c502(0x158)];continue;case'33':this[_0x14c502(0x186)][_0x14c502(0x230)]=_0x14c502(0x204);continue;case'34':this[_0x14c502(0x185)][_0x14c502(0x23d)][_0x14c502(0x17d)]=_0x4178e4[_0x14c502(0x158)];continue;}break;}}[_0x2e31bc(0x1ff)](){const _0x16af83=_0x2e31bc,_0x4814af={'NRkky':function(_0x4be96c,_0x45c27c){return _0x4be96c(_0x45c27c);},'CzSwN':function(_0x55aafd,_0x37d559){return _0x55aafd===_0x37d559;},'yXMOQ':_0x16af83(0x1bc),'jXoBf':function(_0x244424,_0x438651){return _0x244424===_0x438651;},'NfhqG':_0x16af83(0x174),'jfCaj':function(_0x10fd71,_0x269944){return _0x10fd71===_0x269944;},'ECnNm':_0x16af83(0x209),'DVnHp':_0x16af83(0x1bd),'DQouH':_0x16af83(0x1b1)};this[_0x16af83(0x222)]=new SpeechProcessor({'onResult':(_0x253dfb,_0xecc064)=>{const _0x2f56c2=_0x16af83;this[_0x2f56c2(0x175)][_0x2f56c2(0x230)]=_0x2f56c2(0x228)+_0x253dfb+_0x2f56c2(0x211)+_0xecc064+_0x2f56c2(0x234);},'onError':_0x4966b3=>{const _0x1e1069=_0x16af83;_0x4814af[_0x1e1069(0x1e4)](displayError,_0x4966b3);},'onSilence':_0x231b8c=>{const _0x4b44af=_0x16af83;if(_0x4814af['CzSwN'](_0x231b8c,_0x4814af[_0x4b44af(0x232)]))this[_0x4b44af(0x243)]();else{if(_0x4814af['jXoBf'](_0x231b8c,_0x4814af[_0x4b44af(0x23b)]))this[_0x4b44af(0x243)]();else _0x4814af[_0x4b44af(0x1a9)](_0x231b8c,_0x4814af['ECnNm'])&&this['askForConfirmation']();}},'onRecordingStart':()=>{const _0xb686b5=_0x16af83,_0x2aebac=document[_0xb686b5(0x23f)](_0x4814af[_0xb686b5(0x1d0)]);_0x2aebac&&_0x2aebac[_0xb686b5(0x1cb)][_0xb686b5(0x16b)](_0x4814af[_0xb686b5(0x152)]);},'onRecordingStop':()=>{const _0x4d77ff=_0x16af83,_0x40b4bd=document[_0x4d77ff(0x23f)](_0x4814af['DVnHp']);_0x40b4bd&&_0x40b4bd[_0x4d77ff(0x1cb)][_0x4d77ff(0x237)]('recording');},'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}[_0x2e31bc(0x213)](){const _0x2dac43=_0x2e31bc,_0x1cd09a={'vYLUl':_0x2dac43(0x1c5),'BBIml':_0x2dac43(0x227),'qUnLd':_0x2dac43(0x235),'SEgAj':_0x2dac43(0x159)};this[_0x2dac43(0x1b8)][_0x2dac43(0x1b9)](_0x2dac43(0x235),()=>{this['nextQuestion']();}),document['getElementById'](_0x1cd09a[_0x2dac43(0x1cc)])[_0x2dac43(0x1b9)](_0x1cd09a[_0x2dac43(0x165)],()=>{const _0x26ec32=_0x2dac43;this[_0x26ec32(0x186)][_0x26ec32(0x23d)]['display']=_0x1cd09a[_0x26ec32(0x208)],this['confirmAnswerCompletion']();}),document[_0x2dac43(0x23f)](_0x1cd09a['SEgAj'])[_0x2dac43(0x1b9)](_0x1cd09a['qUnLd'],()=>{const _0x3f7639=_0x2dac43;this['confirmationPrompt'][_0x3f7639(0x23d)]['display']=_0x3f7639(0x1c5);if(this[_0x3f7639(0x222)])this[_0x3f7639(0x222)][_0x3f7639(0x1fe)]();});}['askForConfirmation'](){const _0x4fcde6=_0x2e31bc,_0x3d06fb={'qHRRD':_0x4fcde6(0x1c5),'etNIq':_0x4fcde6(0x1dc),'mvTWv':function(_0x42c9c6,_0x10d008){return _0x42c9c6!==_0x10d008;},'SqrrH':'No\x20response\x20detected,\x20resuming\x20recording.','cIuEd':_0x4fcde6(0x210),'ODilv':_0x4fcde6(0x1f2),'VHimO':_0x4fcde6(0x240),'RUfvQ':_0x4fcde6(0x19f),'FvIqM':_0x4fcde6(0x199),'maFAg':_0x4fcde6(0x1ee),'edHIy':function(_0x2a2950,_0x331f89,_0x4f96dd){return _0x2a2950(_0x331f89,_0x4f96dd);}};if(this['speechProcessor'])this[_0x4fcde6(0x222)][_0x4fcde6(0x220)]();this['confirmationPrompt'][_0x4fcde6(0x23d)]['display']='block',this[_0x4fcde6(0x186)]['style'][_0x4fcde6(0x1b6)]=_0x3d06fb[_0x4fcde6(0x19c)],this[_0x4fcde6(0x186)]['style'][_0x4fcde6(0x1ea)]=_0x3d06fb[_0x4fcde6(0x217)];if(!document[_0x4fcde6(0x23f)](_0x3d06fb[_0x4fcde6(0x1d9)])){const _0x1d9f00=document[_0x4fcde6(0x18e)](_0x3d06fb[_0x4fcde6(0x1a5)]);_0x1d9f00['id']=_0x3d06fb[_0x4fcde6(0x1d9)],_0x1d9f00[_0x4fcde6(0x23d)][_0x4fcde6(0x17d)]=_0x3d06fb[_0x4fcde6(0x1b7)],_0x1d9f00[_0x4fcde6(0x23d)][_0x4fcde6(0x156)]=_0x3d06fb[_0x4fcde6(0x22d)],_0x1d9f00[_0x4fcde6(0x23d)][_0x4fcde6(0x1f5)]=_0x3d06fb[_0x4fcde6(0x172)],_0x1d9f00['innerText']=_0x3d06fb[_0x4fcde6(0x1e2)],this[_0x4fcde6(0x186)][_0x4fcde6(0x157)](_0x1d9f00);}if(this[_0x4fcde6(0x222)]){const _0xc6997a=this[_0x4fcde6(0x222)]['startConfirmationRecognition'](()=>{const _0x2a4705=_0x4fcde6;this[_0x2a4705(0x186)][_0x2a4705(0x23d)][_0x2a4705(0x17d)]=_0x3d06fb[_0x2a4705(0x1b7)],this['confirmAnswerCompletion']();},()=>{const _0x797eb6=_0x4fcde6;this[_0x797eb6(0x186)][_0x797eb6(0x23d)][_0x797eb6(0x17d)]=_0x3d06fb[_0x797eb6(0x1b7)],this['speechProcessor']['startRecording']();},()=>{const _0x225afb=_0x4fcde6;this[_0x225afb(0x186)][_0x225afb(0x23d)]['animation']=_0x3d06fb['qHRRD'],document[_0x225afb(0x23f)](_0x3d06fb[_0x225afb(0x1d9)])&&(document[_0x225afb(0x23f)](_0x3d06fb[_0x225afb(0x1d9)])[_0x225afb(0x23d)][_0x225afb(0x17d)]=_0x225afb(0x20e));});}_0x3d06fb[_0x4fcde6(0x229)](setTimeout,()=>{const _0x137566=_0x4fcde6;if(_0x3d06fb[_0x137566(0x205)](this['confirmationPrompt'][_0x137566(0x23d)]['display'],_0x3d06fb[_0x137566(0x1b7)])){console[_0x137566(0x203)](_0x3d06fb[_0x137566(0x1bb)]),this[_0x137566(0x186)][_0x137566(0x23d)][_0x137566(0x17d)]=_0x3d06fb[_0x137566(0x1b7)];if(this['speechProcessor'])this[_0x137566(0x222)]['startRecording']();}},0x1b58);}[_0x2e31bc(0x243)](){const _0x4ee293=_0x2e31bc,_0x8c4d9a={'HKPeY':'none'};if(this['speechProcessor'])this[_0x4ee293(0x222)]['stopRecording']();this[_0x4ee293(0x186)]['style'][_0x4ee293(0x17d)]=_0x8c4d9a[_0x4ee293(0x162)];const _0x8ad676=(this[_0x4ee293(0x222)]?this[_0x4ee293(0x222)][_0x4ee293(0x161)]():'')[_0x4ee293(0x1db)](/done|i am finished|that's all|yes|correct/gi,'')[_0x4ee293(0x1f1)]();this[_0x4ee293(0x239)][_0x4ee293(0x182)][this[_0x4ee293(0x239)][_0x4ee293(0x21b)]]=_0x8ad676,this[_0x4ee293(0x175)][_0x4ee293(0x230)]='<strong>Your\x20answer:</strong>\x20'+_0x8ad676,this[_0x4ee293(0x242)](_0x8ad676,this[_0x4ee293(0x239)][_0x4ee293(0x1c1)][this[_0x4ee293(0x239)]['currentQuestionIndex']]['answer']);}async[_0x2e31bc(0x242)](_0x3089f4,_0x5534d6){const _0x14a83b=_0x2e31bc,_0x15de2e={'eSSeD':'üí¨\x20User\x20Answer\x20being\x20sent\x20for\x20comparison:','LODOb':'‚úÖ\x20Correct\x20Answer\x20being\x20sent\x20for\x20comparison:','ZBYKP':_0x14a83b(0x1c0),'rQSGX':_0x14a83b(0x21d),'rLPIl':_0x14a83b(0x21f),'wpExw':'none','hbqPn':function(_0x5e4772,_0xbd2d27){return _0x5e4772===_0xbd2d27;},'TcgZJ':'object','bMWiZ':'üõë\x20cleanedResponse\x20is\x20already\x20an\x20object,\x20skipping\x20JSON.parse.','zEcjI':_0x14a83b(0x200),'srUuM':_0x14a83b(0x1e6),'sBUKX':_0x14a83b(0x198),'ikBJK':'‚ùå\x20Compare\x20Answer\x20Error:','BKnkO':_0x14a83b(0x1ba),'modVA':_0x14a83b(0x202)};await this[_0x14a83b(0x1d5)][_0x14a83b(0x16c)](),console['log'](_0x15de2e[_0x14a83b(0x22c)],_0x3089f4),console[_0x14a83b(0x203)](_0x15de2e['LODOb'],_0x5534d6);try{const _0x48abfa=JSON[_0x14a83b(0x1c7)]([{'role':'system','content':_0x15de2e[_0x14a83b(0x193)]},{'role':_0x15de2e[_0x14a83b(0x223)],'content':_0x14a83b(0x151)+_0x3089f4+_0x14a83b(0x15b)+_0x5534d6+_0x14a83b(0x1a3)}]);console[_0x14a83b(0x203)](_0x15de2e[_0x14a83b(0x20c)],_0x48abfa);const _0x1b87a3=document[_0x14a83b(0x23f)](_0x14a83b(0x1ba));if(_0x1b87a3)_0x1b87a3['style'][_0x14a83b(0x17d)]=_0x14a83b(0x20e);const _0x46310c=await aiAdapter['generateResponse'](_0x48abfa);let _0x2b42f2=_0x46310c[_0x14a83b(0x214)][0x0][_0x14a83b(0x1fc)][_0x14a83b(0x181)];if(_0x1b87a3)_0x1b87a3[_0x14a83b(0x23d)][_0x14a83b(0x17d)]=_0x15de2e[_0x14a83b(0x1e7)];try{_0x15de2e['hbqPn'](typeof _0x2b42f2,_0x15de2e['TcgZJ'])?console['log'](_0x15de2e[_0x14a83b(0x177)]):(_0x2b42f2=JSON[_0x14a83b(0x17e)](_0x2b42f2),console['log'](_0x15de2e[_0x14a83b(0x1d7)],_0x2b42f2)),this[_0x14a83b(0x20f)](_0x2b42f2);}catch(_0x415ff8){console[_0x14a83b(0x221)](_0x15de2e[_0x14a83b(0x179)],_0x415ff8),Logger[_0x14a83b(0x221)](_0x15de2e[_0x14a83b(0x1e3)],_0x415ff8),this[_0x14a83b(0x20f)]({'percentageMatch':0x0,'feedback':_0x14a83b(0x1dd),'missingPoints':[]});}}catch(_0x1ed89){console[_0x14a83b(0x221)](_0x15de2e[_0x14a83b(0x1d6)],_0x1ed89);const _0x4532a2=document['getElementById'](_0x15de2e['BKnkO']);if(_0x4532a2)_0x4532a2['style'][_0x14a83b(0x17d)]=_0x15de2e['wpExw'];Logger[_0x14a83b(0x221)](_0x15de2e['modVA'],_0x1ed89),this['displayResults']({'percentageMatch':0x0,'feedback':_0x14a83b(0x1dd),'missingPoints':[]});}}[_0x2e31bc(0x20f)](_0x1c39ac){const _0x203be9=_0x2e31bc,_0x1c1637={'KzrQz':_0x203be9(0x1a4),'Dgega':_0x203be9(0x176),'GlLVj':_0x203be9(0x20e),'dffVq':function(_0x402b17,_0x3b591d){return _0x402b17>=_0x3b591d;},'UBIuQ':_0x203be9(0x22f),'fYcqC':_0x203be9(0x21c),'yQDRv':'Good!\x20üëç','PtqJd':_0x203be9(0x1ab),'nMaOv':'OK\x20üëå','AAjIi':_0x203be9(0x206),'hohYD':function(_0xca4777,_0x4d3bf6){return _0xca4777>_0x4d3bf6;},'FQuLx':function(_0x4275d3,_0x1711c7){return _0x4275d3<_0x1711c7;},'sdMUa':function(_0x13d4ce,_0x531f22,_0x66cf59){return _0x13d4ce(_0x531f22,_0x66cf59);}};this[_0x203be9(0x1c3)][_0x203be9(0x23d)][_0x203be9(0x17d)]=_0x1c1637[_0x203be9(0x218)],this[_0x203be9(0x185)]['style'][_0x203be9(0x17d)]=_0x1c1637[_0x203be9(0x218)],this['nextButton'][_0x203be9(0x23d)][_0x203be9(0x17d)]=_0x1c1637[_0x203be9(0x218)];let _0x51dfa5='',_0x5a0bb7='';if(_0x1c1637['dffVq'](_0x1c39ac[_0x203be9(0x16a)],0x5a))_0x51dfa5=_0x1c1637['UBIuQ'],_0x5a0bb7=_0x1c1637[_0x203be9(0x189)];else{if(_0x1c39ac['percentageMatch']>=0x50)_0x51dfa5=_0x1c1637[_0x203be9(0x188)],_0x5a0bb7=_0x1c1637[_0x203be9(0x216)];else _0x1c39ac[_0x203be9(0x16a)]>=0x32?(_0x51dfa5=_0x1c1637[_0x203be9(0x1ad)],_0x5a0bb7='ok'):(_0x51dfa5=_0x1c1637[_0x203be9(0x19a)],_0x5a0bb7=_0x203be9(0x1de));}this[_0x203be9(0x1c3)][_0x203be9(0x230)]=_0x203be9(0x19d)+_0x5a0bb7+_0x203be9(0x1e1)+_0x51dfa5+_0x203be9(0x1ed)+Math[_0x203be9(0x1d8)](_0x1c39ac[_0x203be9(0x16a)])+_0x203be9(0x170)+_0x1c39ac['feedback']+_0x203be9(0x219);let _0x1bb5aa=this[_0x203be9(0x239)][_0x203be9(0x1c1)][this[_0x203be9(0x239)][_0x203be9(0x21b)]][_0x203be9(0x21a)];_0x1c39ac[_0x203be9(0x1fb)]&&_0x1c1637[_0x203be9(0x201)](_0x1c39ac[_0x203be9(0x1fb)]['length'],0x0)&&_0x1c39ac[_0x203be9(0x1fb)][_0x203be9(0x18c)](_0x3a273b=>{const _0x95b502=_0x203be9,_0x1fa181=new RegExp('('+_0x3a273b[_0x95b502(0x1db)](/[.*+?^${}()|[\]\\]/g,_0x1c1637[_0x95b502(0x1c2)])+')','gi');_0x1bb5aa=_0x1bb5aa['replace'](_0x1fa181,_0x1c1637[_0x95b502(0x241)]);}),this[_0x203be9(0x185)][_0x203be9(0x230)]=_0x203be9(0x23e)+_0x1bb5aa+'</p>\x0a\x20\x20\x20\x20',_0x1c1637[_0x203be9(0x1a6)](this[_0x203be9(0x239)][_0x203be9(0x21b)],this['currentQuiz'][_0x203be9(0x1c1)][_0x203be9(0x212)]-0x1)&&_0x1c1637[_0x203be9(0x17a)](setTimeout,()=>{const _0x4ef593=_0x203be9;if(this[_0x4ef593(0x15d)])this[_0x4ef593(0x15d)]();},0x3e8);}[_0x2e31bc(0x1e5)](_0x296d27){const _0x3b00a3=_0x2e31bc,_0x431216=[/Q\d*\s*[:.-]\s*.*\s*A\s*[:.-]/i,/\d+\s*[).]\s*.*\s*Answer\s*[:.-]/i,/Question\s*\d+\s*[:.-]/i,/\b[Qq]uestion\b.*\b[Aa]nswer\b/];return _0x431216[_0x3b00a3(0x18f)](_0x5be8d8=>_0x5be8d8['test'](_0x296d27));}[_0x2e31bc(0x1e0)](_0x594b11){const _0x44b322=_0x2e31bc,_0x56c585={'crenp':function(_0x3c3348,_0x54266c){return _0x3c3348&&_0x54266c;},'PWLGB':_0x44b322(0x226),'HXcQq':function(_0x12e021,_0x57e6df){return _0x12e021>_0x57e6df;},'RBKcC':function(_0x315d1e,_0x5a5692){return _0x315d1e>_0x5a5692;},'LqWGX':function(_0x54dd91,_0x49700c){return _0x54dd91===_0x49700c;},'VUsph':function(_0x5711e7,_0x4cb198){return _0x5711e7<_0x4cb198;},'BnMtZ':function(_0x471245,_0x1bf2a5){return _0x471245&&_0x1bf2a5;},'iqzfr':_0x44b322(0x1f3),'frNAz':_0x44b322(0x23c)};console[_0x44b322(0x203)](_0x56c585[_0x44b322(0x15f)],_0x594b11);try{try{const _0x120e37=JSON['parse'](_0x594b11);if(Array[_0x44b322(0x20d)](_0x120e37)&&_0x56c585[_0x44b322(0x1b2)](_0x120e37[_0x44b322(0x212)],0x0)&&_0x120e37[0x0][_0x44b322(0x20a)]&&_0x120e37[0x0]['answer'])return _0x120e37;}catch(_0x54f793){}const _0x1eeb90=[],_0x417c59=_0x594b11[_0x44b322(0x22a)](/(?:Q:|Question:?|^\d+\.?)\s*(.+?)(?:A:|Answer:?)\s*(.+?)(?=(?:Q:|Question:?|^\d+\.?)|$)/gis);_0x417c59&&_0x56c585[_0x44b322(0x22b)](_0x417c59[_0x44b322(0x212)],0x0)&&_0x417c59[_0x44b322(0x18c)](_0x5ee917=>{const _0x5526f6=_0x44b322,_0x10bbb8=_0x5ee917[_0x5526f6(0x22a)](/(?:Q:|Question:?|^\d+\.?)\s*(.+?)(?=A:|Answer:?)/is),_0x377f90=_0x5ee917[_0x5526f6(0x22a)](/(?:A:|Answer:?)\s*(.+?)$/is);_0x56c585['crenp'](_0x10bbb8,_0x377f90)&&_0x1eeb90[_0x5526f6(0x18b)]({'question':_0x10bbb8[0x1][_0x5526f6(0x1f1)](),'answer':_0x377f90[0x1]['trim']()});});if(_0x56c585['LqWGX'](_0x1eeb90['length'],0x0)){const _0x8db231=_0x594b11['split'](/\n\s*\n|\d+\s*[).]|\bQ\d*\s*[:.]/);for(let _0x54e45c=0x0;_0x56c585[_0x44b322(0x1f0)](_0x54e45c,_0x8db231[_0x44b322(0x212)]);_0x54e45c++){const _0x13e8ed=_0x8db231[_0x54e45c][_0x44b322(0x1f1)]();if(!_0x13e8ed)continue;const _0xc878d1=[_0x44b322(0x215),'A:',_0x44b322(0x1df),_0x44b322(0x1eb)];let _0x20db56=_0x13e8ed,_0x2153d6='';for(const _0x18be94 of _0xc878d1){if(_0x13e8ed[_0x44b322(0x1f8)](_0x18be94)){const _0x47dd45=_0x13e8ed[_0x44b322(0x1f4)](_0x18be94);_0x20db56=_0x47dd45[0x0][_0x44b322(0x1f1)](),_0x2153d6=_0x47dd45[0x1][_0x44b322(0x1f1)]();break;}}_0x56c585[_0x44b322(0x19e)](_0x20db56,_0x2153d6)&&_0x1eeb90[_0x44b322(0x18b)]({'question':_0x20db56,'answer':_0x2153d6});}}return _0x56c585[_0x44b322(0x1af)](_0x1eeb90[_0x44b322(0x212)],0x0)&&aiLanguageSession&&console[_0x44b322(0x203)]('Could\x20use\x20AI\x20to\x20extract\x20Q&A\x20pairs\x20from\x20unstructured\x20text'),console[_0x44b322(0x203)](_0x56c585[_0x44b322(0x197)],_0x1eeb90),_0x1eeb90;}catch(_0x20d7e3){return Logger[_0x44b322(0x221)]('Failed\x20to\x20parse\x20quiz\x20questions:',_0x20d7e3),console[_0x44b322(0x203)](_0x56c585[_0x44b322(0x190)],_0x20d7e3),null;}}['startQuiz'](_0x36f2d8){const _0x2289ea=_0x2e31bc,_0x2add3d={'mXKrH':_0x2289ea(0x153),'yfZUJ':_0x2289ea(0x21e),'FEVHI':_0x2289ea(0x1c5),'lJgPY':_0x2289ea(0x20e)};this[_0x2289ea(0x239)]={'questions':_0x36f2d8,'currentQuestionIndex':0x0,'userAnswers':Array(_0x36f2d8[_0x2289ea(0x212)])[_0x2289ea(0x1c9)](''),'isRecording':![],'recordingTimeout':null,'minimumWordCount':0x5,'wordCount':0x0,'accumulatedAnswer':''};const _0x5142db=document['getElementById'](_0x2add3d[_0x2289ea(0x1c6)]),_0x1f83ff=document[_0x2289ea(0x23f)](_0x2add3d[_0x2289ea(0x183)]);if(_0x5142db)_0x5142db[_0x2289ea(0x23d)][_0x2289ea(0x17d)]=_0x2289ea(0x1c5);if(_0x1f83ff)_0x1f83ff[_0x2289ea(0x23d)][_0x2289ea(0x17d)]=_0x2add3d['FEVHI'];this['quizContainer']['style'][_0x2289ea(0x17d)]=_0x2add3d[_0x2289ea(0x1da)],this[_0x2289ea(0x1fd)](_0x2289ea(0x150),_0x36f2d8),this[_0x2289ea(0x1f7)]();}[_0x2e31bc(0x1f7)](){const _0x131861=_0x2e31bc,_0x12d6e1={'nLomN':_0x131861(0x1c5),'FouWA':_0x131861(0x167),'pugrv':function(_0x3de8b5,_0xe22c40){return _0x3de8b5+_0xe22c40;},'cVmar':'questionLoaded'};this['resultDisplay'][_0x131861(0x23d)][_0x131861(0x17d)]=_0x12d6e1['nLomN'],this[_0x131861(0x185)]['style']['display']=_0x12d6e1['nLomN'],this[_0x131861(0x1b8)][_0x131861(0x23d)]['display']=_0x12d6e1[_0x131861(0x1cd)],this[_0x131861(0x186)]['style'][_0x131861(0x17d)]=_0x12d6e1[_0x131861(0x1cd)],this[_0x131861(0x239)][_0x131861(0x168)]='',this[_0x131861(0x239)][_0x131861(0x18a)]=0x0;this['speechProcessor']&&this['speechProcessor'][_0x131861(0x194)]();this[_0x131861(0x175)][_0x131861(0x230)]=_0x12d6e1[_0x131861(0x1fa)];const _0x49a3a1=this['currentQuiz']['questions'][this[_0x131861(0x239)][_0x131861(0x21b)]];this[_0x131861(0x196)]['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20<h2>Question\x20'+_0x12d6e1[_0x131861(0x155)](this[_0x131861(0x239)][_0x131861(0x21b)],0x1)+'\x20of\x20'+this[_0x131861(0x239)]['questions'][_0x131861(0x212)]+_0x131861(0x1ce)+_0x49a3a1[_0x131861(0x20a)]+'</p>\x0a\x20\x20\x20\x20',this[_0x131861(0x1fd)](_0x12d6e1[_0x131861(0x1d2)],{'index':this[_0x131861(0x239)][_0x131861(0x21b)],'question':_0x49a3a1}),this[_0x131861(0x222)][_0x131861(0x23a)](_0x49a3a1[_0x131861(0x20a)])[_0x131861(0x1a1)](()=>this[_0x131861(0x222)][_0x131861(0x1fe)](this[_0x131861(0x239)]));}[_0x2e31bc(0x22e)](){const _0x15540c=_0x2e31bc,_0x4ce570={'CIWcX':function(_0x450fb5,_0x70a58a){return _0x450fb5<_0x70a58a;},'lrhNJ':function(_0x4a4f52,_0x21e872){return _0x4a4f52-_0x21e872;}};_0x4ce570['CIWcX'](this['currentQuiz']['currentQuestionIndex'],_0x4ce570[_0x15540c(0x20b)](this[_0x15540c(0x239)][_0x15540c(0x1c1)][_0x15540c(0x212)],0x1))?(this[_0x15540c(0x239)][_0x15540c(0x21b)]++,this[_0x15540c(0x222)]&&this[_0x15540c(0x222)][_0x15540c(0x1c4)]&&this[_0x15540c(0x222)][_0x15540c(0x220)](),this['loadCurrentQuestion']()):this[_0x15540c(0x1ca)]();}[_0x2e31bc(0x1ca)](){const _0x45547c=_0x2e31bc,_0x354d32={'BzNse':_0x45547c(0x21e),'JyOOS':_0x45547c(0x233),'xKlzq':_0x45547c(0x178),'LjNWv':_0x45547c(0x1e8),'tKuFO':_0x45547c(0x1ef),'AssYF':_0x45547c(0x235)};this[_0x45547c(0x1ac)]['innerHTML']=_0x45547c(0x16d)+this[_0x45547c(0x239)][_0x45547c(0x1c1)][_0x45547c(0x212)]+'\x20questions.</p>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-summary\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+this[_0x45547c(0x16f)]()+_0x45547c(0x15a),this['emit'](_0x354d32['LjNWv'],{'questions':this[_0x45547c(0x239)][_0x45547c(0x1c1)],'answers':this[_0x45547c(0x239)][_0x45547c(0x182)]}),document[_0x45547c(0x23f)](_0x354d32[_0x45547c(0x225)])[_0x45547c(0x1b9)](_0x354d32[_0x45547c(0x195)],()=>{const _0x25dbf6=_0x45547c;this[_0x25dbf6(0x1ac)]['style']['display']='none';const _0x424a7f=document[_0x25dbf6(0x23f)](_0x354d32['BzNse']),_0x472120=document[_0x25dbf6(0x23f)](_0x25dbf6(0x153));if(_0x424a7f)_0x424a7f[_0x25dbf6(0x23d)][_0x25dbf6(0x17d)]=_0x354d32['JyOOS'];if(_0x472120)_0x472120[_0x25dbf6(0x23d)][_0x25dbf6(0x17d)]=_0x354d32['JyOOS'];this[_0x25dbf6(0x1fd)](_0x354d32['xKlzq']);});}[_0x2e31bc(0x16f)](){const _0x1c5eed=_0x2e31bc,_0x205f6f={'ILHKn':_0x1c5eed(0x187),'zCLIZ':_0x1c5eed(0x1b0)};let _0x2aaecd=_0x205f6f[_0x1c5eed(0x163)];return this[_0x1c5eed(0x239)][_0x1c5eed(0x1c1)][_0x1c5eed(0x18c)]((_0x2a876b,_0x4cf47c)=>{const _0x25c3b0=_0x1c5eed,_0x55d024=this[_0x25c3b0(0x239)][_0x25c3b0(0x182)][_0x4cf47c]||_0x205f6f['ILHKn'];_0x2aaecd+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Question\x20'+(_0x4cf47c+0x1)+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Q:</strong>\x20'+_0x2a876b[_0x25c3b0(0x20a)]+_0x25c3b0(0x1d3)+_0x55d024+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Correct\x20answer:</strong>\x20'+_0x2a876b[_0x25c3b0(0x21a)]+_0x25c3b0(0x1d4);}),_0x2aaecd+=_0x1c5eed(0x1a7),_0x2aaecd;}['on'](_0x1b1566,_0x5418ae){const _0x4f4bf5=_0x2e31bc;return!this[_0x4f4bf5(0x1be)][_0x1b1566]&&(this[_0x4f4bf5(0x1be)][_0x1b1566]=[]),this[_0x4f4bf5(0x1be)][_0x1b1566][_0x4f4bf5(0x18b)](_0x5418ae),this;}[_0x2e31bc(0x1e9)](_0x33a0dd,_0x544c7f){const _0x151ea3=_0x2e31bc;if(!this[_0x151ea3(0x1be)][_0x33a0dd])return this;return!_0x544c7f?this[_0x151ea3(0x1be)][_0x33a0dd]=[]:this[_0x151ea3(0x1be)][_0x33a0dd]=this['eventListeners'][_0x33a0dd]['filter'](_0x1418c7=>_0x1418c7!==_0x544c7f),this;}[_0x2e31bc(0x1fd)](_0x1ecef4,_0x4464c5){const _0x26bc03=_0x2e31bc;if(!this[_0x26bc03(0x1be)][_0x1ecef4])return;this[_0x26bc03(0x1be)][_0x1ecef4][_0x26bc03(0x18c)](_0xe40c1d=>_0xe40c1d(_0x4464c5));}}