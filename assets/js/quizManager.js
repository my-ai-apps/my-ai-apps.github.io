
/*!
Copyright ¬© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x2242f6=_0x27e8;function _0x27e8(_0x5d6618,_0x2000c6){const _0x40ca65=_0x40ca();return _0x27e8=function(_0x27e883,_0x54d37e){_0x27e883=_0x27e883-0x117;let _0x4758f8=_0x40ca65[_0x27e883];return _0x4758f8;},_0x27e8(_0x5d6618,_0x2000c6);}(function(_0x21b8b8,_0x322cbd){const _0x1133d6=_0x27e8,_0x52741a=_0x21b8b8();while(!![]){try{const _0x50e0be=parseInt(_0x1133d6(0x1f2))/0x1*(-parseInt(_0x1133d6(0x20c))/0x2)+-parseInt(_0x1133d6(0x15f))/0x3*(-parseInt(_0x1133d6(0x1ce))/0x4)+-parseInt(_0x1133d6(0x130))/0x5*(parseInt(_0x1133d6(0x191))/0x6)+-parseInt(_0x1133d6(0x182))/0x7+-parseInt(_0x1133d6(0x162))/0x8+-parseInt(_0x1133d6(0x172))/0x9+parseInt(_0x1133d6(0x1c8))/0xa*(parseInt(_0x1133d6(0x15a))/0xb);if(_0x50e0be===_0x322cbd)break;else _0x52741a['push'](_0x52741a['shift']());}catch(_0x5cd686){_0x52741a['push'](_0x52741a['shift']());}}}(_0x40ca,0xe3523));import{displayError,Logger}from'./common.js';import{aiAdapter}from'./aiAdapter.js';import{SpeechProcessor}from'./speechProcessor.js';function _0x40ca(){const _0x222e63=['isPaused','IsmTS','stopRecording','div','then','push','getElementById','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','</span>','quizContainer','question','content','vQcgu','YrWNL','3|8|1|12|6|4|5|7|11|0|9|10|2','\x20questions.</p>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-summary\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','CzuZh','HFVea','userAnswers','loadCurrentQuestion','feedback','xgMlF','KeVph','init','returnToChatButton','3px\x20solid\x20#17a2b8','kVmpG','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Q:</strong>\x20','object','IWMOd','pMNst','extended','answer','border','none','1331817ljxdHE','xwoWZ','some','</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Correct\x20answer:</strong>\x20','yODjh','cKTKI','LWZbZ','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22rating\x20','loaderElement','\x0a\x20\x20\x20\x20\x20\x20<h3>Complete\x20Answer:</h3>\x0a\x20\x20\x20\x20\x20\x20<p>','percentageMatch','loader','explicit','MCDfY','ytoHJ','pJEyp','Failed\x20to\x20parse\x20AI\x20response\x20as\x20JSON:','cRIKH','includes','kvQXD','XdBlH','<span\x20class=\x22interim\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Correct\x20answer:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isRecording','yrUxk','2JNWzuB','nextButton','kJOuG','RcEqp','style','\x5c$&','welcomeScreen','QamUv','mdSif','üõë\x20cleanedResponse\x20is\x20already\x20an\x20object,\x20skipping\x20JSON.parse.','recording','‚ùå\x20JSON\x20Parse\x20Error:','ntila','</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','length','\x0aAnswer.','resetAccumulatedText','KkUmt','.container','No\x20answer\x20provided','VOIUn','fill','bRtxK','HcUmK','stringify','replace','createUIElements','ZqRnR','<strong>Your\x20answer:</strong>\x20<em>(Speak\x20now...)</em>','classList','auto','dEtFk','%\x20Match</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>','click','HUXSv','GlgQh','wUzRL','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>','round','5oilwou','questionDisplay','generateQuizSummary','PsgEI','askForConfirmation','‚ú®\x20Parsed\x20Result:','resultDisplay','You\x20are\x20an\x20advanced\x20answer\x20comparison\x20assistant.\x20Analyze\x20the\x20user\x27s\x20answer\x20against\x20the\x20correct\x20answer\x20by\x20identifying\x20main\x20points,\x20calculating\x20a\x20percentage\x20match,\x20and\x20highlighting\x20similarities\x20and\x20differences.\x20Provide\x20structured\x20feedback\x20in\x20JSON\x20format.','userAnswerDisplay','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Your\x20answer:</strong>\x20','YbFxM','üìù\x20Prompt\x20being\x20sent\x20to\x20AI:','TvGnZ','\x0a\x20\x20\x20\x20\x20\x20<p>Done?</p>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22confirmation-buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22yesButton\x22\x20class=\x22confirm-button\x22>Yes</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22noButton\x22\x20class=\x22confirm-button\x22>No</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','system','Qppix','KGCVk','fCfdW','button','split','EgFdT','startRecording','questionLoaded','flex','\x0a\x20\x20\x20\x20\x20\x20<h2>Quiz\x20Completed!</h2>\x0a\x20\x20\x20\x20\x20\x20<p>You\x27ve\x20completed\x20all\x20','confirmAnswerCompletion','addEventListener','Try\x20again\x20ü§î','JcWts','PaZsv','PhsKX','correctAnswerDisplay','Excellent!\x20üéâ','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22returnToChatButton\x22\x20class=\x22next-button\x22>Return\x20to\x20Chat</button>\x0a\x20\x20\x20\x20','bold','excellent','Could\x20use\x20AI\x20to\x20extract\x20Q&A\x20pairs\x20from\x20unstructured\x20text','color','Next\x20Question','initializeSpeechManager','No\x20response\x20detected,\x20resuming\x20recording.','Sxuvc','1315501WTMItj','OK\x20üëå','bdwBQ','remove','sZHfl','3HPxILu','off','querySelector','13387480zkPACO','KLlGD','aiAdapter','eventListeners','speechProcessor','compareAnswer','YrAGd','confirmationPrompt','Answer:','quizCompleted','gAIfQ','</h2>\x0a\x20\x20\x20\x20\x20\x20<p>','AFAEv','‚úÖ\x20Correct\x20Answer\x20being\x20sent\x20for\x20comparison:','Sorry,\x20there\x20was\x20an\x20error\x20analyzing\x20your\x20answer.','gRCbk','10813635nXuVJW','startQuiz','Compare\x20the\x20following\x20answers:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20User\x27s\x20answer:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Question\x20','getAccumulatedText','questions','xnxwj','display','innerHTML','correct-answer-display','generateResponse','emit','log','animation','error','yesButton','5850838lokBdc','Zqarh','poor','KKfxu','IHlsu','trim','innerText','createElement','hnuAu','forEach','yLlBa','lrvJI','match','No\x20response\x20detected.\x20Click\x20Yes\x20or\x20No.','VOogx','7730304GZOzgo','wordCount','currentQuiz','lDvHq','add','hSTCP','IcVzn','RryjT','accumulatedAnswer','JJXie','showAutoAdvancePrompt','test','user-answer-display','blink\x201s\x20infinite','jZNaZ','result-display','NTxJW','message','QuizManager\x20initialized','currentQuestionIndex','nextQuestion','NNGts','<strong>Your\x20answer:</strong>\x20','returnedToChat','IpRSS','hlsZj','Answer\x20comparison\x20error:','VAMpE','<span\x20class=\x22highlight\x22>$1</span>','lZazp','sWdJo','finishQuiz','IBPhc','appendChild','‚ùå\x20Compare\x20Answer\x20Error:','parseQuizQuestions','\x0a\x20\x20\x20\x20\x20\x20<h2>Question\x20','Raw\x20quiz\x20input:','parse','displayResults','</p>\x0a\x20\x20\x20\x20','choices','sdkKm','<div\x20class=\x22summary-container\x22>','block','.input-container','IMciI','chatContainer','PyqML','setupEventListeners','üí¨\x20User\x20Answer\x20being\x20sent\x20for\x20comparison:','micButton','\x20of\x20','#dc3545','wwKzz','590jQVZqJ','isArray','missingPoints','question-display','WCasW','HhQmF','824892GmMHMV'];_0x40ca=function(){return _0x222e63;};return _0x40ca();}export class QuizManager{constructor(_0x58f206={}){const _0x4faf41=_0x27e8,_0xf3a1af={'Qppix':_0x4faf41(0x1dd)},_0x124142=_0xf3a1af[_0x4faf41(0x13f)][_0x4faf41(0x143)]('|');let _0x5a7075=0x0;while(!![]){switch(_0x124142[_0x5a7075++]){case'0':this[_0x4faf41(0x169)]=null;continue;case'1':this[_0x4faf41(0x193)]={'questions':[],'currentQuestionIndex':0x0,'userAnswers':[],'isRecording':![],'recordingTimeout':null,'minimumWordCount':0x5,'wordCount':0x0,'accumulatedAnswer':''};continue;case'2':this['eventListeners']={};continue;case'3':this[_0x4faf41(0x19b)]=_0x58f206[_0x4faf41(0x19b)]||null;continue;case'4':this[_0x4faf41(0x138)]=null;continue;case'5':this[_0x4faf41(0x136)]=null;continue;case'6':this['questionDisplay']=null;continue;case'7':this[_0x4faf41(0x14f)]=null;continue;case'8':this['aiAdapter']=aiAdapter;continue;case'9':this[_0x4faf41(0x1cf)]=![];continue;case'10':this['speechProcessor']=null;continue;case'11':this[_0x4faf41(0x20d)]=null;continue;case'12':this[_0x4faf41(0x1d8)]=null;continue;}break;}}async['init'](){const _0x132c6d=_0x27e8,_0x2115d5={'QamUv':'2|3|0|5|4|1','yFlgf':_0x132c6d(0x1a3),'VOIUn':_0x132c6d(0x1fe)},_0x1a7544=_0x2115d5[_0x132c6d(0x213)][_0x132c6d(0x143)]('|');let _0x991d8d=0x0;while(!![]){switch(_0x1a7544[_0x991d8d++]){case'0':this[_0x132c6d(0x157)]();continue;case'1':console[_0x132c6d(0x17e)](_0x2115d5['yFlgf']);continue;case'2':await this[_0x132c6d(0x164)][_0x132c6d(0x1e6)]();continue;case'3':this[_0x132c6d(0x123)]();continue;case'4':this[_0x132c6d(0x1fb)]=document[_0x132c6d(0x1d5)](_0x2115d5[_0x132c6d(0x11d)]);continue;case'5':this[_0x132c6d(0x1c2)]();continue;}break;}}[_0x2242f6(0x123)](){const _0x377106=_0x2242f6,_0x27cc44={'ntila':'10|17|4|33|34|28|6|26|7|20|19|27|9|29|31|8|16|5|24|13|21|25|12|23|32|30|18|14|22|15|3|0|2|11|1','HFVea':_0x377106(0x11b),'yLlBa':_0x377106(0x1be),'vXqiR':'quiz-container','xwoWZ':_0x377106(0x1f1),'KLlGD':_0x377106(0x1cb),'BrEIl':_0x377106(0x14f),'vHuGE':_0x377106(0x1a0),'lZazp':_0x377106(0x1d2),'hnuAu':_0x377106(0x20d),'POPag':'quizContainer','pJEyp':_0x377106(0x19d),'mdSif':_0x377106(0x156),'fGLYB':_0x377106(0x142),'sWdJo':'next-button','hlsZj':'questionDisplay','lDvHq':'confirmation-prompt'},_0x30377a=_0x27cc44[_0x377106(0x218)][_0x377106(0x143)]('|');let _0x4e4845=0x0;while(!![]){switch(_0x30377a[_0x4e4845++]){case'0':this[_0x377106(0x1d8)]['appendChild'](this[_0x377106(0x136)]);continue;case'1':document[_0x377106(0x161)](_0x27cc44[_0x377106(0x1e0)])['insertBefore'](this[_0x377106(0x1d8)],document[_0x377106(0x161)](_0x27cc44[_0x377106(0x18c)]));continue;case'2':this[_0x377106(0x1d8)][_0x377106(0x1b2)](this[_0x377106(0x14f)]);continue;case'3':this[_0x377106(0x1d8)][_0x377106(0x1b2)](this[_0x377106(0x169)]);continue;case'4':this[_0x377106(0x1d8)][_0x377106(0x126)][_0x377106(0x195)](_0x27cc44['vXqiR']);continue;case'5':this[_0x377106(0x14f)][_0x377106(0x210)][_0x377106(0x179)]=_0x27cc44['xwoWZ'];continue;case'6':this[_0x377106(0x131)][_0x377106(0x126)][_0x377106(0x195)](_0x27cc44[_0x377106(0x163)]);continue;case'7':this[_0x377106(0x138)]['id']=_0x377106(0x138);continue;case'8':this['correctAnswerDisplay']['id']=_0x27cc44['BrEIl'];continue;case'9':this['resultDisplay']['classList'][_0x377106(0x195)](_0x27cc44['vHuGE']);continue;case'10':this[_0x377106(0x1d8)]=document[_0x377106(0x189)](_0x27cc44[_0x377106(0x1ae)]);continue;case'11':this['quizContainer'][_0x377106(0x1b2)](this[_0x377106(0x20d)]);continue;case'12':this[_0x377106(0x20d)][_0x377106(0x210)][_0x377106(0x179)]=_0x27cc44[_0x377106(0x1f3)];continue;case'13':this[_0x377106(0x20d)]['id']=_0x27cc44[_0x377106(0x18a)];continue;case'14':this[_0x377106(0x169)][_0x377106(0x210)]['display']=_0x27cc44[_0x377106(0x1f3)];continue;case'15':this[_0x377106(0x1d8)][_0x377106(0x1b2)](this[_0x377106(0x138)]);continue;case'16':this[_0x377106(0x14f)][_0x377106(0x126)]['add'](_0x377106(0x17b));continue;case'17':this['quizContainer']['id']=_0x27cc44['POPag'];continue;case'18':this[_0x377106(0x169)]['innerHTML']=_0x377106(0x13d);continue;case'19':this[_0x377106(0x136)]=document[_0x377106(0x189)](_0x377106(0x1d2));continue;case'20':this['userAnswerDisplay']['classList'][_0x377106(0x195)](_0x27cc44[_0x377106(0x202)]);continue;case'21':this[_0x377106(0x20d)]['textContent']=_0x27cc44[_0x377106(0x214)];continue;case'22':this[_0x377106(0x1d8)][_0x377106(0x1b2)](this[_0x377106(0x131)]);continue;case'23':this[_0x377106(0x169)]=document[_0x377106(0x189)](_0x27cc44['lZazp']);continue;case'24':this[_0x377106(0x20d)]=document['createElement'](_0x27cc44['fGLYB']);continue;case'25':this[_0x377106(0x20d)][_0x377106(0x126)]['add'](_0x27cc44[_0x377106(0x1af)]);continue;case'26':this[_0x377106(0x138)]=document[_0x377106(0x189)](_0x27cc44[_0x377106(0x1ae)]);continue;case'27':this[_0x377106(0x136)]['id']='resultDisplay';continue;case'28':this[_0x377106(0x131)]['id']=_0x27cc44[_0x377106(0x1aa)];continue;case'29':this[_0x377106(0x136)]['style']['display']=_0x27cc44[_0x377106(0x1f3)];continue;case'30':this[_0x377106(0x169)]['classList'][_0x377106(0x195)](_0x27cc44[_0x377106(0x194)]);continue;case'31':this[_0x377106(0x14f)]=document[_0x377106(0x189)](_0x27cc44[_0x377106(0x1ae)]);continue;case'32':this[_0x377106(0x169)]['id']=_0x377106(0x169);continue;case'33':this[_0x377106(0x1d8)][_0x377106(0x210)]['display']=_0x27cc44['xwoWZ'];continue;case'34':this['questionDisplay']=document[_0x377106(0x189)](_0x27cc44[_0x377106(0x1ae)]);continue;}break;}}[_0x2242f6(0x157)](){const _0x36cb8e=_0x2242f6,_0x247c29={'JcWts':function(_0x43a8d9,_0x437ab6){return _0x43a8d9(_0x437ab6);},'dEtFk':function(_0x1481e1,_0x264334){return _0x1481e1===_0x264334;},'wNghl':_0x36cb8e(0x1ff),'BnzmN':function(_0x3734f3,_0x30f533){return _0x3734f3===_0x30f533;},'wUzRL':_0x36cb8e(0x1ee),'vQcgu':_0x36cb8e(0x216),'EgFdT':'micButton'};this['speechProcessor']=new SpeechProcessor({'onResult':(_0x330bd4,_0x3ee73e)=>{const _0x1143b3=_0x36cb8e;this[_0x1143b3(0x138)][_0x1143b3(0x17a)]=_0x1143b3(0x1a7)+_0x330bd4+_0x1143b3(0x208)+_0x3ee73e+_0x1143b3(0x1d7);},'onError':_0x1b3d6b=>{const _0x18818f=_0x36cb8e;_0x247c29[_0x18818f(0x14c)](displayError,_0x1b3d6b);},'onSilence':_0x2d908c=>{const _0x5218d5=_0x36cb8e;if(_0x247c29[_0x5218d5(0x128)](_0x2d908c,_0x247c29['wNghl']))this['confirmAnswerCompletion']();else{if(_0x247c29['dEtFk'](_0x2d908c,_0x5218d5(0x127)))this[_0x5218d5(0x149)]();else _0x247c29['BnzmN'](_0x2d908c,_0x247c29[_0x5218d5(0x12d)])&&this[_0x5218d5(0x134)]();}},'onRecordingStart':()=>{const _0x539ece=_0x36cb8e,_0x205480=document['getElementById'](_0x539ece(0x1c4));_0x205480&&_0x205480[_0x539ece(0x126)][_0x539ece(0x195)](_0x247c29[_0x539ece(0x1db)]);},'onRecordingStop':()=>{const _0x597044=_0x36cb8e,_0x24f65d=document['getElementById'](_0x247c29[_0x597044(0x144)]);_0x24f65d&&_0x24f65d[_0x597044(0x126)][_0x597044(0x15d)](_0x247c29[_0x597044(0x1db)]);},'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}[_0x2242f6(0x1c2)](){const _0x495cb7=_0x2242f6,_0x5a9908={'LWZbZ':_0x495cb7(0x1f1),'yODjh':_0x495cb7(0x12a),'PaZsv':'noButton'};this['nextButton'][_0x495cb7(0x14a)](_0x5a9908['yODjh'],()=>{const _0x2aa758=_0x495cb7;this[_0x2aa758(0x1a5)]();}),document[_0x495cb7(0x1d5)](_0x495cb7(0x181))[_0x495cb7(0x14a)](_0x5a9908[_0x495cb7(0x1f7)],()=>{const _0x340680=_0x495cb7;this[_0x340680(0x169)][_0x340680(0x210)]['display']=_0x5a9908[_0x340680(0x1f9)],this['confirmAnswerCompletion']();}),document[_0x495cb7(0x1d5)](_0x5a9908[_0x495cb7(0x14d)])[_0x495cb7(0x14a)](_0x5a9908[_0x495cb7(0x1f7)],()=>{const _0x1d99e4=_0x495cb7;this['confirmationPrompt'][_0x1d99e4(0x210)][_0x1d99e4(0x179)]='none';if(this[_0x1d99e4(0x166)])this[_0x1d99e4(0x166)][_0x1d99e4(0x145)]();});}[_0x2242f6(0x134)](){const _0x42e10f=_0x2242f6,_0x1b1820={'gRCbk':_0x42e10f(0x1f1),'IcVzn':'timeoutMessage','KKfxu':_0x42e10f(0x1bd),'pMNst':function(_0x2c47c7,_0x367d56){return _0x2c47c7!==_0x367d56;},'xnxwj':_0x42e10f(0x1e8),'RcEqp':_0x42e10f(0x1d2),'xgMlF':_0x42e10f(0x1c6),'NTxJW':_0x42e10f(0x152),'HUXSv':_0x42e10f(0x18f),'aMkGl':function(_0x20ea7a,_0x547eb8,_0x1f57bd){return _0x20ea7a(_0x547eb8,_0x1f57bd);}};if(this[_0x42e10f(0x166)])this['speechProcessor'][_0x42e10f(0x1d1)]();this[_0x42e10f(0x169)][_0x42e10f(0x210)][_0x42e10f(0x179)]=_0x1b1820['KKfxu'],this[_0x42e10f(0x169)][_0x42e10f(0x210)][_0x42e10f(0x1f0)]=_0x1b1820[_0x42e10f(0x178)],this['confirmationPrompt']['style'][_0x42e10f(0x17f)]=_0x42e10f(0x19e);if(!document[_0x42e10f(0x1d5)](_0x1b1820[_0x42e10f(0x197)])){const _0x217bab=document[_0x42e10f(0x189)](_0x1b1820[_0x42e10f(0x20f)]);_0x217bab['id']=_0x1b1820[_0x42e10f(0x197)],_0x217bab[_0x42e10f(0x210)][_0x42e10f(0x179)]=_0x1b1820[_0x42e10f(0x171)],_0x217bab[_0x42e10f(0x210)][_0x42e10f(0x155)]=_0x1b1820[_0x42e10f(0x1e4)],_0x217bab[_0x42e10f(0x210)]['fontWeight']=_0x1b1820[_0x42e10f(0x1a1)],_0x217bab[_0x42e10f(0x188)]=_0x1b1820[_0x42e10f(0x12b)],this[_0x42e10f(0x169)][_0x42e10f(0x1b2)](_0x217bab);}if(this[_0x42e10f(0x166)]){const _0x4d19d9=this[_0x42e10f(0x166)]['startConfirmationRecognition'](()=>{const _0x155693=_0x42e10f;this[_0x155693(0x169)][_0x155693(0x210)][_0x155693(0x179)]='none',this['confirmAnswerCompletion']();},()=>{const _0x71e252=_0x42e10f;this[_0x71e252(0x169)][_0x71e252(0x210)]['display']=_0x1b1820['gRCbk'],this['speechProcessor'][_0x71e252(0x145)]();},()=>{const _0x4306be=_0x42e10f;this[_0x4306be(0x169)][_0x4306be(0x210)][_0x4306be(0x17f)]=_0x1b1820['gRCbk'],document[_0x4306be(0x1d5)](_0x1b1820['IcVzn'])&&(document[_0x4306be(0x1d5)](_0x1b1820['IcVzn'])[_0x4306be(0x210)][_0x4306be(0x179)]=_0x1b1820[_0x4306be(0x185)]);});}_0x1b1820['aMkGl'](setTimeout,()=>{const _0x208a0c=_0x42e10f;if(_0x1b1820[_0x208a0c(0x1ed)](this[_0x208a0c(0x169)][_0x208a0c(0x210)][_0x208a0c(0x179)],_0x1b1820[_0x208a0c(0x171)])){console['log'](_0x208a0c(0x158)),this[_0x208a0c(0x169)][_0x208a0c(0x210)]['display']=_0x1b1820[_0x208a0c(0x171)];if(this[_0x208a0c(0x166)])this[_0x208a0c(0x166)]['startRecording']();}},0x1b58);}[_0x2242f6(0x149)](){const _0x1ae3ea=_0x2242f6;if(this[_0x1ae3ea(0x166)])this[_0x1ae3ea(0x166)]['stopRecording']();this['confirmationPrompt'][_0x1ae3ea(0x210)][_0x1ae3ea(0x179)]=_0x1ae3ea(0x1f1);const _0x58e717=(this['speechProcessor']?this[_0x1ae3ea(0x166)][_0x1ae3ea(0x176)]():'')[_0x1ae3ea(0x122)](/done|i am finished|that's all|yes|correct/gi,'')[_0x1ae3ea(0x187)]();this[_0x1ae3ea(0x193)][_0x1ae3ea(0x1e1)][this[_0x1ae3ea(0x193)][_0x1ae3ea(0x1a4)]]=_0x58e717,this['userAnswerDisplay'][_0x1ae3ea(0x17a)]='<strong>Your\x20answer:</strong>\x20'+_0x58e717,this[_0x1ae3ea(0x167)](_0x58e717,this[_0x1ae3ea(0x193)][_0x1ae3ea(0x177)][this[_0x1ae3ea(0x193)]['currentQuestionIndex']][_0x1ae3ea(0x1ef)]);}async[_0x2242f6(0x167)](_0x1879f3,_0x1a6179){const _0x12b21e=_0x2242f6,_0x13011a={'IpRSS':_0x12b21e(0x137),'sdkKm':'user','KeVph':_0x12b21e(0x13b),'sZHfl':'none','WCasW':function(_0x39724d,_0x5275c7){return _0x39724d===_0x5275c7;},'RryjT':_0x12b21e(0x1eb),'NNGts':_0x12b21e(0x215),'ppqFF':_0x12b21e(0x135),'KGCVk':_0x12b21e(0x217),'IMciI':_0x12b21e(0x203),'bRtxK':_0x12b21e(0x170),'hSTCP':_0x12b21e(0x1b3),'MCDfY':_0x12b21e(0x1fe),'ZCpoC':_0x12b21e(0x1ab)};await this[_0x12b21e(0x164)][_0x12b21e(0x1e6)](),console[_0x12b21e(0x17e)](_0x12b21e(0x1c3),_0x1879f3),console[_0x12b21e(0x17e)](_0x12b21e(0x16f),_0x1a6179);try{const _0x3e725f=JSON[_0x12b21e(0x121)]([{'role':_0x12b21e(0x13e),'content':_0x13011a[_0x12b21e(0x1a9)]},{'role':_0x13011a[_0x12b21e(0x1bb)],'content':_0x12b21e(0x174)+_0x1879f3+_0x12b21e(0x209)+_0x1a6179+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Please\x20return\x20a\x20JSON\x20object\x20with\x20the\x20following\x20fields:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20percentageMatch\x20(number):\x20Percentage\x20of\x20key\x20points\x20covered\x20by\x20the\x20user.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20feedback\x20(string):\x20Constructive\x20feedback\x20on\x20strengths\x20and\x20areas\x20to\x20improve.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20missingPoints\x20(array\x20of\x20strings):\x20Key\x20points\x20not\x20mentioned\x20by\x20the\x20user.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20similarities\x20(array\x20of\x20strings):\x20Important\x20points\x20both\x20answers\x20share.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20differences\x20(array\x20of\x20strings):\x20Notable\x20differences\x20in\x20content\x20or\x20emphasis.'}]);console[_0x12b21e(0x17e)](_0x13011a[_0x12b21e(0x1e5)],_0x3e725f);const _0x9aece6=document[_0x12b21e(0x1d5)](_0x12b21e(0x1fe));if(_0x9aece6)_0x9aece6[_0x12b21e(0x210)][_0x12b21e(0x179)]='block';const _0x59bf67=await aiAdapter[_0x12b21e(0x17c)](_0x3e725f);let _0xcb7000=_0x59bf67[_0x12b21e(0x1ba)][0x0][_0x12b21e(0x1a2)][_0x12b21e(0x1da)];if(_0x9aece6)_0x9aece6[_0x12b21e(0x210)]['display']=_0x13011a[_0x12b21e(0x15e)];try{_0x13011a[_0x12b21e(0x1cc)](typeof _0xcb7000,_0x13011a[_0x12b21e(0x198)])?console[_0x12b21e(0x17e)](_0x13011a[_0x12b21e(0x1a6)]):(_0xcb7000=JSON[_0x12b21e(0x1b7)](_0xcb7000),console[_0x12b21e(0x17e)](_0x13011a['ppqFF'],_0xcb7000)),this['displayResults'](_0xcb7000);}catch(_0x371b48){console[_0x12b21e(0x180)](_0x13011a[_0x12b21e(0x140)],_0x371b48),Logger[_0x12b21e(0x180)](_0x13011a[_0x12b21e(0x1bf)],_0x371b48),this[_0x12b21e(0x1b8)]({'percentageMatch':0x0,'feedback':_0x13011a[_0x12b21e(0x11f)],'missingPoints':[]});}}catch(_0x47ec48){console['error'](_0x13011a[_0x12b21e(0x196)],_0x47ec48);const _0x577bef=document[_0x12b21e(0x1d5)](_0x13011a[_0x12b21e(0x200)]);if(_0x577bef)_0x577bef[_0x12b21e(0x210)][_0x12b21e(0x179)]=_0x13011a[_0x12b21e(0x15e)];Logger[_0x12b21e(0x180)](_0x13011a['ZCpoC'],_0x47ec48),this[_0x12b21e(0x1b8)]({'percentageMatch':0x0,'feedback':_0x13011a[_0x12b21e(0x11f)],'missingPoints':[]});}}[_0x2242f6(0x1b8)](_0x279ef6){const _0x5ed158=_0x2242f6,_0x374011={'kvQXD':_0x5ed158(0x211),'BjDqY':_0x5ed158(0x1ad),'HcUmK':_0x5ed158(0x1bd),'jZNaZ':function(_0x2a3968,_0x5b283c){return _0x2a3968>=_0x5b283c;},'ytoHJ':_0x5ed158(0x150),'VAMpE':_0x5ed158(0x153),'PhsKX':'Good!\x20üëç','cKTKI':'good','nAHcD':_0x5ed158(0x15b),'AFAEv':_0x5ed158(0x14b),'bdwBQ':_0x5ed158(0x184),'ZqRnR':function(_0x5c1814,_0x7e110){return _0x5c1814>_0x7e110;},'YrAGd':function(_0x5862ea,_0x227eb0){return _0x5862ea<_0x227eb0;},'YbFxM':function(_0x5e354d,_0x275813){return _0x5e354d-_0x275813;},'wwKzz':function(_0x43d53c,_0x33ed43,_0x22411c){return _0x43d53c(_0x33ed43,_0x22411c);}};this[_0x5ed158(0x136)][_0x5ed158(0x210)][_0x5ed158(0x179)]=_0x374011['HcUmK'],this['correctAnswerDisplay'][_0x5ed158(0x210)][_0x5ed158(0x179)]=_0x374011[_0x5ed158(0x120)],this[_0x5ed158(0x20d)][_0x5ed158(0x210)][_0x5ed158(0x179)]=_0x374011[_0x5ed158(0x120)];let _0x59ce4b='',_0x472419='';if(_0x374011[_0x5ed158(0x19f)](_0x279ef6['percentageMatch'],0x5a))_0x59ce4b=_0x374011[_0x5ed158(0x201)],_0x472419=_0x374011[_0x5ed158(0x1ac)];else{if(_0x279ef6[_0x5ed158(0x1fd)]>=0x50)_0x59ce4b=_0x374011[_0x5ed158(0x14e)],_0x472419=_0x374011[_0x5ed158(0x1f8)];else _0x374011[_0x5ed158(0x19f)](_0x279ef6[_0x5ed158(0x1fd)],0x32)?(_0x59ce4b=_0x374011['nAHcD'],_0x472419='ok'):(_0x59ce4b=_0x374011[_0x5ed158(0x16e)],_0x472419=_0x374011[_0x5ed158(0x15c)]);}this['resultDisplay'][_0x5ed158(0x17a)]=_0x5ed158(0x1fa)+_0x472419+_0x5ed158(0x12e)+_0x59ce4b+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-percent\x22>'+Math[_0x5ed158(0x12f)](_0x279ef6[_0x5ed158(0x1fd)])+_0x5ed158(0x129)+_0x279ef6[_0x5ed158(0x1e3)]+_0x5ed158(0x219);let _0x1cc8fb=this[_0x5ed158(0x193)][_0x5ed158(0x177)][this['currentQuiz'][_0x5ed158(0x1a4)]][_0x5ed158(0x1ef)];_0x279ef6[_0x5ed158(0x1ca)]&&_0x374011[_0x5ed158(0x124)](_0x279ef6[_0x5ed158(0x1ca)][_0x5ed158(0x117)],0x0)&&_0x279ef6['missingPoints'][_0x5ed158(0x18b)](_0x38f81f=>{const _0x5293c7=_0x5ed158,_0x4f7f61=new RegExp('('+_0x38f81f[_0x5293c7(0x122)](/[.*+?^${}()|[\]\\]/g,_0x374011[_0x5293c7(0x206)])+')','gi');_0x1cc8fb=_0x1cc8fb[_0x5293c7(0x122)](_0x4f7f61,_0x374011['BjDqY']);}),this[_0x5ed158(0x14f)][_0x5ed158(0x17a)]=_0x5ed158(0x1fc)+_0x1cc8fb+_0x5ed158(0x1b9),_0x374011[_0x5ed158(0x168)](this[_0x5ed158(0x193)]['currentQuestionIndex'],_0x374011[_0x5ed158(0x13a)](this[_0x5ed158(0x193)][_0x5ed158(0x177)][_0x5ed158(0x117)],0x1))&&_0x374011[_0x5ed158(0x1c7)](setTimeout,()=>{const _0x54a592=_0x5ed158;if(this[_0x54a592(0x19b)])this['showAutoAdvancePrompt']();},0x3e8);}['isQuizFormat'](_0x485f3c){const _0x54dbd8=_0x2242f6,_0x5e7f96=[/Q\d*\s*[:.-]\s*.*\s*A\s*[:.-]/i,/\d+\s*[).]\s*.*\s*Answer\s*[:.-]/i,/Question\s*\d+\s*[:.-]/i,/\b[Qq]uestion\b.*\b[Aa]nswer\b/];return _0x5e7f96[_0x54dbd8(0x1f4)](_0x143c45=>_0x143c45[_0x54dbd8(0x19c)](_0x485f3c));}[_0x2242f6(0x1b4)](_0xfd9800){const _0x26673c=_0x2242f6,_0x4e9994={'IWMOd':_0x26673c(0x1b6),'PyqML':function(_0x36eecf,_0x4c0606){return _0x36eecf===_0x4c0606;},'HhQmF':function(_0x73d108,_0x4f56fe){return _0x73d108<_0x4f56fe;},'TvGnZ':_0x26673c(0x16a),'Sxuvc':_0x26673c(0x118),'kVmpG':function(_0x407210,_0x8f879c){return _0x407210&&_0x8f879c;},'YrWNL':'Parsed\x20questions:','kJOuG':'Failed\x20to\x20parse\x20quiz\x20questions:'};console[_0x26673c(0x17e)](_0x4e9994[_0x26673c(0x1ec)],_0xfd9800);try{try{const _0x4a048c=JSON[_0x26673c(0x1b7)](_0xfd9800);if(Array[_0x26673c(0x1c9)](_0x4a048c)&&_0x4a048c[_0x26673c(0x117)]>0x0&&_0x4a048c[0x0]['question']&&_0x4a048c[0x0][_0x26673c(0x1ef)])return _0x4a048c;}catch(_0x82a203){}const _0x50c693=[],_0xedd787=_0xfd9800['match'](/(?:Q:|Question:?|^\d+\.?)\s*(.+?)(?:A:|Answer:?)\s*(.+?)(?=(?:Q:|Question:?|^\d+\.?)|$)/gis);_0xedd787&&_0xedd787['length']>0x0&&_0xedd787[_0x26673c(0x18b)](_0x503abe=>{const _0x2200b9=_0x26673c,_0x53c659=_0x503abe[_0x2200b9(0x18e)](/(?:Q:|Question:?|^\d+\.?)\s*(.+?)(?=A:|Answer:?)/is),_0x2d91ed=_0x503abe[_0x2200b9(0x18e)](/(?:A:|Answer:?)\s*(.+?)$/is);_0x53c659&&_0x2d91ed&&_0x50c693[_0x2200b9(0x1d4)]({'question':_0x53c659[0x1][_0x2200b9(0x187)](),'answer':_0x2d91ed[0x1][_0x2200b9(0x187)]()});});if(_0x4e9994[_0x26673c(0x1c1)](_0x50c693[_0x26673c(0x117)],0x0)){const _0x4660b9=_0xfd9800[_0x26673c(0x143)](/\n\s*\n|\d+\s*[).]|\bQ\d*\s*[:.]/);for(let _0x38db86=0x0;_0x4e9994[_0x26673c(0x1cd)](_0x38db86,_0x4660b9['length']);_0x38db86++){const _0x5bcc6c=_0x4660b9[_0x38db86]['trim']();if(!_0x5bcc6c)continue;const _0x4ff8b7=[_0x4e9994[_0x26673c(0x13c)],'A:','\x0aA.',_0x4e9994[_0x26673c(0x159)]];let _0x491422=_0x5bcc6c,_0x522fec='';for(const _0x12a4b3 of _0x4ff8b7){if(_0x5bcc6c[_0x26673c(0x205)](_0x12a4b3)){const _0x3ef882=_0x5bcc6c['split'](_0x12a4b3);_0x491422=_0x3ef882[0x0][_0x26673c(0x187)](),_0x522fec=_0x3ef882[0x1][_0x26673c(0x187)]();break;}}_0x4e9994[_0x26673c(0x1e9)](_0x491422,_0x522fec)&&_0x50c693['push']({'question':_0x491422,'answer':_0x522fec});}}return _0x50c693['length']===0x0&&aiLanguageSession&&console[_0x26673c(0x17e)](_0x26673c(0x154)),console[_0x26673c(0x17e)](_0x4e9994[_0x26673c(0x1dc)],_0x50c693),_0x50c693;}catch(_0x2689f9){return Logger['error'](_0x4e9994[_0x26673c(0x20e)],_0x2689f9),console[_0x26673c(0x17e)](_0x4e9994['kJOuG'],_0x2689f9),null;}}[_0x2242f6(0x173)](_0x198df3){const _0x29ac2f=_0x2242f6,_0x5a3fd3={'lrvJI':function(_0x34378a,_0x14358f){return _0x34378a(_0x14358f);},'XdBlH':_0x29ac2f(0x212),'IHlsu':_0x29ac2f(0x1c0),'CzuZh':_0x29ac2f(0x1f1),'GlgQh':'block'};this[_0x29ac2f(0x193)]={'questions':_0x198df3,'currentQuestionIndex':0x0,'userAnswers':_0x5a3fd3[_0x29ac2f(0x18d)](Array,_0x198df3[_0x29ac2f(0x117)])[_0x29ac2f(0x11e)](''),'isRecording':![],'recordingTimeout':null,'minimumWordCount':0x5,'wordCount':0x0,'accumulatedAnswer':''};const _0x4c8775=document[_0x29ac2f(0x1d5)](_0x5a3fd3[_0x29ac2f(0x207)]),_0x3af54a=document[_0x29ac2f(0x1d5)](_0x5a3fd3[_0x29ac2f(0x186)]);if(_0x4c8775)_0x4c8775[_0x29ac2f(0x210)]['display']=_0x5a3fd3[_0x29ac2f(0x1df)];if(_0x3af54a)_0x3af54a[_0x29ac2f(0x210)]['display']=_0x5a3fd3[_0x29ac2f(0x1df)];this[_0x29ac2f(0x1d8)]['style'][_0x29ac2f(0x179)]=_0x5a3fd3[_0x29ac2f(0x12c)],this[_0x29ac2f(0x17d)]('quizStarted',_0x198df3),this[_0x29ac2f(0x1e2)]();}[_0x2242f6(0x1e2)](){const _0x31d7d0=_0x2242f6,_0x4c27ac={'IsmTS':'none','KkUmt':_0x31d7d0(0x125),'DwEdG':_0x31d7d0(0x146)};this['resultDisplay']['style'][_0x31d7d0(0x179)]=_0x4c27ac[_0x31d7d0(0x1d0)],this[_0x31d7d0(0x14f)]['style'][_0x31d7d0(0x179)]=_0x4c27ac['IsmTS'],this[_0x31d7d0(0x20d)][_0x31d7d0(0x210)][_0x31d7d0(0x179)]=_0x4c27ac[_0x31d7d0(0x1d0)],this[_0x31d7d0(0x169)][_0x31d7d0(0x210)][_0x31d7d0(0x179)]=_0x4c27ac[_0x31d7d0(0x1d0)],this['currentQuiz'][_0x31d7d0(0x199)]='',this[_0x31d7d0(0x193)][_0x31d7d0(0x192)]=0x0;this[_0x31d7d0(0x166)]&&this[_0x31d7d0(0x166)][_0x31d7d0(0x119)]();this['userAnswerDisplay'][_0x31d7d0(0x17a)]=_0x4c27ac[_0x31d7d0(0x11a)];const _0x142c01=this[_0x31d7d0(0x193)][_0x31d7d0(0x177)][this[_0x31d7d0(0x193)][_0x31d7d0(0x1a4)]];this[_0x31d7d0(0x131)]['innerHTML']=_0x31d7d0(0x1b5)+(this[_0x31d7d0(0x193)][_0x31d7d0(0x1a4)]+0x1)+_0x31d7d0(0x1c5)+this[_0x31d7d0(0x193)][_0x31d7d0(0x177)][_0x31d7d0(0x117)]+_0x31d7d0(0x16d)+_0x142c01[_0x31d7d0(0x1d9)]+_0x31d7d0(0x1b9),this[_0x31d7d0(0x17d)](_0x4c27ac['DwEdG'],{'index':this[_0x31d7d0(0x193)][_0x31d7d0(0x1a4)],'question':_0x142c01}),this[_0x31d7d0(0x166)]['speakText'](_0x142c01[_0x31d7d0(0x1d9)])[_0x31d7d0(0x1d3)](()=>this[_0x31d7d0(0x166)][_0x31d7d0(0x145)](this[_0x31d7d0(0x193)]));}[_0x2242f6(0x1a5)](){const _0x55b96f=_0x2242f6,_0x4a92d5={'PsgEI':function(_0x41a43e,_0x3367bc){return _0x41a43e<_0x3367bc;},'CSzZD':function(_0x13fc1b,_0x82fa){return _0x13fc1b-_0x82fa;}};_0x4a92d5[_0x55b96f(0x133)](this[_0x55b96f(0x193)]['currentQuestionIndex'],_0x4a92d5['CSzZD'](this['currentQuiz']['questions']['length'],0x1))?(this[_0x55b96f(0x193)][_0x55b96f(0x1a4)]++,this[_0x55b96f(0x166)]&&this[_0x55b96f(0x166)][_0x55b96f(0x20a)]&&this[_0x55b96f(0x166)]['stopRecording'](),this[_0x55b96f(0x1e2)]()):this['finishQuiz']();}[_0x2242f6(0x1b0)](){const _0x366eba=_0x2242f6,_0x16b6d2={'iihmU':_0x366eba(0x1f1),'VOogx':_0x366eba(0x1c0),'gAIfQ':_0x366eba(0x212),'IBPhc':_0x366eba(0x147),'cRIKH':_0x366eba(0x16b)};this[_0x366eba(0x1d8)][_0x366eba(0x17a)]=_0x366eba(0x148)+this[_0x366eba(0x193)][_0x366eba(0x177)]['length']+_0x366eba(0x1de)+this[_0x366eba(0x132)]()+_0x366eba(0x151),this[_0x366eba(0x17d)](_0x16b6d2[_0x366eba(0x204)],{'questions':this[_0x366eba(0x193)]['questions'],'answers':this[_0x366eba(0x193)][_0x366eba(0x1e1)]}),document[_0x366eba(0x1d5)](_0x366eba(0x1e7))[_0x366eba(0x14a)]('click',()=>{const _0xb37dbd=_0x366eba;this[_0xb37dbd(0x1d8)][_0xb37dbd(0x210)][_0xb37dbd(0x179)]=_0x16b6d2['iihmU'];const _0x538e5e=document['getElementById'](_0x16b6d2[_0xb37dbd(0x190)]),_0x4c0df9=document[_0xb37dbd(0x1d5)](_0x16b6d2[_0xb37dbd(0x16c)]);if(_0x538e5e)_0x538e5e[_0xb37dbd(0x210)][_0xb37dbd(0x179)]=_0x16b6d2[_0xb37dbd(0x1b1)];if(_0x4c0df9)_0x4c0df9[_0xb37dbd(0x210)][_0xb37dbd(0x179)]='flex';this[_0xb37dbd(0x17d)](_0xb37dbd(0x1a8));});}[_0x2242f6(0x132)](){const _0x238452=_0x2242f6,_0xcfc2ca={'JJXie':_0x238452(0x11c),'Zqarh':function(_0x505e9c,_0x5884b2){return _0x505e9c+_0x5884b2;},'yrUxk':_0x238452(0x1bc),'fCfdW':_0x238452(0x1f5)};let _0x1d7636=_0xcfc2ca[_0x238452(0x20b)];return this[_0x238452(0x193)][_0x238452(0x177)]['forEach']((_0xb5adbd,_0x163574)=>{const _0x12dfec=_0x238452,_0xe0ef52=this[_0x12dfec(0x193)][_0x12dfec(0x1e1)][_0x163574]||_0xcfc2ca[_0x12dfec(0x19a)];_0x1d7636+=_0x12dfec(0x175)+_0xcfc2ca[_0x12dfec(0x183)](_0x163574,0x1)+_0x12dfec(0x1ea)+_0xb5adbd['question']+_0x12dfec(0x139)+_0xe0ef52+_0x12dfec(0x1f6)+_0xb5adbd[_0x12dfec(0x1ef)]+_0x12dfec(0x1d6);}),_0x1d7636+=_0xcfc2ca[_0x238452(0x141)],_0x1d7636;}['on'](_0x38a3eb,_0x43fdcb){const _0x40f8aa=_0x2242f6;return!this['eventListeners'][_0x38a3eb]&&(this[_0x40f8aa(0x165)][_0x38a3eb]=[]),this['eventListeners'][_0x38a3eb][_0x40f8aa(0x1d4)](_0x43fdcb),this;}[_0x2242f6(0x160)](_0x38f31e,_0x53ddf2){const _0x507bd1=_0x2242f6;if(!this['eventListeners'][_0x38f31e])return this;return!_0x53ddf2?this[_0x507bd1(0x165)][_0x38f31e]=[]:this['eventListeners'][_0x38f31e]=this[_0x507bd1(0x165)][_0x38f31e]['filter'](_0x25545d=>_0x25545d!==_0x53ddf2),this;}['emit'](_0x3513c7,_0x451135){const _0x44e3b5=_0x2242f6;if(!this[_0x44e3b5(0x165)][_0x3513c7])return;this['eventListeners'][_0x3513c7][_0x44e3b5(0x18b)](_0x3b4b66=>_0x3b4b66(_0x451135));}}