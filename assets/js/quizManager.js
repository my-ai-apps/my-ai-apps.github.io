
/*!
Copyright ¬© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x2a3e59=_0x3341;(function(_0x58cdc6,_0x17b5c9){const _0x8e368e=_0x3341,_0x5682fb=_0x58cdc6();while(!![]){try{const _0x13ad5c=-parseInt(_0x8e368e(0x155))/0x1+parseInt(_0x8e368e(0x156))/0x2+parseInt(_0x8e368e(0x1df))/0x3+-parseInt(_0x8e368e(0x118))/0x4+parseInt(_0x8e368e(0x170))/0x5+parseInt(_0x8e368e(0x1fe))/0x6*(-parseInt(_0x8e368e(0x119))/0x7)+-parseInt(_0x8e368e(0x1d2))/0x8;if(_0x13ad5c===_0x17b5c9)break;else _0x5682fb['push'](_0x5682fb['shift']());}catch(_0x4bd13c){_0x5682fb['push'](_0x5682fb['shift']());}}}(_0x4574,0xec81a));function _0x3341(_0x5639c4,_0x14a6e6){const _0x45742e=_0x4574();return _0x3341=function(_0x33417e,_0x98232c){_0x33417e=_0x33417e-0x115;let _0x527bbe=_0x45742e[_0x33417e];return _0x527bbe;},_0x3341(_0x5639c4,_0x14a6e6);}import{displayError,Logger}from'./common.js';import{aiAdapter}from'./aiAdapter.js';import{SpeechProcessor}from'./speechProcessor.js';function _0x4574(){const _0x4017d9=['vmkvT','questions','micButton','üí¨\x20User\x20Answer\x20being\x20sent\x20for\x20comparison:','</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','eventListeners','rIGrZ','finishQuiz','Answer:','length','lqxiZ','AkAiE','initializeSpeechManager','\x0aA.','\x20questions.</p>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-summary\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','add','XdcRq','startRecording','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Q:</strong>\x20','question-display','questionDisplay','bhyfR','DOaXa','zTjkr','quizStarted','mZVjv','uszGO','%\x20Match</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>','IoprN','currentQuiz','rIGkY','userAnswerDisplay','message','\x0a\x20\x20\x20\x20\x20\x20<p>Done?</p>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22confirmation-buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22yesButton\x22\x20class=\x22confirm-button\x22>Yes</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22noButton\x22\x20class=\x22confirm-button\x22>No</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','addEventListener','Sorry,\x20there\x20was\x20an\x20error\x20analyzing\x20your\x20answer.','setupEventListeners','wnowB','includes','timeoutMessage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Question\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20<p>','vkkPJ','DbqDt','answer','eUhZz','startConfirmationRecognition','chatContainer','insertBefore','NVlNt','AvFmF','Dvxul','Could\x20use\x20AI\x20to\x20extract\x20Q&A\x20pairs\x20from\x20unstructured\x20text','fill','askForConfirmation','kDWSA','pCicN','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22returnToChatButton\x22\x20class=\x22next-button\x22>Return\x20to\x20Chat</button>\x0a\x20\x20\x20\x20','loadCurrentQuestion','DxYQZ','daHKu','FRYpy','ezdfi','feedback','zHDmN','round','‚ùå\x20Compare\x20Answer\x20Error:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Correct\x20answer:</strong>\x20','MdajZ','flex','confirmationPrompt','userAnswers','<strong>Your\x20answer:</strong>\x20','5947472WeIeqC','Compare\x20the\x20following\x20answers:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20User\x27s\x20answer:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','üõë\x20cleanedResponse\x20is\x20already\x20an\x20object,\x20skipping\x20JSON.parse.','xkroq','stopRecording','Mfmrc','speakText','maCqx','wordCount','speechProcessor','\x0a\x20\x20\x20\x20\x20\x20<h2>Quiz\x20Completed!</h2>\x0a\x20\x20\x20\x20\x20\x20<p>You\x27ve\x20completed\x20all\x20','classList','eEeRr','5090934IcGgUT','error','bVHYw','<div\x20class=\x22summary-container\x22>','parse','QuizManager\x20initialized','nextQuestion','display','confirmAnswerCompletion','\x0aAnswer.','showAutoAdvancePrompt','TJFHz','querySelector','style','createUIElements','No\x20response\x20detected,\x20resuming\x20recording.','createElement','HZdye','qjhzr','Raw\x20quiz\x20input:','test','bcjcq','init','none','system','.input-container','isRecording','#dc3545','üìù\x20Prompt\x20being\x20sent\x20to\x20AI:','resultDisplay','isPaused','9528eAQyQG','percentageMatch','emit','<span\x20class=\x22highlight\x22>$1</span>','forEach','33476SNXmCP','1484BitBlM','JRjkO','div','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-percent\x22>','off','.container','zunmd','cZwCX','lfAeG','appendChild','3px\x20solid\x20#17a2b8','object','BwkdK','zODpc','TfDrM','QzuFW','quizCompleted','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22rating\x20','sTzJn','currentQuestionIndex','\x5c$&','some','generateResponse','result-display','good','next-button','getAccumulatedText','FaWgR','</span>','ylfnk','loaderElement','remove','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Your\x20answer:</strong>\x20','NICYg','welcomeScreen','Failed\x20to\x20parse\x20AI\x20response\x20as\x20JSON:','TUUFo','KriAV','returnedToChat','parseQuizQuestions','ftdKw','displayResults','accumulatedAnswer','WYLkl','Good!\x20üëç','luepU','stringify','OK\x20üëå','push','IouYd','upKcj','bold','poor','isArray','click','explicit','Parsed\x20questions:','extended','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Correct\x20answer:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','‚ú®\x20Parsed\x20Result:','292316lYqUSk','578538FZFBwN','generateQuizSummary','split','aiAdapter','bKnyf','match','GmiNd','fCxiM','FdxOB','quizContainer','loader','Yclfb','replace','</div>','</p>\x0a\x20\x20\x20\x20','nextButton','animation','auto','log','vDqYO','WGLIq','xeFlq','excellent','correctAnswerDisplay','noButton','gnbHK','1816290MsxFFI','user','hdpVs','Try\x20again\x20ü§î','recording','yesButton','fontWeight','<span\x20class=\x22interim\x22>','nAGfd','pbkoU','getElementById','questionLoaded','question','missingPoints','innerHTML','NnzQg','compareAnswer','5|3|1|4|0|2','No\x20answer\x20provided','PcFGt','trim','MOslK','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Please\x20return\x20a\x20JSON\x20object\x20with\x20the\x20following\x20fields:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20percentageMatch\x20(number):\x20Percentage\x20of\x20key\x20points\x20covered\x20by\x20the\x20user.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20feedback\x20(string):\x20Constructive\x20feedback\x20on\x20strengths\x20and\x20areas\x20to\x20improve.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20missingPoints\x20(array\x20of\x20strings):\x20Key\x20points\x20not\x20mentioned\x20by\x20the\x20user.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20similarities\x20(array\x20of\x20strings):\x20Important\x20points\x20both\x20answers\x20share.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20differences\x20(array\x20of\x20strings):\x20Notable\x20differences\x20in\x20content\x20or\x20emphasis.','block','You\x20are\x20an\x20advanced\x20answer\x20comparison\x20assistant.\x20Analyze\x20the\x20user\x27s\x20answer\x20against\x20the\x20correct\x20answer\x20by\x20identifying\x20main\x20points,\x20calculating\x20a\x20percentage\x20match,\x20and\x20highlighting\x20similarities\x20and\x20differences.\x20Provide\x20structured\x20feedback\x20in\x20JSON\x20format.'];_0x4574=function(){return _0x4017d9;};return _0x4574();}export class QuizManager{constructor(_0x366643={}){const _0x16324b=_0x3341,_0x361e9f={'IoprN':'9|6|8|11|10|2|4|5|0|12|7|1|3'},_0x2dc99d=_0x361e9f[_0x16324b(0x1a5)][_0x16324b(0x158)]('|');let _0x27fe4d=0x0;while(!![]){switch(_0x2dc99d[_0x27fe4d++]){case'0':this[_0x16324b(0x165)]=null;continue;case'1':this[_0x16324b(0x1db)]=null;continue;case'2':this[_0x16324b(0x1a8)]=null;continue;case'3':this[_0x16324b(0x18e)]={};continue;case'4':this[_0x16324b(0x1fc)]=null;continue;case'5':this['correctAnswerDisplay']=null;continue;case'6':this[_0x16324b(0x159)]=aiAdapter;continue;case'7':this[_0x16324b(0x1fd)]=![];continue;case'8':this[_0x16324b(0x1a6)]={'questions':[],'currentQuestionIndex':0x0,'userAnswers':[],'isRecording':![],'recordingTimeout':null,'minimumWordCount':0x5,'wordCount':0x0,'accumulatedAnswer':''};continue;case'9':this[_0x16324b(0x1e9)]=_0x366643[_0x16324b(0x1e9)]||null;continue;case'10':this[_0x16324b(0x19d)]=null;continue;case'11':this['quizContainer']=null;continue;case'12':this[_0x16324b(0x1cf)]=null;continue;}break;}}async[_0x2a3e59(0x1f5)](){const _0x271142=_0x2a3e59,_0x1cc35e={'aAngt':_0x271142(0x160),'FGETs':_0x271142(0x1e4)},_0x72ade=_0x271142(0x181)[_0x271142(0x158)]('|');let _0x7a38c6=0x0;while(!![]){switch(_0x72ade[_0x7a38c6++]){case'0':this[_0x271142(0x137)]=document[_0x271142(0x17a)](_0x1cc35e['aAngt']);continue;case'1':this[_0x271142(0x195)]();continue;case'2':console['log'](_0x1cc35e['FGETs']);continue;case'3':this[_0x271142(0x1ed)]();continue;case'4':this['setupEventListeners']();continue;case'5':await this[_0x271142(0x159)][_0x271142(0x1f5)]();continue;}break;}}[_0x2a3e59(0x1ed)](){const _0x3365e8=_0x2a3e59,_0x5bede0={'WGLIq':'confirmation-prompt','Yclfb':'Next\x20Question','zHDmN':_0x3365e8(0x1f6),'hdpVs':'button','AvFmF':_0x3365e8(0x11b),'NnzQg':_0x3365e8(0x11e),'rIGrZ':_0x3365e8(0x1f8),'maCqx':'quizContainer','wxKul':_0x3365e8(0x130),'ezdfi':'quiz-container','ylfnk':_0x3365e8(0x19c),'TJFHz':'correct-answer-display','OsPuI':_0x3365e8(0x1fc),'sTzJn':_0x3365e8(0x19d),'TUUFo':_0x3365e8(0x1a8),'DxYQZ':'user-answer-display','DOaXa':_0x3365e8(0x165)},_0x4792a9='17|13|20|6|0|29|21|26|31|32|24|27|18|5|8|30|22|3|7|34|2|23|9|11|28|1|14|16|10|19|25|15|33|4|12'['split']('|');let _0x320595=0x0;while(!![]){switch(_0x4792a9[_0x320595++]){case'0':this['questionDisplay']=document[_0x3365e8(0x1ef)]('div');continue;case'1':this['confirmationPrompt'][_0x3365e8(0x1dd)][_0x3365e8(0x198)](_0x5bede0[_0x3365e8(0x16a)]);continue;case'2':this['nextButton']['textContent']=_0x5bede0[_0x3365e8(0x161)];continue;case'3':this[_0x3365e8(0x16d)]['style'][_0x3365e8(0x1e6)]=_0x5bede0[_0x3365e8(0x1c9)];continue;case'4':this[_0x3365e8(0x15f)]['appendChild'](this[_0x3365e8(0x165)]);continue;case'5':this[_0x3365e8(0x1fc)]['style']['display']=_0x3365e8(0x1f6);continue;case'6':this['quizContainer'][_0x3365e8(0x1ec)][_0x3365e8(0x1e6)]=_0x5bede0['zHDmN'];continue;case'7':this[_0x3365e8(0x165)]=document[_0x3365e8(0x1ef)](_0x5bede0[_0x3365e8(0x172)]);continue;case'8':this[_0x3365e8(0x16d)]=document[_0x3365e8(0x1ef)](_0x5bede0[_0x3365e8(0x1bb)]);continue;case'9':this[_0x3365e8(0x165)]['style'][_0x3365e8(0x1e6)]=_0x3365e8(0x1f6);continue;case'10':this['quizContainer'][_0x3365e8(0x122)](this[_0x3365e8(0x19d)]);continue;case'11':this[_0x3365e8(0x1cf)]=document[_0x3365e8(0x1ef)](_0x5bede0[_0x3365e8(0x1bb)]);continue;case'12':document[_0x3365e8(0x1eb)](_0x5bede0[_0x3365e8(0x17f)])[_0x3365e8(0x1b9)](this['quizContainer'],document[_0x3365e8(0x1eb)](_0x5bede0[_0x3365e8(0x18f)]));continue;case'13':this['quizContainer']['id']=_0x5bede0[_0x3365e8(0x1d9)];continue;case'14':this[_0x3365e8(0x1cf)][_0x3365e8(0x17e)]=_0x3365e8(0x1aa);continue;case'15':this[_0x3365e8(0x15f)][_0x3365e8(0x122)](this[_0x3365e8(0x1fc)]);continue;case'16':this[_0x3365e8(0x1cf)][_0x3365e8(0x1ec)][_0x3365e8(0x1e6)]=_0x5bede0[_0x3365e8(0x1c9)];continue;case'17':this['quizContainer']=document['createElement'](_0x5bede0[_0x3365e8(0x1bb)]);continue;case'18':this[_0x3365e8(0x1fc)][_0x3365e8(0x1dd)][_0x3365e8(0x198)](_0x5bede0['wxKul']);continue;case'19':this['quizContainer'][_0x3365e8(0x122)](this['userAnswerDisplay']);continue;case'20':this['quizContainer'][_0x3365e8(0x1dd)][_0x3365e8(0x198)](_0x5bede0[_0x3365e8(0x1c7)]);continue;case'21':this[_0x3365e8(0x19d)][_0x3365e8(0x1dd)][_0x3365e8(0x198)](_0x5bede0[_0x3365e8(0x136)]);continue;case'22':this[_0x3365e8(0x16d)][_0x3365e8(0x1dd)][_0x3365e8(0x198)](_0x5bede0[_0x3365e8(0x1ea)]);continue;case'23':this[_0x3365e8(0x165)][_0x3365e8(0x1dd)][_0x3365e8(0x198)](_0x3365e8(0x132));continue;case'24':this[_0x3365e8(0x1fc)]=document['createElement'](_0x5bede0[_0x3365e8(0x1bb)]);continue;case'25':this[_0x3365e8(0x15f)][_0x3365e8(0x122)](this[_0x3365e8(0x1cf)]);continue;case'26':this['userAnswerDisplay']=document['createElement'](_0x5bede0[_0x3365e8(0x1bb)]);continue;case'27':this[_0x3365e8(0x1fc)]['id']=_0x5bede0['OsPuI'];continue;case'28':this['confirmationPrompt']['id']=_0x3365e8(0x1cf);continue;case'29':this['questionDisplay']['id']=_0x5bede0[_0x3365e8(0x12b)];continue;case'30':this['correctAnswerDisplay']['id']='correctAnswerDisplay';continue;case'31':this[_0x3365e8(0x1a8)]['id']=_0x5bede0[_0x3365e8(0x13d)];continue;case'32':this[_0x3365e8(0x1a8)][_0x3365e8(0x1dd)]['add'](_0x5bede0[_0x3365e8(0x1c4)]);continue;case'33':this[_0x3365e8(0x15f)][_0x3365e8(0x122)](this['correctAnswerDisplay']);continue;case'34':this[_0x3365e8(0x165)]['id']=_0x5bede0[_0x3365e8(0x19f)];continue;}break;}}[_0x2a3e59(0x195)](){const _0x273937=_0x2a3e59,_0x156e27={'Mfmrc':function(_0x456cd1,_0x428894){return _0x456cd1(_0x428894);},'HZdye':_0x273937(0x150),'UlAuQ':function(_0x1597d8,_0x4c36d0){return _0x1597d8===_0x4c36d0;},'fCxiM':_0x273937(0x167),'AkAiE':_0x273937(0x152),'TfDrM':'micButton','bKnyf':_0x273937(0x174)};this['speechProcessor']=new SpeechProcessor({'onResult':(_0x1a54f1,_0x276f69)=>{const _0x1c53b9=_0x273937;this[_0x1c53b9(0x1a8)][_0x1c53b9(0x17e)]=_0x1c53b9(0x1d1)+_0x1a54f1+_0x1c53b9(0x177)+_0x276f69+_0x1c53b9(0x135);},'onError':_0x1d53f9=>{const _0x4ca09b=_0x273937;_0x156e27[_0x4ca09b(0x1d7)](displayError,_0x1d53f9);},'onSilence':_0xa1a2d3=>{const _0x5af917=_0x273937;if(_0xa1a2d3===_0x156e27[_0x5af917(0x1f0)])this[_0x5af917(0x1e7)]();else{if(_0x156e27['UlAuQ'](_0xa1a2d3,_0x156e27[_0x5af917(0x15d)]))this[_0x5af917(0x1e7)]();else _0xa1a2d3===_0x156e27[_0x5af917(0x194)]&&this[_0x5af917(0x1bf)]();}},'onRecordingStart':()=>{const _0x2bde60=_0x273937,_0x591c9e=document[_0x2bde60(0x17a)](_0x2bde60(0x18b));_0x591c9e&&_0x591c9e[_0x2bde60(0x1dd)]['add']('recording');},'onRecordingStop':()=>{const _0x12f0ec=_0x273937,_0xd7c307=document[_0x12f0ec(0x17a)](_0x156e27[_0x12f0ec(0x127)]);_0xd7c307&&_0xd7c307[_0x12f0ec(0x1dd)][_0x12f0ec(0x138)](_0x156e27[_0x12f0ec(0x15a)]);},'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}[_0x2a3e59(0x1ad)](){const _0x7e12f8=_0x2a3e59,_0x5373e9={'FdxOB':_0x7e12f8(0x1f6),'zunmd':_0x7e12f8(0x14f),'yqqBg':_0x7e12f8(0x175)};this[_0x7e12f8(0x165)][_0x7e12f8(0x1ab)](_0x5373e9[_0x7e12f8(0x11f)],()=>{const _0x3d84bc=_0x7e12f8;this[_0x3d84bc(0x1e5)]();}),document['getElementById'](_0x5373e9['yqqBg'])[_0x7e12f8(0x1ab)](_0x5373e9[_0x7e12f8(0x11f)],()=>{const _0x2afe10=_0x7e12f8;this[_0x2afe10(0x1cf)]['style'][_0x2afe10(0x1e6)]=_0x5373e9['FdxOB'],this['confirmAnswerCompletion']();}),document[_0x7e12f8(0x17a)](_0x7e12f8(0x16e))[_0x7e12f8(0x1ab)](_0x5373e9[_0x7e12f8(0x11f)],()=>{const _0x2955a5=_0x7e12f8;this[_0x2955a5(0x1cf)][_0x2955a5(0x1ec)]['display']=_0x5373e9[_0x2955a5(0x15e)];if(this[_0x2955a5(0x1db)])this[_0x2955a5(0x1db)][_0x2955a5(0x19a)]();});}['askForConfirmation'](){const _0x4c9fc4=_0x2a3e59,_0x199731={'lqxiZ':_0x4c9fc4(0x1f6),'NICYg':_0x4c9fc4(0x1b0),'BwkdK':_0x4c9fc4(0x187),'MOslK':function(_0x131a48,_0x13be76){return _0x131a48!==_0x13be76;},'bcjcq':_0x4c9fc4(0x1ee),'pCicN':_0x4c9fc4(0x123),'xrxIK':'blink\x201s\x20infinite','uszGO':_0x4c9fc4(0x11b),'Yeoxo':_0x4c9fc4(0x14c),'ZzHdS':function(_0x2e5ffe,_0x23d3fb,_0x4fc924){return _0x2e5ffe(_0x23d3fb,_0x4fc924);}};if(this[_0x4c9fc4(0x1db)])this['speechProcessor']['stopRecording']();this['confirmationPrompt']['style'][_0x4c9fc4(0x1e6)]=_0x4c9fc4(0x187),this[_0x4c9fc4(0x1cf)][_0x4c9fc4(0x1ec)]['border']=_0x199731[_0x4c9fc4(0x1c1)],this[_0x4c9fc4(0x1cf)][_0x4c9fc4(0x1ec)][_0x4c9fc4(0x166)]=_0x199731['xrxIK'];if(!document[_0x4c9fc4(0x17a)](_0x4c9fc4(0x1b0))){const _0x409eaf=document[_0x4c9fc4(0x1ef)](_0x199731[_0x4c9fc4(0x1a3)]);_0x409eaf['id']=_0x199731[_0x4c9fc4(0x13a)],_0x409eaf['style'][_0x4c9fc4(0x1e6)]=_0x199731[_0x4c9fc4(0x193)],_0x409eaf[_0x4c9fc4(0x1ec)]['color']=_0x4c9fc4(0x1fa),_0x409eaf['style'][_0x4c9fc4(0x176)]=_0x199731['Yeoxo'],_0x409eaf['innerText']='No\x20response\x20detected.\x20Click\x20Yes\x20or\x20No.',this['confirmationPrompt']['appendChild'](_0x409eaf);}if(this[_0x4c9fc4(0x1db)]){const _0x41c6d4=this['speechProcessor'][_0x4c9fc4(0x1b7)](()=>{const _0x202353=_0x4c9fc4;this[_0x202353(0x1cf)][_0x202353(0x1ec)][_0x202353(0x1e6)]=_0x199731[_0x202353(0x193)],this[_0x202353(0x1e7)]();},()=>{const _0x256951=_0x4c9fc4;this[_0x256951(0x1cf)][_0x256951(0x1ec)][_0x256951(0x1e6)]=_0x199731[_0x256951(0x193)],this[_0x256951(0x1db)][_0x256951(0x19a)]();},()=>{const _0x46b5d3=_0x4c9fc4;this[_0x46b5d3(0x1cf)][_0x46b5d3(0x1ec)][_0x46b5d3(0x166)]=_0x199731[_0x46b5d3(0x193)],document[_0x46b5d3(0x17a)](_0x199731[_0x46b5d3(0x13a)])&&(document['getElementById'](_0x199731['NICYg'])['style'][_0x46b5d3(0x1e6)]=_0x199731[_0x46b5d3(0x125)]);});}_0x199731['ZzHdS'](setTimeout,()=>{const _0x3867ef=_0x4c9fc4;if(_0x199731[_0x3867ef(0x185)](this['confirmationPrompt'][_0x3867ef(0x1ec)][_0x3867ef(0x1e6)],_0x199731[_0x3867ef(0x193)])){console[_0x3867ef(0x168)](_0x199731[_0x3867ef(0x1f4)]),this[_0x3867ef(0x1cf)][_0x3867ef(0x1ec)][_0x3867ef(0x1e6)]=_0x199731[_0x3867ef(0x193)];if(this['speechProcessor'])this[_0x3867ef(0x1db)][_0x3867ef(0x19a)]();}},0x1b58);}['confirmAnswerCompletion'](){const _0x3617eb=_0x2a3e59;if(this[_0x3617eb(0x1db)])this[_0x3617eb(0x1db)][_0x3617eb(0x1d6)]();this[_0x3617eb(0x1cf)][_0x3617eb(0x1ec)][_0x3617eb(0x1e6)]=_0x3617eb(0x1f6);const _0x313501=(this[_0x3617eb(0x1db)]?this['speechProcessor'][_0x3617eb(0x133)]():'')[_0x3617eb(0x162)](/done|i am finished|that's all|yes|correct/gi,'')['trim']();this[_0x3617eb(0x1a6)][_0x3617eb(0x1d0)][this[_0x3617eb(0x1a6)]['currentQuestionIndex']]=_0x313501,this['userAnswerDisplay'][_0x3617eb(0x17e)]='<strong>Your\x20answer:</strong>\x20'+_0x313501,this[_0x3617eb(0x180)](_0x313501,this[_0x3617eb(0x1a6)][_0x3617eb(0x18a)][this['currentQuiz'][_0x3617eb(0x12c)]]['answer']);}async['compareAnswer'](_0x4c91d7,_0x49ca0d){const _0x4d6774=_0x2a3e59,_0x38b6e5={'HiSqB':'‚úÖ\x20Correct\x20Answer\x20being\x20sent\x20for\x20comparison:','daHKu':_0x4d6774(0x1f7),'pbkoU':_0x4d6774(0x188),'XBAso':_0x4d6774(0x171),'Dvxul':_0x4d6774(0x1fb),'GmiNd':_0x4d6774(0x160),'WHBvp':_0x4d6774(0x187),'xkroq':_0x4d6774(0x154),'JRjkO':'‚ùå\x20JSON\x20Parse\x20Error:','eUhZz':_0x4d6774(0x13c),'mZVjv':_0x4d6774(0x1ac),'PcFGt':_0x4d6774(0x1cb),'Mehdl':'Answer\x20comparison\x20error:'};await this[_0x4d6774(0x159)][_0x4d6774(0x1f5)](),console[_0x4d6774(0x168)](_0x4d6774(0x18c),_0x4c91d7),console[_0x4d6774(0x168)](_0x38b6e5['HiSqB'],_0x49ca0d);try{const _0x2ff9a4=JSON[_0x4d6774(0x147)]([{'role':_0x38b6e5[_0x4d6774(0x1c5)],'content':_0x38b6e5[_0x4d6774(0x179)]},{'role':_0x38b6e5['XBAso'],'content':_0x4d6774(0x1d3)+_0x4c91d7+_0x4d6774(0x153)+_0x49ca0d+_0x4d6774(0x186)}]);console[_0x4d6774(0x168)](_0x38b6e5[_0x4d6774(0x1bc)],_0x2ff9a4);const _0x2b887e=document[_0x4d6774(0x17a)](_0x38b6e5[_0x4d6774(0x15c)]);if(_0x2b887e)_0x2b887e[_0x4d6774(0x1ec)]['display']=_0x38b6e5['WHBvp'];const _0x4fbc24=await aiAdapter[_0x4d6774(0x12f)](_0x2ff9a4);let _0x25cc4d=_0x4fbc24['choices'][0x0][_0x4d6774(0x1a9)]['content'];if(_0x2b887e)_0x2b887e[_0x4d6774(0x1ec)][_0x4d6774(0x1e6)]='none';try{typeof _0x25cc4d===_0x4d6774(0x124)?console[_0x4d6774(0x168)](_0x4d6774(0x1d4)):(_0x25cc4d=JSON['parse'](_0x25cc4d),console[_0x4d6774(0x168)](_0x38b6e5[_0x4d6774(0x1d5)],_0x25cc4d)),this['displayResults'](_0x25cc4d);}catch(_0x426833){console[_0x4d6774(0x1e0)](_0x38b6e5[_0x4d6774(0x11a)],_0x426833),Logger[_0x4d6774(0x1e0)](_0x38b6e5[_0x4d6774(0x1b6)],_0x426833),this[_0x4d6774(0x142)]({'percentageMatch':0x0,'feedback':_0x38b6e5[_0x4d6774(0x1a2)],'missingPoints':[]});}}catch(_0x5659d7){console[_0x4d6774(0x1e0)](_0x38b6e5[_0x4d6774(0x183)],_0x5659d7);const _0x5ddc08=document['getElementById'](_0x38b6e5[_0x4d6774(0x15c)]);if(_0x5ddc08)_0x5ddc08[_0x4d6774(0x1ec)][_0x4d6774(0x1e6)]='none';Logger[_0x4d6774(0x1e0)](_0x38b6e5['Mehdl'],_0x5659d7),this['displayResults']({'percentageMatch':0x0,'feedback':_0x38b6e5['mZVjv'],'missingPoints':[]});}}['displayResults'](_0x174c01){const _0x182400=_0x2a3e59,_0xb97d5={'vmkvT':_0x182400(0x12d),'HynOR':_0x182400(0x116),'lfAeG':_0x182400(0x187),'DbqDt':function(_0x24fb57,_0x3e4947){return _0x24fb57>=_0x3e4947;},'RkvYM':_0x182400(0x145),'vkkPJ':_0x182400(0x131),'AeZEy':_0x182400(0x148),'IouYd':_0x182400(0x173),'eEeRr':_0x182400(0x14d),'luepU':function(_0x5aa72c,_0x11df90){return _0x5aa72c>_0x11df90;},'rIGkY':function(_0x15039f,_0x14ccf8){return _0x15039f-_0x14ccf8;},'mCLgK':function(_0x107f10,_0x5131d1,_0x44c7c5){return _0x107f10(_0x5131d1,_0x44c7c5);}};this[_0x182400(0x1fc)][_0x182400(0x1ec)]['display']=_0xb97d5[_0x182400(0x121)],this[_0x182400(0x16d)][_0x182400(0x1ec)][_0x182400(0x1e6)]=_0xb97d5[_0x182400(0x121)],this[_0x182400(0x165)][_0x182400(0x1ec)][_0x182400(0x1e6)]=_0x182400(0x187);let _0xb271e1='',_0x13a89a='';if(_0xb97d5[_0x182400(0x1b4)](_0x174c01[_0x182400(0x1ff)],0x5a))_0xb271e1='Excellent!\x20üéâ',_0x13a89a=_0x182400(0x16c);else{if(_0x174c01[_0x182400(0x1ff)]>=0x50)_0xb271e1=_0xb97d5['RkvYM'],_0x13a89a=_0xb97d5[_0x182400(0x1b3)];else _0x174c01[_0x182400(0x1ff)]>=0x32?(_0xb271e1=_0xb97d5['AeZEy'],_0x13a89a='ok'):(_0xb271e1=_0xb97d5[_0x182400(0x14a)],_0x13a89a=_0xb97d5[_0x182400(0x1de)]);}this[_0x182400(0x1fc)][_0x182400(0x17e)]=_0x182400(0x12a)+_0x13a89a+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>'+_0xb271e1+_0x182400(0x11c)+Math[_0x182400(0x1ca)](_0x174c01[_0x182400(0x1ff)])+_0x182400(0x1a4)+_0x174c01[_0x182400(0x1c8)]+_0x182400(0x18d);let _0x41ba4f=this[_0x182400(0x1a6)][_0x182400(0x18a)][this[_0x182400(0x1a6)]['currentQuestionIndex']]['answer'];_0x174c01[_0x182400(0x17d)]&&_0xb97d5[_0x182400(0x146)](_0x174c01[_0x182400(0x17d)][_0x182400(0x192)],0x0)&&_0x174c01[_0x182400(0x17d)][_0x182400(0x117)](_0x347c50=>{const _0x143291=_0x182400,_0x408239=new RegExp('('+_0x347c50[_0x143291(0x162)](/[.*+?^${}()|[\]\\]/g,_0xb97d5[_0x143291(0x189)])+')','gi');_0x41ba4f=_0x41ba4f[_0x143291(0x162)](_0x408239,_0xb97d5['HynOR']);}),this[_0x182400(0x16d)][_0x182400(0x17e)]='\x0a\x20\x20\x20\x20\x20\x20<h3>Complete\x20Answer:</h3>\x0a\x20\x20\x20\x20\x20\x20<p>'+_0x41ba4f+_0x182400(0x164),this[_0x182400(0x1a6)][_0x182400(0x12c)]<_0xb97d5[_0x182400(0x1a7)](this[_0x182400(0x1a6)][_0x182400(0x18a)]['length'],0x1)&&_0xb97d5['mCLgK'](setTimeout,()=>{const _0x4ee6b6=_0x182400;if(this[_0x4ee6b6(0x1e9)])this[_0x4ee6b6(0x1e9)]();},0x3e8);}['isQuizFormat'](_0xdffc18){const _0x1b5827=_0x2a3e59,_0x3330a0=[/Q\d*\s*[:.-]\s*.*\s*A\s*[:.-]/i,/\d+\s*[).]\s*.*\s*Answer\s*[:.-]/i,/Question\s*\d+\s*[:.-]/i,/\b[Qq]uestion\b.*\b[Aa]nswer\b/];return _0x3330a0[_0x1b5827(0x12e)](_0x2e6348=>_0x2e6348[_0x1b5827(0x1f3)](_0xdffc18));}[_0x2a3e59(0x140)](_0x3c4929){const _0x30968b=_0x2a3e59,_0x19b571={'KriAV':function(_0x2b03db,_0x123946){return _0x2b03db&&_0x123946;},'FSOWG':_0x30968b(0x1f2),'XdcRq':function(_0x45c4f3,_0x19cdaa){return _0x45c4f3>_0x19cdaa;},'cZwCX':function(_0x3440af,_0x204d56){return _0x3440af===_0x204d56;},'FRYpy':function(_0x16c844,_0xb1eddc){return _0x16c844<_0xb1eddc;},'FaWgR':_0x30968b(0x196),'UcsHo':_0x30968b(0x1e8),'zTjkr':_0x30968b(0x1bd),'NVlNt':_0x30968b(0x151),'ftdKw':'Failed\x20to\x20parse\x20quiz\x20questions:'};console['log'](_0x19b571['FSOWG'],_0x3c4929);try{try{const _0x3714b9=JSON[_0x30968b(0x1e3)](_0x3c4929);if(Array[_0x30968b(0x14e)](_0x3714b9)&&_0x19b571[_0x30968b(0x199)](_0x3714b9['length'],0x0)&&_0x3714b9[0x0][_0x30968b(0x17c)]&&_0x3714b9[0x0][_0x30968b(0x1b5)])return _0x3714b9;}catch(_0x2d85fa){}const _0x5c703e=[],_0x19cfba=_0x3c4929[_0x30968b(0x15b)](/(?:Q:|Question:?|^\d+\.?)\s*(.+?)(?:A:|Answer:?)\s*(.+?)(?=(?:Q:|Question:?|^\d+\.?)|$)/gis);_0x19cfba&&_0x19cfba[_0x30968b(0x192)]>0x0&&_0x19cfba[_0x30968b(0x117)](_0x1c4b7e=>{const _0x1fa818=_0x30968b,_0x9ab8f6=_0x1c4b7e['match'](/(?:Q:|Question:?|^\d+\.?)\s*(.+?)(?=A:|Answer:?)/is),_0x5940e9=_0x1c4b7e[_0x1fa818(0x15b)](/(?:A:|Answer:?)\s*(.+?)$/is);_0x19b571[_0x1fa818(0x13e)](_0x9ab8f6,_0x5940e9)&&_0x5c703e[_0x1fa818(0x149)]({'question':_0x9ab8f6[0x1][_0x1fa818(0x184)](),'answer':_0x5940e9[0x1][_0x1fa818(0x184)]()});});if(_0x19b571[_0x30968b(0x120)](_0x5c703e[_0x30968b(0x192)],0x0)){const _0xcada74=_0x3c4929[_0x30968b(0x158)](/\n\s*\n|\d+\s*[).]|\bQ\d*\s*[:.]/);for(let _0x4e1ea4=0x0;_0x19b571[_0x30968b(0x1c6)](_0x4e1ea4,_0xcada74[_0x30968b(0x192)]);_0x4e1ea4++){const _0x154665=_0xcada74[_0x4e1ea4][_0x30968b(0x184)]();if(!_0x154665)continue;const _0x2e3a12=[_0x30968b(0x191),'A:',_0x19b571[_0x30968b(0x134)],_0x19b571['UcsHo']];let _0x3db20a=_0x154665,_0x31f252='';for(const _0x5f44d5 of _0x2e3a12){if(_0x154665[_0x30968b(0x1af)](_0x5f44d5)){const _0x2da7e2=_0x154665['split'](_0x5f44d5);_0x3db20a=_0x2da7e2[0x0]['trim'](),_0x31f252=_0x2da7e2[0x1][_0x30968b(0x184)]();break;}}_0x3db20a&&_0x31f252&&_0x5c703e['push']({'question':_0x3db20a,'answer':_0x31f252});}}return _0x5c703e['length']===0x0&&aiLanguageSession&&console[_0x30968b(0x168)](_0x19b571[_0x30968b(0x1a0)]),console[_0x30968b(0x168)](_0x19b571[_0x30968b(0x1ba)],_0x5c703e),_0x5c703e;}catch(_0xa292b6){return Logger[_0x30968b(0x1e0)](_0x19b571[_0x30968b(0x141)],_0xa292b6),console[_0x30968b(0x168)](_0x19b571[_0x30968b(0x141)],_0xa292b6),null;}}['startQuiz'](_0x537e0a){const _0x1cf324=_0x2a3e59,_0x1a961a={'QzuFW':function(_0x39361b,_0x3f6a12){return _0x39361b(_0x3f6a12);},'bhyfR':_0x1cf324(0x13b),'zODpc':_0x1cf324(0x1b8),'WYLkl':'none'};this[_0x1cf324(0x1a6)]={'questions':_0x537e0a,'currentQuestionIndex':0x0,'userAnswers':_0x1a961a[_0x1cf324(0x128)](Array,_0x537e0a[_0x1cf324(0x192)])[_0x1cf324(0x1be)](''),'isRecording':![],'recordingTimeout':null,'minimumWordCount':0x5,'wordCount':0x0,'accumulatedAnswer':''};const _0x181d47=document['getElementById'](_0x1a961a[_0x1cf324(0x19e)]),_0x21863c=document[_0x1cf324(0x17a)](_0x1a961a[_0x1cf324(0x126)]);if(_0x181d47)_0x181d47[_0x1cf324(0x1ec)][_0x1cf324(0x1e6)]=_0x1a961a[_0x1cf324(0x144)];if(_0x21863c)_0x21863c['style'][_0x1cf324(0x1e6)]=_0x1a961a['WYLkl'];this[_0x1cf324(0x15f)]['style'][_0x1cf324(0x1e6)]=_0x1cf324(0x187),this[_0x1cf324(0x115)](_0x1cf324(0x1a1),_0x537e0a),this['loadCurrentQuestion']();}[_0x2a3e59(0x1c3)](){const _0x36db6c=_0x2a3e59,_0x25d833={'qjhzr':_0x36db6c(0x1f6),'xeFlq':'<strong>Your\x20answer:</strong>\x20<em>(Speak\x20now...)</em>','MdajZ':function(_0x19f136,_0x128444){return _0x19f136+_0x128444;},'nAGfd':_0x36db6c(0x17b)};this['resultDisplay'][_0x36db6c(0x1ec)][_0x36db6c(0x1e6)]=_0x25d833[_0x36db6c(0x1f1)],this['correctAnswerDisplay']['style'][_0x36db6c(0x1e6)]='none',this[_0x36db6c(0x165)][_0x36db6c(0x1ec)]['display']=_0x36db6c(0x1f6),this['confirmationPrompt'][_0x36db6c(0x1ec)][_0x36db6c(0x1e6)]=_0x25d833[_0x36db6c(0x1f1)],this[_0x36db6c(0x1a6)][_0x36db6c(0x143)]='',this[_0x36db6c(0x1a6)][_0x36db6c(0x1da)]=0x0;this[_0x36db6c(0x1db)]&&this[_0x36db6c(0x1db)]['resetAccumulatedText']();this[_0x36db6c(0x1a8)][_0x36db6c(0x17e)]=_0x25d833[_0x36db6c(0x16b)];const _0x1d0da4=this[_0x36db6c(0x1a6)][_0x36db6c(0x18a)][this[_0x36db6c(0x1a6)][_0x36db6c(0x12c)]];this[_0x36db6c(0x19d)][_0x36db6c(0x17e)]='\x0a\x20\x20\x20\x20\x20\x20<h2>Question\x20'+_0x25d833[_0x36db6c(0x1cd)](this[_0x36db6c(0x1a6)]['currentQuestionIndex'],0x1)+'\x20of\x20'+this['currentQuiz'][_0x36db6c(0x18a)]['length']+_0x36db6c(0x1b2)+_0x1d0da4['question']+_0x36db6c(0x164),this[_0x36db6c(0x115)](_0x25d833[_0x36db6c(0x178)],{'index':this[_0x36db6c(0x1a6)]['currentQuestionIndex'],'question':_0x1d0da4}),this[_0x36db6c(0x1db)][_0x36db6c(0x1d8)](_0x1d0da4[_0x36db6c(0x17c)])['then'](()=>this['speechProcessor']['startRecording'](this[_0x36db6c(0x1a6)]));}['nextQuestion'](){const _0x4ddd2a=_0x2a3e59,_0x1a13d9={'vDqYO':function(_0x26986a,_0xf00170){return _0x26986a-_0xf00170;}};this[_0x4ddd2a(0x1a6)][_0x4ddd2a(0x12c)]<_0x1a13d9[_0x4ddd2a(0x169)](this[_0x4ddd2a(0x1a6)][_0x4ddd2a(0x18a)][_0x4ddd2a(0x192)],0x1)?(this['currentQuiz']['currentQuestionIndex']++,this['speechProcessor']&&this['speechProcessor'][_0x4ddd2a(0x1f9)]&&this[_0x4ddd2a(0x1db)]['stopRecording'](),this['loadCurrentQuestion']()):this[_0x4ddd2a(0x190)]();}[_0x2a3e59(0x190)](){const _0x5003da=_0x2a3e59,_0x286fe1={'FiPBq':'none','gnbHK':_0x5003da(0x1b8),'wnowB':_0x5003da(0x1ce),'lbviF':_0x5003da(0x13f),'bVHYw':_0x5003da(0x129),'upKcj':_0x5003da(0x14f)};this['quizContainer']['innerHTML']=_0x5003da(0x1dc)+this[_0x5003da(0x1a6)][_0x5003da(0x18a)][_0x5003da(0x192)]+_0x5003da(0x197)+this[_0x5003da(0x157)]()+_0x5003da(0x1c2),this[_0x5003da(0x115)](_0x286fe1[_0x5003da(0x1e1)],{'questions':this[_0x5003da(0x1a6)][_0x5003da(0x18a)],'answers':this[_0x5003da(0x1a6)][_0x5003da(0x1d0)]}),document[_0x5003da(0x17a)]('returnToChatButton')[_0x5003da(0x1ab)](_0x286fe1[_0x5003da(0x14b)],()=>{const _0x24ef6b=_0x5003da;this[_0x24ef6b(0x15f)]['style'][_0x24ef6b(0x1e6)]=_0x286fe1['FiPBq'];const _0xaa51bd=document[_0x24ef6b(0x17a)](_0x286fe1[_0x24ef6b(0x16f)]),_0x498e6b=document[_0x24ef6b(0x17a)](_0x24ef6b(0x13b));if(_0xaa51bd)_0xaa51bd[_0x24ef6b(0x1ec)][_0x24ef6b(0x1e6)]=_0x286fe1['wnowB'];if(_0x498e6b)_0x498e6b['style']['display']=_0x286fe1[_0x24ef6b(0x1ae)];this[_0x24ef6b(0x115)](_0x286fe1['lbviF']);});}['generateQuizSummary'](){const _0x250553=_0x2a3e59,_0x1ff4b1={'kDWSA':_0x250553(0x1e2),'wFYxx':_0x250553(0x163)};let _0x14dca6=_0x1ff4b1[_0x250553(0x1c0)];return this[_0x250553(0x1a6)][_0x250553(0x18a)][_0x250553(0x117)]((_0x4f375e,_0x25818e)=>{const _0x2d93ea=_0x250553,_0x7ddb08=this[_0x2d93ea(0x1a6)][_0x2d93ea(0x1d0)][_0x25818e]||_0x2d93ea(0x182);_0x14dca6+=_0x2d93ea(0x1b1)+(_0x25818e+0x1)+_0x2d93ea(0x19b)+_0x4f375e[_0x2d93ea(0x17c)]+_0x2d93ea(0x139)+_0x7ddb08+_0x2d93ea(0x1cc)+_0x4f375e[_0x2d93ea(0x1b5)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20';}),_0x14dca6+=_0x1ff4b1['wFYxx'],_0x14dca6;}['on'](_0x8e5757,_0x3e707b){const _0x22ed9c=_0x2a3e59;return!this[_0x22ed9c(0x18e)][_0x8e5757]&&(this[_0x22ed9c(0x18e)][_0x8e5757]=[]),this['eventListeners'][_0x8e5757][_0x22ed9c(0x149)](_0x3e707b),this;}[_0x2a3e59(0x11d)](_0x39c083,_0x4225b5){const _0x4f7f40=_0x2a3e59;if(!this[_0x4f7f40(0x18e)][_0x39c083])return this;return!_0x4225b5?this['eventListeners'][_0x39c083]=[]:this[_0x4f7f40(0x18e)][_0x39c083]=this[_0x4f7f40(0x18e)][_0x39c083]['filter'](_0x9e13c5=>_0x9e13c5!==_0x4225b5),this;}[_0x2a3e59(0x115)](_0x2ce4ea,_0x4b991a){const _0x267b57=_0x2a3e59;if(!this['eventListeners'][_0x2ce4ea])return;this[_0x267b57(0x18e)][_0x2ce4ea]['forEach'](_0x5a69a2=>_0x5a69a2(_0x4b991a));}}