
/*!
Copyright ¬© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x4174ec=_0x4759;(function(_0x3a8da8,_0x5506ea){const _0x3705a6=_0x4759,_0x1693e9=_0x3a8da8();while(!![]){try{const _0x438374=-parseInt(_0x3705a6(0x134))/0x1*(-parseInt(_0x3705a6(0x1cc))/0x2)+-parseInt(_0x3705a6(0x1cb))/0x3*(-parseInt(_0x3705a6(0x129))/0x4)+-parseInt(_0x3705a6(0x13e))/0x5*(parseInt(_0x3705a6(0x138))/0x6)+-parseInt(_0x3705a6(0x13f))/0x7+-parseInt(_0x3705a6(0x1c1))/0x8+parseInt(_0x3705a6(0x19a))/0x9+parseInt(_0x3705a6(0x1a4))/0xa;if(_0x438374===_0x5506ea)break;else _0x1693e9['push'](_0x1693e9['shift']());}catch(_0x11b3b1){_0x1693e9['push'](_0x1693e9['shift']());}}}(_0x1014,0x7cf36));import{displayError,Logger}from'./common.js';import{aiLanguageSession,cleanJSONMarkdown,initializeLanguageSession}from'./aiCommon.js';function _0x4759(_0x3d4e3c,_0x20154d){const _0x101444=_0x1014();return _0x4759=function(_0x475918,_0x3c465b){_0x475918=_0x475918-0x10f;let _0x59e623=_0x101444[_0x475918];return _0x59e623;},_0x4759(_0x3d4e3c,_0x20154d);}function _0x1014(){const _0x1dcac5=['eventListeners','fill','üßπ\x20Cleaned\x20response:','remove','fDfHn','loader','No\x20response\x20detected,\x20resuming\x20recording.','\x20of\x20','oFNPB','test','ObgsS','Parsed\x20questions:','AoZFr','then','missingPoints','appendChild','rdxZT','parseQuizQuestions','nextButton','‚ú®\x20Parsed\x20Result:','rfDsd','laDJv','match','createUIElements','0|2|1|3|4','Next\x20Question','22|32|4|7|14|11|18|13|34|8|2|3|6|16|15|29|1|9|26|10|19|25|33|27|17|24|28|20|12|5|30|0|23|31|21','tMbEC','Try\x20again\x20ü§î','üõë\x20cleanedResponse\x20is\x20already\x20an\x20object,\x20skipping\x20JSON.parse.','quizCompleted','recording','#dc3545','blink\x201s\x20infinite','system','eHgFt','user-answer-display','You\x20are\x20an\x20advanced\x20answer\x20comparison\x20assistant.\x20Analyze\x20the\x20user\x27s\x20answer\x20against\x20the\x20correct\x20answer\x20by\x20identifying\x20main\x20points,\x20calculating\x20a\x20percentage\x20match,\x20and\x20highlighting\x20similarities\x20and\x20differences.\x20Provide\x20structured\x20feedback\x20in\x20JSON\x20format.','\x0a\x20\x20\x20\x20\x20\x20<h3>Complete\x20Answer:</h3>\x0a\x20\x20\x20\x20\x20\x20<p>','</h2>\x0a\x20\x20\x20\x20\x20\x20<p>','QuizManager\x20initialized','loaderElement','createElement','question-display','questionLoaded','forEach','WNbdo','setupEventListeners','ucleR','stringify','3022875DFlVpq','excellent','%\x20Match</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x20questions.</p>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-summary\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AKtmD','zJwOl','OK\x20üëå','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Question\x20','gJdte','wordCount','834230qQLKpE','add','pdoJO','userAnswerDisplay','Good!\x20üëç','fontWeight','</p>\x0a\x20\x20\x20\x20','resetAccumulatedText','push','extended','querySelector','HxRhk','addEventListener','Failed\x20to\x20parse\x20AI\x20response\x20as\x20JSON:','LoPLF','returnedToChat','‚ùå\x20JSON\x20Parse\x20Error:','split','ZzJIZ','\x0aA.','percentageMatch','tSLec','UmuNs','classList','block','some','bold','XExad','qQbSS','2587208LZbAPe','\x0aAnswer.','askForConfirmation','parse','vRUni','ZKQBO','rQTbP','xylaM','PNhfU','dKePV','3RbYtse','2278fHxeuw','correct-answer-display','question','questions','Compare\x20the\x20following\x20answers:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20User\x27s\x20answer:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','trim','OXNFo','confirmation-prompt','startConfirmationRecognition','ISHAm','chatContainer','flex','hpKam','showAutoAdvancePrompt','JOnNe','jzyLw','PkwWA','userAnswers','<strong>Your\x20answer:</strong>\x20','none','xtgvl','Sorry,\x20there\x20was\x20an\x20error\x20analyzing\x20your\x20answer.','.input-container','klVBx','qkpSF','noButton','‚úÖ\x20Correct\x20Answer\x20being\x20sent\x20for\x20comparison:','vljcJ','CInUM','OTNgV','JDoCV','answer','DOroF','insertBefore','\x0a\x20\x20\x20\x20\x20\x20<h2>Question\x20','compareAnswer','user','Failed\x20to\x20parse\x20quiz\x20questions:','MekOX','questionDisplay','xcQlv','No\x20response\x20detected.\x20Click\x20Yes\x20or\x20No.','feedback','yesButton','isQuizFormat','quizContainer','getAccumulatedText','next-button','isRecording','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Correct\x20answer:</strong>\x20','textContent','displayResults','poor','lfBPH','<span\x20class=\x22interim\x22>','quiz-container','generateQuizSummary','RDGti','JywPA','bYUpc','prompt','LoAmG','timeoutMessage','div','HHXqw','button','kLDLt','ulvaI','wGnQV','welcomeScreen','TbeDY','Answer:','emit','display','init','‚ùå\x20Compare\x20Answer\x20Error:','correctAnswerDisplay','sWesq','üìù\x20Loader\x20element\x20set\x20to\x20block:','startRecording','.container','1045396AsjSry','<strong>Your\x20answer:</strong>\x20<em>(Speak\x20now...)</em>','JwOLl','xqFJI','YJGYM','3px\x20solid\x20#17a2b8','click','qtiWc','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Please\x20return\x20a\x20JSON\x20object\x20with\x20the\x20following\x20fields:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20percentageMatch\x20(number):\x20Percentage\x20of\x20key\x20points\x20covered\x20by\x20the\x20user.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20feedback\x20(string):\x20Constructive\x20feedback\x20on\x20strengths\x20and\x20areas\x20to\x20improve.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20missingPoints\x20(array\x20of\x20strings):\x20Key\x20points\x20not\x20mentioned\x20by\x20the\x20user.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20similarities\x20(array\x20of\x20strings):\x20Important\x20points\x20both\x20answers\x20share.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20differences\x20(array\x20of\x20strings):\x20Notable\x20differences\x20in\x20content\x20or\x20emphasis.','YemJQ','replace','503JfRIXQ','ezSOD','RGRFJ','AIWbR','12JECCeV','isArray','Could\x20use\x20AI\x20to\x20extract\x20Q&A\x20pairs\x20from\x20unstructured\x20text','innerText','qPNHK','Gskux','7165QkdBCz','2908493wGPROL','innerHTML','UEkKh','</div>','fNqjP','üìù\x20Prompt\x20being\x20sent\x20to\x20AI:','confirmationPrompt','color','speechProcessor','nextQuestion','\x5c$&','</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','micButton','xGasC','initializeSpeechManager','loadCurrentQuestion','style','getElementById','\x0a\x20\x20\x20\x20\x20\x20<h2>Quiz\x20Completed!</h2>\x0a\x20\x20\x20\x20\x20\x20<p>You\x27ve\x20completed\x20all\x20','confirmAnswerCompletion','zjvmR','toOCJ','animation','wAwZF','currentQuestionIndex','length','stopRecording','resultDisplay','result-display','KFygY','object','speakText','EBiMv','yZEhH','includes','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Correct\x20answer:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border','currentQuiz','error','log','quizStarted'];_0x1014=function(){return _0x1dcac5;};return _0x1014();}import{SpeechProcessor}from'./speechProcessor.js';export class QuizManager{constructor(_0x27ca8e={}){const _0x2be402=_0x4759,_0x2b4e52={'tdSFx':'8|10|1|5|6|3|9|2|4|7|11|0'},_0x2e0998=_0x2b4e52['tdSFx'][_0x2be402(0x1b5)]('|');let _0x2ace4e=0x0;while(!![]){switch(_0x2e0998[_0x2ace4e++]){case'0':this[_0x2be402(0x168)]={};continue;case'1':this[_0x2be402(0x1f9)]=null;continue;case'2':this['nextButton']=null;continue;case'3':this[_0x2be402(0x15a)]=null;continue;case'4':this['confirmationPrompt']=null;continue;case'5':this[_0x2be402(0x1f3)]=null;continue;case'6':this[_0x2be402(0x1a7)]=null;continue;case'7':this['isPaused']=![];continue;case'8':this[_0x2be402(0x1d9)]=_0x27ca8e[_0x2be402(0x1d9)]||null;continue;case'9':this['correctAnswerDisplay']=null;continue;case'10':this[_0x2be402(0x164)]={'questions':[],'currentQuestionIndex':0x0,'userAnswers':[],'isRecording':![],'recordingTimeout':null,'minimumWordCount':0x5,'wordCount':0x0,'accumulatedAnswer':''};continue;case'11':this[_0x2be402(0x147)]=null;continue;}break;}}[_0x4174ec(0x122)](){const _0x1d9616=_0x4174ec,_0x2e1073={'JDoCV':_0x1d9616(0x180),'ulvaI':_0x1d9616(0x190)},_0x2432c3=_0x2e1073[_0x1d9616(0x1ea)][_0x1d9616(0x1b5)]('|');let _0x3a29c7=0x0;while(!![]){switch(_0x2432c3[_0x3a29c7++]){case'0':this[_0x1d9616(0x17f)]();continue;case'1':this[_0x1d9616(0x197)]();continue;case'2':this['initializeSpeechManager']();continue;case'3':this[_0x1d9616(0x191)]=document[_0x1d9616(0x150)](_0x1d9616(0x16d));continue;case'4':console[_0x1d9616(0x166)](_0x2e1073[_0x1d9616(0x11b)]);continue;}break;}}['createUIElements'](){const _0x40f56e=_0x4174ec,_0x39a9a4={'fDfHn':_0x40f56e(0x182),'dKePV':_0x40f56e(0x1cd),'gJdte':_0x40f56e(0x117),'rdxZT':_0x40f56e(0x15a),'fNqjP':_0x40f56e(0x10f),'zJwOl':'none','xylaM':_0x40f56e(0x18c),'vLXGe':_0x40f56e(0x17a),'Raivh':'questionDisplay','uDZCl':_0x40f56e(0x193),'yaZCY':_0x40f56e(0x181),'HHXqw':_0x40f56e(0x128),'EBiMv':_0x40f56e(0x1e2),'xqFJI':_0x40f56e(0x1d3),'TbeDY':_0x40f56e(0x1f9),'wGnQV':'userAnswerDisplay'},_0x492690=_0x39a9a4[_0x40f56e(0x16c)][_0x40f56e(0x1b5)]('|');let _0x1fd285=0x0;while(!![]){switch(_0x492690[_0x1fd285++]){case'0':this[_0x40f56e(0x1f9)][_0x40f56e(0x177)](this[_0x40f56e(0x15a)]);continue;case'1':this[_0x40f56e(0x124)][_0x40f56e(0x1bb)][_0x40f56e(0x1a5)](_0x39a9a4[_0x40f56e(0x1ca)]);continue;case'2':this[_0x40f56e(0x15a)]=document['createElement'](_0x39a9a4[_0x40f56e(0x1a2)]);continue;case'3':this[_0x40f56e(0x15a)]['id']=_0x39a9a4[_0x40f56e(0x178)];continue;case'4':this[_0x40f56e(0x1f9)][_0x40f56e(0x1bb)]['add'](_0x39a9a4[_0x40f56e(0x143)]);continue;case'5':this[_0x40f56e(0x1f9)][_0x40f56e(0x177)](this[_0x40f56e(0x1a7)]);continue;case'6':this[_0x40f56e(0x15a)][_0x40f56e(0x1bb)][_0x40f56e(0x1a5)](_0x40f56e(0x15b));continue;case'7':this[_0x40f56e(0x1f9)][_0x40f56e(0x14f)][_0x40f56e(0x121)]=_0x39a9a4['zJwOl'];continue;case'8':this[_0x40f56e(0x1a7)]['classList'][_0x40f56e(0x1a5)](_0x39a9a4[_0x40f56e(0x1c8)]);continue;case'9':this[_0x40f56e(0x124)][_0x40f56e(0x14f)][_0x40f56e(0x121)]=_0x39a9a4['zJwOl'];continue;case'10':this[_0x40f56e(0x17a)]['id']=_0x39a9a4['vLXGe'];continue;case'11':this[_0x40f56e(0x1f3)]['id']=_0x39a9a4['Raivh'];continue;case'12':this[_0x40f56e(0x1f9)][_0x40f56e(0x177)](this['questionDisplay']);continue;case'13':this['userAnswerDisplay']=document['createElement'](_0x39a9a4[_0x40f56e(0x1a2)]);continue;case'14':this[_0x40f56e(0x1f3)]=document[_0x40f56e(0x192)](_0x39a9a4['gJdte']);continue;case'15':this[_0x40f56e(0x124)]=document[_0x40f56e(0x192)]('div');continue;case'16':this['resultDisplay'][_0x40f56e(0x14f)][_0x40f56e(0x121)]=_0x39a9a4[_0x40f56e(0x19f)];continue;case'17':this[_0x40f56e(0x145)]['id']=_0x40f56e(0x145);continue;case'18':this[_0x40f56e(0x1f3)][_0x40f56e(0x1bb)][_0x40f56e(0x1a5)](_0x39a9a4['uDZCl']);continue;case'19':this[_0x40f56e(0x17a)][_0x40f56e(0x1fe)]=_0x39a9a4['yaZCY'];continue;case'20':this[_0x40f56e(0x145)][_0x40f56e(0x14f)][_0x40f56e(0x121)]=_0x39a9a4[_0x40f56e(0x19f)];continue;case'21':document[_0x40f56e(0x1ae)](_0x39a9a4[_0x40f56e(0x118)])[_0x40f56e(0x1ed)](this[_0x40f56e(0x1f9)],document[_0x40f56e(0x1ae)](_0x39a9a4[_0x40f56e(0x15f)]));continue;case'22':this[_0x40f56e(0x1f9)]=document[_0x40f56e(0x192)](_0x39a9a4[_0x40f56e(0x1a2)]);continue;case'23':this[_0x40f56e(0x1f9)][_0x40f56e(0x177)](this['correctAnswerDisplay']);continue;case'24':this[_0x40f56e(0x145)][_0x40f56e(0x1bb)][_0x40f56e(0x1a5)](_0x39a9a4[_0x40f56e(0x12c)]);continue;case'25':this['nextButton'][_0x40f56e(0x1bb)][_0x40f56e(0x1a5)](_0x40f56e(0x1fb));continue;case'26':this['nextButton']=document[_0x40f56e(0x192)](_0x40f56e(0x119));continue;case'27':this['confirmationPrompt']=document[_0x40f56e(0x192)](_0x39a9a4[_0x40f56e(0x1a2)]);continue;case'28':this[_0x40f56e(0x145)][_0x40f56e(0x140)]='\x0a\x20\x20\x20\x20\x20\x20<p>Done?</p>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22confirmation-buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22yesButton\x22\x20class=\x22confirm-button\x22>Yes</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22noButton\x22\x20class=\x22confirm-button\x22>No</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';continue;case'29':this['correctAnswerDisplay']['id']=_0x40f56e(0x124);continue;case'30':this[_0x40f56e(0x1f9)][_0x40f56e(0x177)](this[_0x40f56e(0x145)]);continue;case'31':this['quizContainer'][_0x40f56e(0x177)](this[_0x40f56e(0x17a)]);continue;case'32':this[_0x40f56e(0x1f9)]['id']=_0x39a9a4[_0x40f56e(0x11e)];continue;case'33':this[_0x40f56e(0x17a)][_0x40f56e(0x14f)]['display']=_0x40f56e(0x1df);continue;case'34':this[_0x40f56e(0x1a7)]['id']=_0x39a9a4[_0x40f56e(0x11c)];continue;}break;}}[_0x4174ec(0x14d)](){const _0x7dad8a=_0x4174ec,_0xbc05d3={'RDGti':function(_0x46afd7,_0x4ec729){return _0x46afd7(_0x4ec729);},'bAEhe':function(_0x480598,_0x1fa70a){return _0x480598===_0x1fa70a;},'AoZFr':'explicit','sWesq':function(_0x5dd966,_0x4d9269){return _0x5dd966===_0x4d9269;},'qCLVb':'auto','rfDsd':_0x7dad8a(0x1ad),'qQbSS':_0x7dad8a(0x14b),'xcQlv':_0x7dad8a(0x187)};this[_0x7dad8a(0x147)]=new SpeechProcessor({'onResult':(_0xc907df,_0x5f2cac)=>{const _0x67a434=_0x7dad8a;this[_0x67a434(0x1a7)]['innerHTML']=_0x67a434(0x1de)+_0xc907df+_0x67a434(0x202)+_0x5f2cac+'</span>';},'onError':_0x4d9743=>{const _0x2be3c6=_0x7dad8a;_0xbc05d3[_0x2be3c6(0x111)](displayError,_0x4d9743);},'onSilence':_0x38a88d=>{const _0x1be50f=_0x7dad8a;if(_0xbc05d3['bAEhe'](_0x38a88d,_0xbc05d3[_0x1be50f(0x174)]))this['confirmAnswerCompletion']();else{if(_0xbc05d3[_0x1be50f(0x125)](_0x38a88d,_0xbc05d3['qCLVb']))this[_0x1be50f(0x152)]();else _0x38a88d===_0xbc05d3[_0x1be50f(0x17c)]&&this[_0x1be50f(0x1c3)]();}},'onRecordingStart':()=>{const _0x76ad63=_0x7dad8a,_0x4261dc=document[_0x76ad63(0x150)](_0xbc05d3[_0x76ad63(0x1c0)]);_0x4261dc&&_0x4261dc[_0x76ad63(0x1bb)][_0x76ad63(0x1a5)](_0xbc05d3[_0x76ad63(0x1f4)]);},'onRecordingStop':()=>{const _0x4c444a=_0x7dad8a,_0x32c8f1=document[_0x4c444a(0x150)](_0xbc05d3[_0x4c444a(0x1c0)]);_0x32c8f1&&_0x32c8f1[_0x4c444a(0x1bb)][_0x4c444a(0x16b)]('recording');},'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}['setupEventListeners'](){const _0x2395aa=_0x4174ec,_0x54274e={'qPNHK':_0x2395aa(0x1df),'lfBPH':_0x2395aa(0x12f),'YJGYM':_0x2395aa(0x1f7),'JOnNe':_0x2395aa(0x1e5)};this[_0x2395aa(0x17a)][_0x2395aa(0x1b0)](_0x54274e[_0x2395aa(0x201)],()=>{this['nextQuestion']();}),document['getElementById'](_0x54274e[_0x2395aa(0x12d)])['addEventListener'](_0x54274e['lfBPH'],()=>{const _0x5798dc=_0x2395aa;this[_0x5798dc(0x145)][_0x5798dc(0x14f)][_0x5798dc(0x121)]=_0x54274e[_0x5798dc(0x13c)],this['confirmAnswerCompletion']();}),document['getElementById'](_0x54274e[_0x2395aa(0x1da)])[_0x2395aa(0x1b0)](_0x54274e[_0x2395aa(0x201)],()=>{const _0x5be6f2=_0x2395aa;this['confirmationPrompt'][_0x5be6f2(0x14f)][_0x5be6f2(0x121)]=_0x54274e[_0x5be6f2(0x13c)];if(this['speechProcessor'])this[_0x5be6f2(0x147)][_0x5be6f2(0x127)]();});}[_0x4174ec(0x1c3)](){const _0x4908e2=_0x4174ec,_0x600547={'LoPLF':_0x4908e2(0x1df),'YemJQ':_0x4908e2(0x116),'rQTbP':function(_0x43c61c,_0x2462eb){return _0x43c61c!==_0x2462eb;},'tMbEC':_0x4908e2(0x16e),'KFygY':_0x4908e2(0x12e),'hpKam':_0x4908e2(0x189),'JwOLl':_0x4908e2(0x117),'hQNiu':_0x4908e2(0x188),'FLdWM':_0x4908e2(0x1f5),'DOroF':function(_0x24c00c,_0x2cab78,_0x4bf7d1){return _0x24c00c(_0x2cab78,_0x4bf7d1);}};if(this['speechProcessor'])this[_0x4908e2(0x147)][_0x4908e2(0x159)]();this[_0x4908e2(0x145)][_0x4908e2(0x14f)]['display']=_0x4908e2(0x1bc),this[_0x4908e2(0x145)][_0x4908e2(0x14f)][_0x4908e2(0x163)]=_0x600547[_0x4908e2(0x15c)],this[_0x4908e2(0x145)][_0x4908e2(0x14f)][_0x4908e2(0x155)]=_0x600547[_0x4908e2(0x1d8)];if(!document[_0x4908e2(0x150)](_0x600547['YemJQ'])){const _0x28d50e=document[_0x4908e2(0x192)](_0x600547[_0x4908e2(0x12b)]);_0x28d50e['id']=_0x600547[_0x4908e2(0x132)],_0x28d50e['style']['display']=_0x600547[_0x4908e2(0x1b2)],_0x28d50e[_0x4908e2(0x14f)][_0x4908e2(0x146)]=_0x600547['hQNiu'],_0x28d50e[_0x4908e2(0x14f)][_0x4908e2(0x1a9)]=_0x4908e2(0x1be),_0x28d50e[_0x4908e2(0x13b)]=_0x600547['FLdWM'],this['confirmationPrompt'][_0x4908e2(0x177)](_0x28d50e);}if(this[_0x4908e2(0x147)]){const _0x343203=this[_0x4908e2(0x147)][_0x4908e2(0x1d4)](()=>{const _0x1d4332=_0x4908e2;this[_0x1d4332(0x145)][_0x1d4332(0x14f)][_0x1d4332(0x121)]=_0x600547[_0x1d4332(0x1b2)],this[_0x1d4332(0x152)]();},()=>{const _0x9f7174=_0x4908e2;this[_0x9f7174(0x145)][_0x9f7174(0x14f)][_0x9f7174(0x121)]=_0x600547[_0x9f7174(0x1b2)],this[_0x9f7174(0x147)][_0x9f7174(0x127)]();},()=>{const _0x4e4d30=_0x4908e2;this[_0x4e4d30(0x145)][_0x4e4d30(0x14f)][_0x4e4d30(0x155)]=_0x600547[_0x4e4d30(0x1b2)],document[_0x4e4d30(0x150)](_0x600547[_0x4e4d30(0x132)])&&(document[_0x4e4d30(0x150)](_0x600547[_0x4e4d30(0x132)])[_0x4e4d30(0x14f)][_0x4e4d30(0x121)]=_0x4e4d30(0x1bc));});}_0x600547[_0x4908e2(0x1ec)](setTimeout,()=>{const _0x10c479=_0x4908e2;if(_0x600547[_0x10c479(0x1c7)](this[_0x10c479(0x145)][_0x10c479(0x14f)][_0x10c479(0x121)],_0x600547[_0x10c479(0x1b2)])){console[_0x10c479(0x166)](_0x600547[_0x10c479(0x183)]),this[_0x10c479(0x145)][_0x10c479(0x14f)]['display']=_0x600547['LoPLF'];if(this[_0x10c479(0x147)])this[_0x10c479(0x147)][_0x10c479(0x127)]();}},0x1b58);}['confirmAnswerCompletion'](){const _0x32b3f5=_0x4174ec,_0x3154d2={'xGasC':'none'};if(this[_0x32b3f5(0x147)])this[_0x32b3f5(0x147)]['stopRecording']();this[_0x32b3f5(0x145)][_0x32b3f5(0x14f)][_0x32b3f5(0x121)]=_0x3154d2[_0x32b3f5(0x14c)];const _0x37259c=(this['speechProcessor']?this['speechProcessor'][_0x32b3f5(0x1fa)]():'')[_0x32b3f5(0x133)](/done|i am finished|that's all|yes|correct/gi,'')[_0x32b3f5(0x1d1)]();this[_0x32b3f5(0x164)][_0x32b3f5(0x1dd)][this['currentQuiz']['currentQuestionIndex']]=_0x37259c,this[_0x32b3f5(0x1a7)]['innerHTML']=_0x32b3f5(0x1de)+_0x37259c,this['compareAnswer'](_0x37259c,this[_0x32b3f5(0x164)][_0x32b3f5(0x1cf)][this[_0x32b3f5(0x164)][_0x32b3f5(0x157)]]['answer']);}async[_0x4174ec(0x1ef)](_0x17e2c0,_0x1ff1a0){const _0x483c92=_0x4174ec,_0x161fc7={'klVBx':_0x483c92(0x1e6),'ZzJIZ':_0x483c92(0x18d),'yZEhH':_0x483c92(0x1f0),'MaKVL':_0x483c92(0x144),'WNbdo':'ü§ñ\x20Raw\x20AI\x20Response:','OXNFo':_0x483c92(0x1df),'DmePv':function(_0x110100,_0x255bb8){return _0x110100(_0x255bb8);},'PNhfU':_0x483c92(0x16a),'xtgvl':function(_0x34fea1,_0xc858b0){return _0x34fea1===_0xc858b0;},'dnpVu':_0x483c92(0x15d),'zjvmR':_0x483c92(0x185),'wAwZF':_0x483c92(0x17b),'kLDLt':_0x483c92(0x1b4),'tSLec':_0x483c92(0x1b1),'ucleR':_0x483c92(0x123),'OCvCM':'loader','Lpvxk':'Answer\x20comparison\x20error:','fqEjc':'Sorry,\x20there\x20was\x20an\x20error\x20analyzing\x20your\x20answer.'};if(!aiLanguageSession)await initializeLanguageSession();console[_0x483c92(0x166)]('üí¨\x20User\x20Answer\x20being\x20sent\x20for\x20comparison:',_0x17e2c0),console[_0x483c92(0x166)](_0x161fc7[_0x483c92(0x1e3)],_0x1ff1a0);try{const _0x558688=JSON[_0x483c92(0x199)]([{'role':_0x483c92(0x18a),'content':_0x161fc7[_0x483c92(0x1b6)]},{'role':_0x161fc7[_0x483c92(0x160)],'content':_0x483c92(0x1d0)+_0x17e2c0+_0x483c92(0x162)+_0x1ff1a0+_0x483c92(0x131)}]);console[_0x483c92(0x166)](_0x161fc7['MaKVL'],_0x558688);const _0x54efa0=document['getElementById']('loader');console[_0x483c92(0x166)](_0x483c92(0x126),_0x54efa0);if(_0x54efa0)_0x54efa0['style'][_0x483c92(0x121)]=_0x483c92(0x1bc);const _0x283bbd=await aiLanguageSession[_0x483c92(0x114)](_0x558688);console[_0x483c92(0x166)](_0x161fc7[_0x483c92(0x196)],_0x283bbd);if(_0x54efa0)_0x54efa0['style'][_0x483c92(0x121)]=_0x161fc7[_0x483c92(0x1d2)];try{let _0x436d8d=_0x161fc7['DmePv'](cleanJSONMarkdown,_0x283bbd);console[_0x483c92(0x166)](_0x161fc7[_0x483c92(0x1c9)],_0x436d8d);let _0x86d115=_0x436d8d;_0x161fc7[_0x483c92(0x1e0)](typeof _0x436d8d,_0x161fc7['dnpVu'])?console[_0x483c92(0x166)](_0x161fc7[_0x483c92(0x153)]):(_0x86d115=JSON[_0x483c92(0x1c4)](_0x436d8d),console[_0x483c92(0x166)](_0x161fc7[_0x483c92(0x156)],_0x86d115)),this[_0x483c92(0x1ff)](_0x86d115);}catch(_0x484585){console[_0x483c92(0x165)](_0x161fc7[_0x483c92(0x11a)],_0x484585),Logger[_0x483c92(0x165)](_0x161fc7[_0x483c92(0x1b9)],_0x484585),this['displayResults']({'percentageMatch':0x0,'feedback':_0x483c92(0x1e1),'missingPoints':[]});}}catch(_0x32b7fc){console[_0x483c92(0x165)](_0x161fc7[_0x483c92(0x198)],_0x32b7fc);const _0x2698ac=document[_0x483c92(0x150)](_0x161fc7['OCvCM']);if(_0x2698ac)_0x2698ac[_0x483c92(0x14f)]['display']='none';Logger[_0x483c92(0x165)](_0x161fc7['Lpvxk'],_0x32b7fc),this['displayResults']({'percentageMatch':0x0,'feedback':_0x161fc7['fqEjc'],'missingPoints':[]});}}[_0x4174ec(0x1ff)](_0x3e6dd8){const _0x6c3910=_0x4174ec,_0x401668={'PkwWA':'<span\x20class=\x22highlight\x22>$1</span>','jzyLw':'block','ezSOD':'Excellent!\x20üéâ','MekOX':_0x6c3910(0x19b),'JywPA':function(_0x35b633,_0x123d2d){return _0x35b633>=_0x123d2d;},'pdoJO':_0x6c3910(0x1a8),'OTNgV':'good','qtiWc':_0x6c3910(0x1a0),'qkpSF':_0x6c3910(0x200),'CInUM':function(_0x3c721a,_0x58fa0b){return _0x3c721a>_0x58fa0b;},'ObgsS':function(_0x35eb94,_0x48be71){return _0x35eb94<_0x48be71;},'vqali':function(_0x39494b,_0x48f684,_0x466500){return _0x39494b(_0x48f684,_0x466500);}};this['resultDisplay']['style'][_0x6c3910(0x121)]=_0x401668[_0x6c3910(0x1db)],this['correctAnswerDisplay'][_0x6c3910(0x14f)]['display']=_0x401668[_0x6c3910(0x1db)],this['nextButton'][_0x6c3910(0x14f)][_0x6c3910(0x121)]=_0x401668[_0x6c3910(0x1db)];let _0x47ba3a='',_0x141322='';if(_0x3e6dd8['percentageMatch']>=0x5a)_0x47ba3a=_0x401668[_0x6c3910(0x135)],_0x141322=_0x401668[_0x6c3910(0x1f2)];else{if(_0x401668[_0x6c3910(0x112)](_0x3e6dd8[_0x6c3910(0x1b8)],0x50))_0x47ba3a=_0x401668[_0x6c3910(0x1a6)],_0x141322=_0x401668[_0x6c3910(0x1e9)];else _0x401668[_0x6c3910(0x112)](_0x3e6dd8[_0x6c3910(0x1b8)],0x32)?(_0x47ba3a=_0x401668[_0x6c3910(0x130)],_0x141322='ok'):(_0x47ba3a=_0x6c3910(0x184),_0x141322=_0x401668[_0x6c3910(0x1e4)]);}this['resultDisplay'][_0x6c3910(0x140)]='\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22rating\x20'+_0x141322+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>'+_0x47ba3a+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-percent\x22>'+Math['round'](_0x3e6dd8[_0x6c3910(0x1b8)])+_0x6c3910(0x19c)+_0x3e6dd8[_0x6c3910(0x1f6)]+_0x6c3910(0x14a);let _0x1cc1b6=this[_0x6c3910(0x164)][_0x6c3910(0x1cf)][this[_0x6c3910(0x164)][_0x6c3910(0x157)]]['answer'];_0x3e6dd8[_0x6c3910(0x176)]&&_0x401668[_0x6c3910(0x1e8)](_0x3e6dd8[_0x6c3910(0x176)][_0x6c3910(0x158)],0x0)&&_0x3e6dd8['missingPoints'][_0x6c3910(0x195)](_0x326573=>{const _0x51c06d=_0x6c3910,_0x3c3e77=new RegExp('('+_0x326573[_0x51c06d(0x133)](/[.*+?^${}()|[\]\\]/g,_0x51c06d(0x149))+')','gi');_0x1cc1b6=_0x1cc1b6[_0x51c06d(0x133)](_0x3c3e77,_0x401668[_0x51c06d(0x1dc)]);}),this[_0x6c3910(0x124)][_0x6c3910(0x140)]=_0x6c3910(0x18e)+_0x1cc1b6+_0x6c3910(0x1aa),_0x401668[_0x6c3910(0x172)](this['currentQuiz'][_0x6c3910(0x157)],this[_0x6c3910(0x164)][_0x6c3910(0x1cf)][_0x6c3910(0x158)]-0x1)&&_0x401668['vqali'](setTimeout,()=>{const _0x4c25eb=_0x6c3910;if(this[_0x4c25eb(0x1d9)])this[_0x4c25eb(0x1d9)]();},0x3e8);}[_0x4174ec(0x1f8)](_0x3e26bf){const _0x5e5fdd=_0x4174ec,_0x32e478=[/Q\d*\s*[:.-]\s*.*\s*A\s*[:.-]/i,/\d+\s*[).]\s*.*\s*Answer\s*[:.-]/i,/Question\s*\d+\s*[:.-]/i,/\b[Qq]uestion\b.*\b[Aa]nswer\b/];return _0x32e478[_0x5e5fdd(0x1bd)](_0x37c133=>_0x37c133[_0x5e5fdd(0x171)](_0x3e26bf));}[_0x4174ec(0x179)](_0x1b5d09){const _0x10880d=_0x4174ec,_0x45aef5={'AIWbR':function(_0x5ab2ef,_0x3ae99e){return _0x5ab2ef&&_0x3ae99e;},'XOzwk':function(_0x369188,_0x557263){return _0x369188>_0x557263;},'UmuNs':function(_0x49f2bb,_0x574722){return _0x49f2bb===_0x574722;},'ayUOh':function(_0x2c21a8,_0x4025f1){return _0x2c21a8<_0x4025f1;},'HxRhk':_0x10880d(0x1b7),'vRUni':_0x10880d(0x1c2),'Gskux':function(_0x54e20c,_0x2ae418){return _0x54e20c&&_0x2ae418;},'RGRFJ':_0x10880d(0x13a),'LTazS':_0x10880d(0x1f1)};console['log']('Raw\x20quiz\x20input:',_0x1b5d09);try{try{const _0x36ef37=JSON[_0x10880d(0x1c4)](_0x1b5d09);if(Array[_0x10880d(0x139)](_0x36ef37)&&_0x45aef5['XOzwk'](_0x36ef37[_0x10880d(0x158)],0x0)&&_0x36ef37[0x0][_0x10880d(0x1ce)]&&_0x36ef37[0x0]['answer'])return _0x36ef37;}catch(_0x1268f8){}const _0x38fa82=[],_0x33a2d2=_0x1b5d09[_0x10880d(0x17e)](/(?:Q:|Question:?|^\d+\.?)\s*(.+?)(?:A:|Answer:?)\s*(.+?)(?=(?:Q:|Question:?|^\d+\.?)|$)/gis);_0x33a2d2&&_0x33a2d2[_0x10880d(0x158)]>0x0&&_0x33a2d2['forEach'](_0x321432=>{const _0x3b987c=_0x10880d,_0x4144fa=_0x321432[_0x3b987c(0x17e)](/(?:Q:|Question:?|^\d+\.?)\s*(.+?)(?=A:|Answer:?)/is),_0x1c1d7f=_0x321432[_0x3b987c(0x17e)](/(?:A:|Answer:?)\s*(.+?)$/is);_0x45aef5[_0x3b987c(0x137)](_0x4144fa,_0x1c1d7f)&&_0x38fa82['push']({'question':_0x4144fa[0x1][_0x3b987c(0x1d1)](),'answer':_0x1c1d7f[0x1][_0x3b987c(0x1d1)]()});});if(_0x45aef5[_0x10880d(0x1ba)](_0x38fa82[_0x10880d(0x158)],0x0)){const _0x434408=_0x1b5d09['split'](/\n\s*\n|\d+\s*[).]|\bQ\d*\s*[:.]/);for(let _0x30b692=0x0;_0x45aef5['ayUOh'](_0x30b692,_0x434408[_0x10880d(0x158)]);_0x30b692++){const _0x5907b6=_0x434408[_0x30b692][_0x10880d(0x1d1)]();if(!_0x5907b6)continue;const _0x15b1c4=[_0x10880d(0x11f),'A:',_0x45aef5[_0x10880d(0x1af)],_0x45aef5[_0x10880d(0x1c5)]];let _0x2192dc=_0x5907b6,_0x262dfe='';for(const _0x55449b of _0x15b1c4){if(_0x5907b6[_0x10880d(0x161)](_0x55449b)){const _0x5cb6e3=_0x5907b6[_0x10880d(0x1b5)](_0x55449b);_0x2192dc=_0x5cb6e3[0x0][_0x10880d(0x1d1)](),_0x262dfe=_0x5cb6e3[0x1][_0x10880d(0x1d1)]();break;}}_0x45aef5[_0x10880d(0x13d)](_0x2192dc,_0x262dfe)&&_0x38fa82['push']({'question':_0x2192dc,'answer':_0x262dfe});}}return _0x45aef5[_0x10880d(0x1ba)](_0x38fa82[_0x10880d(0x158)],0x0)&&aiLanguageSession&&console[_0x10880d(0x166)](_0x45aef5[_0x10880d(0x136)]),console[_0x10880d(0x166)](_0x10880d(0x173),_0x38fa82),_0x38fa82;}catch(_0x2179a4){return Logger[_0x10880d(0x165)](_0x45aef5['LTazS'],_0x2179a4),console[_0x10880d(0x166)](_0x45aef5['LTazS'],_0x2179a4),null;}}['startQuiz'](_0x438e32){const _0xf5a590=_0x4174ec,_0x54cfc2={'ISHAm':function(_0x1cc7bf,_0x5351b0){return _0x1cc7bf(_0x5351b0);},'LoAmG':_0xf5a590(0x11d),'laDJv':'none','Dhpjm':'block'};this['currentQuiz']={'questions':_0x438e32,'currentQuestionIndex':0x0,'userAnswers':_0x54cfc2[_0xf5a590(0x1d5)](Array,_0x438e32['length'])[_0xf5a590(0x169)](''),'isRecording':![],'recordingTimeout':null,'minimumWordCount':0x5,'wordCount':0x0,'accumulatedAnswer':''};const _0x17185d=document['getElementById'](_0x54cfc2[_0xf5a590(0x115)]),_0x343dbb=document[_0xf5a590(0x150)](_0xf5a590(0x1d6));if(_0x17185d)_0x17185d[_0xf5a590(0x14f)][_0xf5a590(0x121)]=_0x54cfc2['laDJv'];if(_0x343dbb)_0x343dbb['style'][_0xf5a590(0x121)]=_0x54cfc2[_0xf5a590(0x17d)];this[_0xf5a590(0x1f9)][_0xf5a590(0x14f)][_0xf5a590(0x121)]=_0x54cfc2['Dhpjm'],this[_0xf5a590(0x120)](_0xf5a590(0x167),_0x438e32),this[_0xf5a590(0x14e)]();}['loadCurrentQuestion'](){const _0x216be=_0x4174ec,_0x45706b={'ZKQBO':_0x216be(0x1df),'toOCJ':_0x216be(0x12a),'bYUpc':_0x216be(0x194)};this[_0x216be(0x15a)][_0x216be(0x14f)][_0x216be(0x121)]=_0x45706b[_0x216be(0x1c6)],this['correctAnswerDisplay']['style'][_0x216be(0x121)]=_0x45706b[_0x216be(0x1c6)],this[_0x216be(0x17a)][_0x216be(0x14f)][_0x216be(0x121)]=_0x45706b[_0x216be(0x1c6)],this[_0x216be(0x145)][_0x216be(0x14f)][_0x216be(0x121)]=_0x45706b[_0x216be(0x1c6)],this['currentQuiz']['accumulatedAnswer']='',this[_0x216be(0x164)][_0x216be(0x1a3)]=0x0;this['speechProcessor']&&this[_0x216be(0x147)][_0x216be(0x1ab)]();this[_0x216be(0x1a7)]['innerHTML']=_0x45706b[_0x216be(0x154)];const _0x1670c3=this[_0x216be(0x164)][_0x216be(0x1cf)][this[_0x216be(0x164)][_0x216be(0x157)]];this[_0x216be(0x1f3)][_0x216be(0x140)]=_0x216be(0x1ee)+(this[_0x216be(0x164)]['currentQuestionIndex']+0x1)+_0x216be(0x16f)+this[_0x216be(0x164)]['questions'][_0x216be(0x158)]+_0x216be(0x18f)+_0x1670c3[_0x216be(0x1ce)]+_0x216be(0x1aa),this[_0x216be(0x120)](_0x45706b[_0x216be(0x113)],{'index':this['currentQuiz']['currentQuestionIndex'],'question':_0x1670c3}),this[_0x216be(0x147)][_0x216be(0x15e)](_0x1670c3[_0x216be(0x1ce)])[_0x216be(0x175)](()=>this[_0x216be(0x147)][_0x216be(0x127)](this[_0x216be(0x164)]));}[_0x4174ec(0x148)](){const _0x36b859=_0x4174ec,_0x38397a={'UEkKh':function(_0x1d4d73,_0x395af8){return _0x1d4d73<_0x395af8;},'vljcJ':function(_0x39679f,_0xb95df5){return _0x39679f-_0xb95df5;}};_0x38397a[_0x36b859(0x141)](this[_0x36b859(0x164)][_0x36b859(0x157)],_0x38397a[_0x36b859(0x1e7)](this[_0x36b859(0x164)][_0x36b859(0x1cf)][_0x36b859(0x158)],0x1))?(this[_0x36b859(0x164)][_0x36b859(0x157)]++,this['speechProcessor']&&this[_0x36b859(0x147)][_0x36b859(0x1fc)]&&this[_0x36b859(0x147)][_0x36b859(0x159)](),this[_0x36b859(0x14e)]()):this['finishQuiz']();}['finishQuiz'](){const _0x471b5f=_0x4174ec,_0x18a0f3={'ddUiB':_0x471b5f(0x1df),'AKtmD':_0x471b5f(0x11d),'oFNPB':_0x471b5f(0x1d7),'eHgFt':_0x471b5f(0x186),'VNRau':_0x471b5f(0x12f)};this[_0x471b5f(0x1f9)][_0x471b5f(0x140)]=_0x471b5f(0x151)+this[_0x471b5f(0x164)][_0x471b5f(0x1cf)][_0x471b5f(0x158)]+_0x471b5f(0x19d)+this[_0x471b5f(0x110)]()+'\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22returnToChatButton\x22\x20class=\x22next-button\x22>Return\x20to\x20Chat</button>\x0a\x20\x20\x20\x20',this[_0x471b5f(0x120)](_0x18a0f3[_0x471b5f(0x18b)],{'questions':this[_0x471b5f(0x164)][_0x471b5f(0x1cf)],'answers':this['currentQuiz'][_0x471b5f(0x1dd)]}),document[_0x471b5f(0x150)]('returnToChatButton')[_0x471b5f(0x1b0)](_0x18a0f3['VNRau'],()=>{const _0x4d48b5=_0x471b5f;this[_0x4d48b5(0x1f9)][_0x4d48b5(0x14f)]['display']=_0x18a0f3['ddUiB'];const _0x55fa33=document[_0x4d48b5(0x150)](_0x4d48b5(0x1d6)),_0x523887=document[_0x4d48b5(0x150)](_0x18a0f3[_0x4d48b5(0x19e)]);if(_0x55fa33)_0x55fa33[_0x4d48b5(0x14f)][_0x4d48b5(0x121)]=_0x18a0f3[_0x4d48b5(0x170)];if(_0x523887)_0x523887['style']['display']=_0x18a0f3[_0x4d48b5(0x170)];this['emit'](_0x4d48b5(0x1b3));});}[_0x4174ec(0x110)](){const _0x534c1c=_0x4174ec,_0x1eaa67={'PzFcE':'No\x20answer\x20provided','aEEmw':function(_0x51a4b4,_0x15cfb8){return _0x51a4b4+_0x15cfb8;},'XExad':_0x534c1c(0x142)};let _0xe8d554='<div\x20class=\x22summary-container\x22>';return this['currentQuiz'][_0x534c1c(0x1cf)][_0x534c1c(0x195)]((_0x5b89f6,_0x1dfaa6)=>{const _0x4b1320=_0x534c1c,_0x462412=this['currentQuiz']['userAnswers'][_0x1dfaa6]||_0x1eaa67['PzFcE'];_0xe8d554+=_0x4b1320(0x1a1)+_0x1eaa67['aEEmw'](_0x1dfaa6,0x1)+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Q:</strong>\x20'+_0x5b89f6[_0x4b1320(0x1ce)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Your\x20answer:</strong>\x20'+_0x462412+_0x4b1320(0x1fd)+_0x5b89f6[_0x4b1320(0x1eb)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20';}),_0xe8d554+=_0x1eaa67[_0x534c1c(0x1bf)],_0xe8d554;}['on'](_0x55849e,_0x5edfb1){const _0x2c01b4=_0x4174ec;return!this['eventListeners'][_0x55849e]&&(this[_0x2c01b4(0x168)][_0x55849e]=[]),this['eventListeners'][_0x55849e][_0x2c01b4(0x1ac)](_0x5edfb1),this;}['off'](_0x411618,_0x2ccacf){const _0x3d3fa3=_0x4174ec;if(!this[_0x3d3fa3(0x168)][_0x411618])return this;return!_0x2ccacf?this[_0x3d3fa3(0x168)][_0x411618]=[]:this['eventListeners'][_0x411618]=this['eventListeners'][_0x411618]['filter'](_0x1f8f9a=>_0x1f8f9a!==_0x2ccacf),this;}[_0x4174ec(0x120)](_0xeb1796,_0x28437e){const _0x1c2afb=_0x4174ec;if(!this[_0x1c2afb(0x168)][_0xeb1796])return;this[_0x1c2afb(0x168)][_0xeb1796][_0x1c2afb(0x195)](_0x52e513=>_0x52e513(_0x28437e));}}