
/*!
Copyright ¬© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
function _0x5f19(_0x1d1c79,_0x15e488){const _0x38f65d=_0x38f6();return _0x5f19=function(_0x5f193d,_0xa4fdf2){_0x5f193d=_0x5f193d-0xe7;let _0x425910=_0x38f65d[_0x5f193d];return _0x425910;},_0x5f19(_0x1d1c79,_0x15e488);}const _0x49e450=_0x5f19;(function(_0x50606b,_0x413745){const _0x30b5ef=_0x5f19,_0x2cdd44=_0x50606b();while(!![]){try{const _0x58e20c=-parseInt(_0x30b5ef(0x1b0))/0x1*(-parseInt(_0x30b5ef(0x1b9))/0x2)+-parseInt(_0x30b5ef(0x19f))/0x3*(-parseInt(_0x30b5ef(0x16e))/0x4)+-parseInt(_0x30b5ef(0x1a4))/0x5*(-parseInt(_0x30b5ef(0xf4))/0x6)+-parseInt(_0x30b5ef(0x13c))/0x7+-parseInt(_0x30b5ef(0x106))/0x8+parseInt(_0x30b5ef(0x192))/0x9*(parseInt(_0x30b5ef(0x195))/0xa)+-parseInt(_0x30b5ef(0x1b5))/0xb*(-parseInt(_0x30b5ef(0x147))/0xc);if(_0x58e20c===_0x413745)break;else _0x2cdd44['push'](_0x2cdd44['shift']());}catch(_0x494054){_0x2cdd44['push'](_0x2cdd44['shift']());}}}(_0x38f6,0x40516));function _0x38f6(){const _0x5e261b=['answer','\x0a\x20\x20\x20\x20\x20\x20<p>Done?</p>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22confirmation-buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22yesButton\x22\x20class=\x22confirm-button\x22>Yes</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22noButton\x22\x20class=\x22confirm-button\x22>No</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','vvRUd','remove','dFzJz','noButton','<span\x20class=\x22interim\x22>','loadCurrentQuestion','correctAnswerDisplay','color','vPEof','fontWeight','nextQuestion','userAnswers','19|16|8|0|10|17|29|23|6|22|32|9|21|30|25|27|2|28|31|14|34|11|15|3|12|13|5|4|26|24|33|1|18|20|7','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Your\x20answer:</strong>\x20','push','533718MglFFw','finishQuiz','nextButton','10ZLDvlH','XueSl','init','style','rGFgD','then','Raw\x20quiz\x20input:','emit','CmVYg','\x0aAnswer.','15YRkNiv','TJdLE','none','feedback','gBYjj','3455pUwupE','question-display','confirmation-prompt','.input-container','replace','missingPoints','fdszY','wordCount','GqVmo','iTNbz','Good!\x20üëç','welcomeScreen','226553MVIZya','rXhhY','Next\x20Question','SCaHi','XkEKI','1067tMtQMi','next-button','animation','\x0aA.','2cxAoWk','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Question\x20','border','ofrnx','ojBxE','appendChild','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Correct\x20answer:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','initializeSpeechManager','pLjwg','questionDisplay','AkgAJ','<span\x20class=\x22highlight\x22>$1</span>','bYOMd','addEventListener','chatContainer','display','No\x20answer\x20provided','error','JWflX','block','filter','vgjWw','enQCy','kbrHC','WEDTE','qEcuL','askForConfirmation','eventListeners','compareAnswer','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Correct\x20answer:</strong>\x20','innerHTML','Psgyk','currentQuestionIndex','<strong>Your\x20answer:</strong>\x20<em>(Speak\x20now...)</em>','WAtso','GqEjn','user-answer-display','CNdPn','</div>','tEyrm','Sorry,\x20there\x20was\x20an\x20error\x20analyzing\x20your\x20answer.','IaUad','add','userAnswerDisplay','correct-answer-display','DTrkX','isQuizFormat','318vSRcAi','DFPhB','isPaused','getAccumulatedText','</p>\x0a\x20\x20\x20\x20','questions','excellent','zwFiL','startConfirmationRecognition','\x0a\x20\x20\x20\x20\x20\x20<h2>Quiz\x20Completed!</h2>\x0a\x20\x20\x20\x20\x20\x20<p>You\x27ve\x20completed\x20all\x20','QuizManager\x20initialized','loader','speakText','‚úÖ\x20Correct\x20Answer\x20being\x20sent\x20for\x20comparison:','accumulatedAnswer','kelGL','3px\x20solid\x20#17a2b8','fShpr','2925984GKShAh','textContent','result-display','quizStarted','aiPwV','log','message','generateResponse','createUIElements','ezKKi','isArray','‚ùå\x20JSON\x20Parse\x20Error:','ROCOm','system','<strong>Your\x20answer:</strong>\x20','bKWEw','‚ú®\x20Parsed\x20Result:','question','nYibo','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Please\x20return\x20a\x20JSON\x20object\x20with\x20the\x20following\x20fields:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20percentageMatch\x20(number):\x20Percentage\x20of\x20key\x20points\x20covered\x20by\x20the\x20user.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20feedback\x20(string):\x20Constructive\x20feedback\x20on\x20strengths\x20and\x20areas\x20to\x20improve.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20missingPoints\x20(array\x20of\x20strings):\x20Key\x20points\x20not\x20mentioned\x20by\x20the\x20user.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20similarities\x20(array\x20of\x20strings):\x20Important\x20points\x20both\x20answers\x20share.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20differences\x20(array\x20of\x20strings):\x20Notable\x20differences\x20in\x20content\x20or\x20emphasis.','object','user','SlobI','RIszL','querySelector','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Q:</strong>\x20','cGJNG','Failed\x20to\x20parse\x20AI\x20response\x20as\x20JSON:','ToTkf','currentQuiz','IGrxu','div','resetAccumulatedText','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22returnToChatButton\x22\x20class=\x22next-button\x22>Return\x20to\x20Chat</button>\x0a\x20\x20\x20\x20','OGlXe','showAutoAdvancePrompt','test','mBxOs','setupEventListeners','pUtTe','Parsed\x20questions:','sxcws','akQyn','Tcfep','blink\x201s\x20infinite','trim','micButton','forEach','JfTWb','quiz-container','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22match-percent\x22>','Jpibe','sualB','wCrZk','1110459jvSZah','extended','classList','returnedToChat','choices','MYaMT','10|11|0|7|9|8|3|2|4|5|12|6|1','gJIOB','parse','yesButton','poor','21108ronYIu','zFEAO','confirmationPrompt','confirmAnswerCompletion','#dc3545','timeoutMessage','some','generateQuizSummary','flex','percentageMatch','zGTdn','content','button','quizCompleted','XAtxz','loaderElement','length','isRecording','LCMsZ','split','lwzEh','startRecording','kZPQY','quizContainer','ROiEZ','WHAkt','insertBefore','\x0a\x20\x20\x20\x20\x20\x20<h2>Question\x20','rYLRz','MpQTb','%\x20Match</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>','yArSr','resultDisplay','createElement','displayResults','Ekvrg','click','You\x20are\x20an\x20advanced\x20answer\x20comparison\x20assistant.\x20Analyze\x20the\x20user\x27s\x20answer\x20against\x20the\x20correct\x20answer\x20by\x20identifying\x20main\x20points,\x20calculating\x20a\x20percentage\x20match,\x20and\x20highlighting\x20similarities\x20and\x20differences.\x20Provide\x20structured\x20feedback\x20in\x20JSON\x20format.','yzxZz','235784bmfOKa','\x0a\x20\x20\x20\x20\x20\x20<h3>Complete\x20Answer:</h3>\x0a\x20\x20\x20\x20\x20\x20<p>','Compare\x20the\x20following\x20answers:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20User\x27s\x20answer:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hnIPd','<div\x20class=\x22summary-container\x22>','speechProcessor','match','bold','explicit','Failed\x20to\x20parse\x20quiz\x20questions:','innerText','stopRecording','Could\x20use\x20AI\x20to\x20extract\x20Q&A\x20pairs\x20from\x20unstructured\x20text','startQuiz','Try\x20again\x20ü§î','getElementById','good','stringify','Excellent!\x20üéâ'];_0x38f6=function(){return _0x5e261b;};return _0x38f6();}import{displayError,Logger}from'./common.js';import{aiAdapter}from'./aiAdapter.js';import{SpeechProcessor}from'./speechProcessor.js';export class QuizManager{constructor(_0x1178c8={}){const _0x28db56=_0x5f19,_0x4594af={'kbrHC':_0x28db56(0x142)},_0x4dc36d=_0x4594af[_0x28db56(0x1d0)][_0x28db56(0x15a)]('|');let _0x2cb8cd=0x0;while(!![]){switch(_0x4dc36d[_0x2cb8cd++]){case'0':this[_0x28db56(0x123)]={'questions':[],'currentQuestionIndex':0x0,'userAnswers':[],'isRecording':![],'recordingTimeout':null,'minimumWordCount':0x5,'wordCount':0x0,'accumulatedAnswer':''};continue;case'1':this['eventListeners']={};continue;case'2':this['correctAnswerDisplay']=null;continue;case'3':this[_0x28db56(0x167)]=null;continue;case'4':this[_0x28db56(0x194)]=null;continue;case'5':this['confirmationPrompt']=null;continue;case'6':this[_0x28db56(0x173)]=null;continue;case'7':this[_0x28db56(0x15e)]=null;continue;case'8':this['userAnswerDisplay']=null;continue;case'9':this[_0x28db56(0x1c2)]=null;continue;case'10':this['showAutoAdvancePrompt']=_0x1178c8['showAutoAdvancePrompt']||null;continue;case'11':this['aiAdapter']=aiAdapter;continue;case'12':this[_0x28db56(0xf6)]=![];continue;}break;}}async['init'](){const _0xdb75c4=_0x5f19,_0x1794b7={'iTNbz':'1|0|2|3|4|5','yArSr':_0xdb75c4(0xff),'Tcfep':_0xdb75c4(0xfe)},_0x557ca2=_0x1794b7[_0xdb75c4(0x1ad)][_0xdb75c4(0x15a)]('|');let _0x25b6a4=0x0;while(!![]){switch(_0x557ca2[_0x25b6a4++]){case'0':this[_0xdb75c4(0x10e)]();continue;case'1':await this['aiAdapter']['init']();continue;case'2':this[_0xdb75c4(0x1c0)]();continue;case'3':this[_0xdb75c4(0x12c)]();continue;case'4':this[_0xdb75c4(0x156)]=document[_0xdb75c4(0x17d)](_0x1794b7[_0xdb75c4(0x166)]);continue;case'5':console['log'](_0x1794b7[_0xdb75c4(0x131)]);continue;}break;}}['createUIElements'](){const _0x292817=_0x5f19,_0x48509c={'WEDTE':_0x292817(0x1a1),'DFPhB':_0x292817(0xf1),'XkEKI':_0x292817(0x125),'GqEjn':_0x292817(0xf0),'DTrkX':'.container','rXhhY':_0x292817(0x1a7),'kZPQY':_0x292817(0x137),'gBYjj':_0x292817(0x167),'vPEof':_0x292817(0x1a6),'uXGCZ':_0x292817(0x194),'enQCy':_0x292817(0x15e),'vvRUd':'questionDisplay','XAtxz':_0x292817(0xe9),'bYOMd':'correctAnswerDisplay','ViNee':_0x292817(0x1a5),'DXdgU':_0x292817(0x153)},_0x2928fe=_0x292817(0x18f)[_0x292817(0x15a)]('|');let _0x58b50d=0x0;while(!![]){switch(_0x2928fe[_0x58b50d++]){case'0':this['quizContainer'][_0x292817(0x198)][_0x292817(0x1c8)]=_0x48509c[_0x292817(0x1d1)];continue;case'1':this[_0x292817(0x15e)][_0x292817(0x1be)](this[_0x292817(0x167)]);continue;case'2':this[_0x292817(0x189)]['classList'][_0x292817(0xef)](_0x48509c[_0x292817(0xf5)]);continue;case'3':this[_0x292817(0x149)]=document['createElement'](_0x48509c[_0x292817(0x1b4)]);continue;case'4':this[_0x292817(0x149)][_0x292817(0x198)]['display']=_0x48509c[_0x292817(0x1d1)];continue;case'5':this[_0x292817(0x149)]['innerHTML']=_0x292817(0x182);continue;case'6':this[_0x292817(0xf0)]['id']=_0x48509c[_0x292817(0xe8)];continue;case'7':document[_0x292817(0x11e)](_0x48509c[_0x292817(0xf2)])[_0x292817(0x161)](this[_0x292817(0x15e)],document[_0x292817(0x11e)](_0x48509c[_0x292817(0x1b1)]));continue;case'8':this[_0x292817(0x15e)]['classList'][_0x292817(0xef)](_0x48509c[_0x292817(0x15d)]);continue;case'9':this['resultDisplay']['id']=_0x48509c[_0x292817(0x1a3)];continue;case'10':this[_0x292817(0x1c2)]=document[_0x292817(0x168)](_0x292817(0x125));continue;case'11':this[_0x292817(0x194)][_0x292817(0x13e)]['add'](_0x292817(0x1b6));continue;case'12':this[_0x292817(0x149)]['id']=_0x292817(0x149);continue;case'13':this[_0x292817(0x149)][_0x292817(0x13e)]['add'](_0x48509c[_0x292817(0x18b)]);continue;case'14':this[_0x292817(0x194)]['id']=_0x48509c['uXGCZ'];continue;case'15':this[_0x292817(0x194)]['style'][_0x292817(0x1c8)]=_0x48509c[_0x292817(0x1d1)];continue;case'16':this[_0x292817(0x15e)]['id']=_0x48509c[_0x292817(0x1cf)];continue;case'17':this[_0x292817(0x1c2)]['id']=_0x48509c[_0x292817(0x183)];continue;case'18':this[_0x292817(0x15e)][_0x292817(0x1be)](this[_0x292817(0x189)]);continue;case'19':this[_0x292817(0x15e)]=document[_0x292817(0x168)](_0x48509c[_0x292817(0x1b4)]);continue;case'20':this[_0x292817(0x15e)][_0x292817(0x1be)](this[_0x292817(0x194)]);continue;case'21':this['resultDisplay']['classList']['add'](_0x292817(0x108));continue;case'22':this['userAnswerDisplay'][_0x292817(0x13e)][_0x292817(0xef)](_0x48509c[_0x292817(0x155)]);continue;case'23':this[_0x292817(0xf0)]=document[_0x292817(0x168)](_0x48509c[_0x292817(0x1b4)]);continue;case'24':this[_0x292817(0x15e)][_0x292817(0x1be)](this[_0x292817(0xf0)]);continue;case'25':this[_0x292817(0x189)]=document[_0x292817(0x168)](_0x48509c[_0x292817(0x1b4)]);continue;case'26':this[_0x292817(0x15e)][_0x292817(0x1be)](this[_0x292817(0x1c2)]);continue;case'27':this[_0x292817(0x189)]['id']=_0x48509c[_0x292817(0x1c5)];continue;case'28':this['correctAnswerDisplay'][_0x292817(0x198)]['display']=_0x48509c[_0x292817(0x1d1)];continue;case'29':this[_0x292817(0x1c2)][_0x292817(0x13e)]['add'](_0x48509c['ViNee']);continue;case'30':this[_0x292817(0x167)][_0x292817(0x198)][_0x292817(0x1c8)]=_0x292817(0x1a1);continue;case'31':this[_0x292817(0x194)]=document[_0x292817(0x168)](_0x48509c['DXdgU']);continue;case'32':this['resultDisplay']=document[_0x292817(0x168)](_0x292817(0x125));continue;case'33':this[_0x292817(0x15e)][_0x292817(0x1be)](this['confirmationPrompt']);continue;case'34':this['nextButton'][_0x292817(0x107)]=_0x292817(0x1b2);continue;}break;}}[_0x49e450(0x1c0)](){const _0x24c8b3=_0x49e450,_0x43e772={'WHAkt':function(_0x25e713,_0x4fff23){return _0x25e713(_0x4fff23);},'ezKKi':function(_0x580248,_0x338f31){return _0x580248===_0x338f31;},'IaUad':_0x24c8b3(0x176),'zvSAm':'auto','TXOHc':function(_0x115a1a,_0x236263){return _0x115a1a===_0x236263;},'bKWEw':_0x24c8b3(0x134),'rGFgD':'recording'};this[_0x24c8b3(0x173)]=new SpeechProcessor({'onResult':(_0x403677,_0x394945)=>{const _0xc095a2=_0x24c8b3;this['userAnswerDisplay'][_0xc095a2(0x1d7)]=_0xc095a2(0x114)+_0x403677+_0xc095a2(0x187)+_0x394945+'</span>';},'onError':_0xf759d4=>{const _0x3b641b=_0x24c8b3;_0x43e772[_0x3b641b(0x160)](displayError,_0xf759d4);},'onSilence':_0xb08403=>{const _0x4de93a=_0x24c8b3;if(_0x43e772[_0x4de93a(0x10f)](_0xb08403,_0x43e772[_0x4de93a(0xee)]))this['confirmAnswerCompletion']();else{if(_0x43e772['ezKKi'](_0xb08403,_0x43e772['zvSAm']))this['confirmAnswerCompletion']();else _0x43e772['TXOHc'](_0xb08403,_0x4de93a(0x13d))&&this['askForConfirmation']();}},'onRecordingStart':()=>{const _0x209f75=_0x24c8b3,_0x548fec=document[_0x209f75(0x17d)](_0x43e772[_0x209f75(0x115)]);_0x548fec&&_0x548fec[_0x209f75(0x13e)]['add'](_0x43e772['rGFgD']);},'onRecordingStop':()=>{const _0x398f3b=_0x24c8b3,_0x2344ab=document[_0x398f3b(0x17d)](_0x43e772[_0x398f3b(0x115)]);_0x2344ab&&_0x2344ab['classList'][_0x398f3b(0x184)](_0x43e772[_0x398f3b(0x199)]);},'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}['setupEventListeners'](){const _0x392f1c=_0x49e450,_0x451580={'kelGL':'click','IGrxu':_0x392f1c(0x145),'fShpr':_0x392f1c(0x186)};this['nextButton']['addEventListener'](_0x451580['kelGL'],()=>{const _0x406452=_0x392f1c;this[_0x406452(0x18d)]();}),document[_0x392f1c(0x17d)](_0x451580[_0x392f1c(0x124)])[_0x392f1c(0x1c6)](_0x451580['kelGL'],()=>{const _0x1db5d3=_0x392f1c;this['confirmationPrompt']['style'][_0x1db5d3(0x1c8)]=_0x1db5d3(0x1a1),this[_0x1db5d3(0x14a)]();}),document[_0x392f1c(0x17d)](_0x451580[_0x392f1c(0x105)])['addEventListener'](_0x451580[_0x392f1c(0x103)],()=>{const _0x680d4f=_0x392f1c;this[_0x680d4f(0x149)][_0x680d4f(0x198)][_0x680d4f(0x1c8)]=_0x680d4f(0x1a1);if(this[_0x680d4f(0x173)])this[_0x680d4f(0x173)][_0x680d4f(0x15c)]();});}[_0x49e450(0x1d3)](){const _0x36072b=_0x49e450,_0xd6ea2d={'ofrnx':_0x36072b(0x1a1),'aiPwV':_0x36072b(0x14c),'akQyn':'block','pLjwg':function(_0x1dece4,_0x3c52b4){return _0x1dece4!==_0x3c52b4;},'vgjWw':_0x36072b(0x104),'hxvKd':_0x36072b(0x132),'yzxZz':_0x36072b(0x14b),'YHbGl':_0x36072b(0x175),'MyAJp':'No\x20response\x20detected.\x20Click\x20Yes\x20or\x20No.','rYLRz':function(_0x339073,_0x3e2d16,_0x15fec4){return _0x339073(_0x3e2d16,_0x15fec4);}};if(this[_0x36072b(0x173)])this[_0x36072b(0x173)]['stopRecording']();this[_0x36072b(0x149)]['style'][_0x36072b(0x1c8)]=_0xd6ea2d[_0x36072b(0x130)],this[_0x36072b(0x149)][_0x36072b(0x198)][_0x36072b(0x1bb)]=_0xd6ea2d[_0x36072b(0x1ce)],this[_0x36072b(0x149)][_0x36072b(0x198)][_0x36072b(0x1b7)]=_0xd6ea2d['hxvKd'];if(!document['getElementById'](_0xd6ea2d[_0x36072b(0x10a)])){const _0x18b3f2=document[_0x36072b(0x168)](_0x36072b(0x125));_0x18b3f2['id']=_0x36072b(0x14c),_0x18b3f2[_0x36072b(0x198)][_0x36072b(0x1c8)]=_0xd6ea2d[_0x36072b(0x1bc)],_0x18b3f2['style'][_0x36072b(0x18a)]=_0xd6ea2d[_0x36072b(0x16d)],_0x18b3f2[_0x36072b(0x198)][_0x36072b(0x18c)]=_0xd6ea2d['YHbGl'],_0x18b3f2[_0x36072b(0x178)]=_0xd6ea2d['MyAJp'],this[_0x36072b(0x149)][_0x36072b(0x1be)](_0x18b3f2);}if(this[_0x36072b(0x173)]){const _0x44393f=this['speechProcessor'][_0x36072b(0xfc)](()=>{const _0x1e4cdb=_0x36072b;this[_0x1e4cdb(0x149)][_0x1e4cdb(0x198)][_0x1e4cdb(0x1c8)]=_0xd6ea2d[_0x1e4cdb(0x1bc)],this['confirmAnswerCompletion']();},()=>{const _0xdc882f=_0x36072b;this['confirmationPrompt'][_0xdc882f(0x198)]['display']=_0xd6ea2d[_0xdc882f(0x1bc)],this[_0xdc882f(0x173)][_0xdc882f(0x15c)]();},()=>{const _0x725733=_0x36072b;this[_0x725733(0x149)][_0x725733(0x198)]['animation']=_0xd6ea2d[_0x725733(0x1bc)],document['getElementById'](_0xd6ea2d[_0x725733(0x10a)])&&(document[_0x725733(0x17d)](_0xd6ea2d['aiPwV'])['style']['display']=_0xd6ea2d['akQyn']);});}_0xd6ea2d[_0x36072b(0x163)](setTimeout,()=>{const _0x4b6347=_0x36072b;if(_0xd6ea2d[_0x4b6347(0x1c1)](this[_0x4b6347(0x149)][_0x4b6347(0x198)][_0x4b6347(0x1c8)],'none')){console[_0x4b6347(0x10b)]('No\x20response\x20detected,\x20resuming\x20recording.'),this['confirmationPrompt'][_0x4b6347(0x198)][_0x4b6347(0x1c8)]=_0xd6ea2d[_0x4b6347(0x1bc)];if(this[_0x4b6347(0x173)])this[_0x4b6347(0x173)][_0x4b6347(0x15c)]();}},0x1b58);}['confirmAnswerCompletion'](){const _0x4b69da=_0x49e450,_0x46b50f={'mvlnL':_0x4b69da(0x1a1)};if(this['speechProcessor'])this[_0x4b69da(0x173)]['stopRecording']();this[_0x4b69da(0x149)][_0x4b69da(0x198)][_0x4b69da(0x1c8)]=_0x46b50f['mvlnL'];const _0x451c9c=(this[_0x4b69da(0x173)]?this[_0x4b69da(0x173)][_0x4b69da(0xf7)]():'')[_0x4b69da(0x1a8)](/done|i am finished|that's all|yes|correct/gi,'')[_0x4b69da(0x133)]();this[_0x4b69da(0x123)][_0x4b69da(0x18e)][this[_0x4b69da(0x123)]['currentQuestionIndex']]=_0x451c9c,this[_0x4b69da(0xf0)]['innerHTML']='<strong>Your\x20answer:</strong>\x20'+_0x451c9c,this[_0x4b69da(0x1d5)](_0x451c9c,this[_0x4b69da(0x123)][_0x4b69da(0xf9)][this[_0x4b69da(0x123)][_0x4b69da(0x1d9)]][_0x4b69da(0x181)]);}async[_0x49e450(0x1d5)](_0xd34d6f,_0x4437c0){const _0x401ae6=_0x49e450,_0x37c394={'MYaMT':_0x401ae6(0x101),'wrDdr':_0x401ae6(0x113),'CNdPn':_0x401ae6(0x16c),'PjbUQ':'üìù\x20Prompt\x20being\x20sent\x20to\x20AI:','cGJNG':_0x401ae6(0xff),'tEyrm':_0x401ae6(0x1a1),'sualB':function(_0x19c60d,_0xedb752){return _0x19c60d===_0xedb752;},'CmVYg':_0x401ae6(0x116),'TJdLE':_0x401ae6(0x111),'fdszY':_0x401ae6(0x121),'zGTdn':_0x401ae6(0xed),'zFEAO':'‚ùå\x20Compare\x20Answer\x20Error:','Ekvrg':'Answer\x20comparison\x20error:'};await this['aiAdapter'][_0x401ae6(0x197)](),console[_0x401ae6(0x10b)]('üí¨\x20User\x20Answer\x20being\x20sent\x20for\x20comparison:',_0xd34d6f),console[_0x401ae6(0x10b)](_0x37c394[_0x401ae6(0x141)],_0x4437c0);try{const _0x3c3328=JSON[_0x401ae6(0x17f)]([{'role':_0x37c394['wrDdr'],'content':_0x37c394[_0x401ae6(0xea)]},{'role':_0x401ae6(0x11b),'content':_0x401ae6(0x170)+_0xd34d6f+_0x401ae6(0x1bf)+_0x4437c0+_0x401ae6(0x119)}]);console[_0x401ae6(0x10b)](_0x37c394['PjbUQ'],_0x3c3328);const _0x1c05f2=document[_0x401ae6(0x17d)](_0x37c394[_0x401ae6(0x120)]);if(_0x1c05f2)_0x1c05f2['style'][_0x401ae6(0x1c8)]='block';const _0x3256b3=await aiAdapter[_0x401ae6(0x10d)](_0x3c3328);let _0x3a56bc=_0x3256b3[_0x401ae6(0x140)][0x0][_0x401ae6(0x10c)][_0x401ae6(0x152)];if(_0x1c05f2)_0x1c05f2['style'][_0x401ae6(0x1c8)]=_0x37c394[_0x401ae6(0xec)];try{_0x37c394[_0x401ae6(0x13a)](typeof _0x3a56bc,_0x401ae6(0x11a))?console['log']('üõë\x20cleanedResponse\x20is\x20already\x20an\x20object,\x20skipping\x20JSON.parse.'):(_0x3a56bc=JSON[_0x401ae6(0x144)](_0x3a56bc),console['log'](_0x37c394[_0x401ae6(0x19d)],_0x3a56bc)),this['displayResults'](_0x3a56bc);}catch(_0x20174a){console[_0x401ae6(0x1ca)](_0x37c394[_0x401ae6(0x1a0)],_0x20174a),Logger['error'](_0x37c394[_0x401ae6(0x1aa)],_0x20174a),this[_0x401ae6(0x169)]({'percentageMatch':0x0,'feedback':_0x37c394[_0x401ae6(0x151)],'missingPoints':[]});}}catch(_0x1a8985){console['error'](_0x37c394[_0x401ae6(0x148)],_0x1a8985);const _0x158be7=document[_0x401ae6(0x17d)](_0x37c394[_0x401ae6(0x120)]);if(_0x158be7)_0x158be7[_0x401ae6(0x198)][_0x401ae6(0x1c8)]=_0x37c394['tEyrm'];Logger[_0x401ae6(0x1ca)](_0x37c394[_0x401ae6(0x16a)],_0x1a8985),this['displayResults']({'percentageMatch':0x0,'feedback':_0x37c394[_0x401ae6(0x151)],'missingPoints':[]});}}['displayResults'](_0x37ab05){const _0x2a4238=_0x49e450,_0x1c39b7={'pUtTe':'\x5c$&','SCaHi':_0x2a4238(0x1c4),'WAtso':'block','gJIOB':function(_0x3fd740,_0x19ba0a){return _0x3fd740>=_0x19ba0a;},'AkgAJ':_0x2a4238(0x180),'JqGra':_0x2a4238(0xfa),'zwFiL':_0x2a4238(0x1ae),'ftjmL':'OK\x20üëå','OGlXe':_0x2a4238(0x17c),'sxcws':_0x2a4238(0x146),'lwzEh':function(_0x2167ab,_0x342f14){return _0x2167ab>_0x342f14;},'fmpxN':function(_0x449ca2,_0x5571b1){return _0x449ca2<_0x5571b1;},'Psgyk':function(_0x347c19,_0x1f5e0c){return _0x347c19-_0x1f5e0c;},'GqVmo':function(_0x4a3171,_0x288974,_0x522389){return _0x4a3171(_0x288974,_0x522389);}};this[_0x2a4238(0x167)][_0x2a4238(0x198)]['display']=_0x1c39b7[_0x2a4238(0xe7)],this['correctAnswerDisplay'][_0x2a4238(0x198)][_0x2a4238(0x1c8)]=_0x1c39b7[_0x2a4238(0xe7)],this['nextButton'][_0x2a4238(0x198)][_0x2a4238(0x1c8)]=_0x2a4238(0x1cc);let _0x23d173='',_0x294f1e='';if(_0x1c39b7[_0x2a4238(0x143)](_0x37ab05[_0x2a4238(0x150)],0x5a))_0x23d173=_0x1c39b7[_0x2a4238(0x1c3)],_0x294f1e=_0x1c39b7['JqGra'];else{if(_0x1c39b7[_0x2a4238(0x143)](_0x37ab05['percentageMatch'],0x50))_0x23d173=_0x1c39b7[_0x2a4238(0xfb)],_0x294f1e=_0x2a4238(0x17e);else _0x1c39b7[_0x2a4238(0x143)](_0x37ab05[_0x2a4238(0x150)],0x32)?(_0x23d173=_0x1c39b7['ftjmL'],_0x294f1e='ok'):(_0x23d173=_0x1c39b7[_0x2a4238(0x128)],_0x294f1e=_0x1c39b7[_0x2a4238(0x12f)]);}this[_0x2a4238(0x167)]['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22rating\x20'+_0x294f1e+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>'+_0x23d173+_0x2a4238(0x138)+Math['round'](_0x37ab05['percentageMatch'])+_0x2a4238(0x165)+_0x37ab05[_0x2a4238(0x1a2)]+'</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';let _0x22893d=this['currentQuiz'][_0x2a4238(0xf9)][this['currentQuiz']['currentQuestionIndex']][_0x2a4238(0x181)];_0x37ab05[_0x2a4238(0x1a9)]&&_0x1c39b7[_0x2a4238(0x15b)](_0x37ab05[_0x2a4238(0x1a9)][_0x2a4238(0x157)],0x0)&&_0x37ab05[_0x2a4238(0x1a9)]['forEach'](_0x4d0071=>{const _0x55b2ae=_0x2a4238,_0x446ff9=new RegExp('('+_0x4d0071['replace'](/[.*+?^${}()|[\]\\]/g,_0x1c39b7[_0x55b2ae(0x12d)])+')','gi');_0x22893d=_0x22893d[_0x55b2ae(0x1a8)](_0x446ff9,_0x1c39b7[_0x55b2ae(0x1b3)]);}),this[_0x2a4238(0x189)]['innerHTML']=_0x2a4238(0x16f)+_0x22893d+_0x2a4238(0xf8),_0x1c39b7['fmpxN'](this['currentQuiz'][_0x2a4238(0x1d9)],_0x1c39b7[_0x2a4238(0x1d8)](this[_0x2a4238(0x123)][_0x2a4238(0xf9)][_0x2a4238(0x157)],0x1))&&_0x1c39b7[_0x2a4238(0x1ac)](setTimeout,()=>{const _0x3838ad=_0x2a4238;if(this['showAutoAdvancePrompt'])this[_0x3838ad(0x129)]();},0x3e8);}[_0x49e450(0xf3)](_0x4fce58){const _0x2f1565=_0x49e450,_0xff846f=[/Q\d*\s*[:.-]\s*.*\s*A\s*[:.-]/i,/\d+\s*[).]\s*.*\s*Answer\s*[:.-]/i,/Question\s*\d+\s*[:.-]/i,/\b[Qq]uestion\b.*\b[Aa]nswer\b/];return _0xff846f[_0x2f1565(0x14d)](_0x4e52da=>_0x4e52da[_0x2f1565(0x12a)](_0x4fce58));}['parseQuizQuestions'](_0x3e3eb4){const _0x2204f2=_0x49e450,_0x34290c={'SlobI':function(_0x116f22,_0x345eef){return _0x116f22&&_0x345eef;},'qEcuL':function(_0x38ab03,_0x2febd4){return _0x38ab03>_0x2febd4;},'MpQTb':'Answer:','lVOCS':_0x2204f2(0x1b8),'bfqTa':function(_0x5d9e8f,_0x4a68a0){return _0x5d9e8f===_0x4a68a0;},'ROCOm':_0x2204f2(0x12e),'swfDl':_0x2204f2(0x177)};console[_0x2204f2(0x10b)](_0x2204f2(0x19b),_0x3e3eb4);try{try{const _0x1b8ee1=JSON[_0x2204f2(0x144)](_0x3e3eb4);if(Array[_0x2204f2(0x110)](_0x1b8ee1)&&_0x34290c[_0x2204f2(0x1d2)](_0x1b8ee1[_0x2204f2(0x157)],0x0)&&_0x1b8ee1[0x0]['question']&&_0x1b8ee1[0x0][_0x2204f2(0x181)])return _0x1b8ee1;}catch(_0x4c6ade){}const _0x3ba9f4=[],_0x125080=_0x3e3eb4['match'](/(?:Q:|Question:?|^\d+\.?)\s*(.+?)(?:A:|Answer:?)\s*(.+?)(?=(?:Q:|Question:?|^\d+\.?)|$)/gis);_0x125080&&_0x125080['length']>0x0&&_0x125080['forEach'](_0x4cff38=>{const _0x2dc00f=_0x2204f2,_0x39422f=_0x4cff38[_0x2dc00f(0x174)](/(?:Q:|Question:?|^\d+\.?)\s*(.+?)(?=A:|Answer:?)/is),_0x2d0945=_0x4cff38[_0x2dc00f(0x174)](/(?:A:|Answer:?)\s*(.+?)$/is);_0x34290c[_0x2dc00f(0x11c)](_0x39422f,_0x2d0945)&&_0x3ba9f4[_0x2dc00f(0x191)]({'question':_0x39422f[0x1][_0x2dc00f(0x133)](),'answer':_0x2d0945[0x1][_0x2dc00f(0x133)]()});});if(_0x3ba9f4[_0x2204f2(0x157)]===0x0){const _0xe8de4d=_0x3e3eb4['split'](/\n\s*\n|\d+\s*[).]|\bQ\d*\s*[:.]/);for(let _0x1fbe1a=0x0;_0x1fbe1a<_0xe8de4d['length'];_0x1fbe1a++){const _0x48d354=_0xe8de4d[_0x1fbe1a][_0x2204f2(0x133)]();if(!_0x48d354)continue;const _0x4e45f4=[_0x34290c[_0x2204f2(0x164)],'A:',_0x34290c['lVOCS'],_0x2204f2(0x19e)];let _0x14f152=_0x48d354,_0x2aa4bc='';for(const _0x25bc2e of _0x4e45f4){if(_0x48d354['includes'](_0x25bc2e)){const _0x4123e6=_0x48d354['split'](_0x25bc2e);_0x14f152=_0x4123e6[0x0][_0x2204f2(0x133)](),_0x2aa4bc=_0x4123e6[0x1][_0x2204f2(0x133)]();break;}}_0x34290c[_0x2204f2(0x11c)](_0x14f152,_0x2aa4bc)&&_0x3ba9f4['push']({'question':_0x14f152,'answer':_0x2aa4bc});}}return _0x34290c['bfqTa'](_0x3ba9f4[_0x2204f2(0x157)],0x0)&&aiLanguageSession&&console[_0x2204f2(0x10b)](_0x2204f2(0x17a)),console[_0x2204f2(0x10b)](_0x34290c[_0x2204f2(0x112)],_0x3ba9f4),_0x3ba9f4;}catch(_0x248e5a){return Logger[_0x2204f2(0x1ca)](_0x34290c['swfDl'],_0x248e5a),console['log'](_0x34290c['swfDl'],_0x248e5a),null;}}[_0x49e450(0x17b)](_0x5aa0af){const _0x590672=_0x49e450,_0x463a25={'ojBxE':'chatContainer','XueSl':'none','hnIPd':'block','EvwHe':_0x590672(0x109)};this[_0x590672(0x123)]={'questions':_0x5aa0af,'currentQuestionIndex':0x0,'userAnswers':Array(_0x5aa0af[_0x590672(0x157)])['fill'](''),'isRecording':![],'recordingTimeout':null,'minimumWordCount':0x5,'wordCount':0x0,'accumulatedAnswer':''};const _0x415c09=document['getElementById'](_0x590672(0x1af)),_0x4ae259=document[_0x590672(0x17d)](_0x463a25[_0x590672(0x1bd)]);if(_0x415c09)_0x415c09['style'][_0x590672(0x1c8)]=_0x463a25[_0x590672(0x196)];if(_0x4ae259)_0x4ae259[_0x590672(0x198)][_0x590672(0x1c8)]=_0x463a25['XueSl'];this[_0x590672(0x15e)][_0x590672(0x198)][_0x590672(0x1c8)]=_0x463a25[_0x590672(0x171)],this[_0x590672(0x19c)](_0x463a25['EvwHe'],_0x5aa0af),this[_0x590672(0x188)]();}[_0x49e450(0x188)](){const _0x49de73=_0x49e450,_0x38bf73={'mBxOs':_0x49de73(0x1a1),'dFzJz':_0x49de73(0x1da),'ToTkf':function(_0x5b68a2,_0x5a7ee4){return _0x5b68a2+_0x5a7ee4;},'nYibo':'questionLoaded'};this[_0x49de73(0x167)][_0x49de73(0x198)]['display']=_0x38bf73['mBxOs'],this[_0x49de73(0x189)][_0x49de73(0x198)]['display']=_0x38bf73[_0x49de73(0x12b)],this[_0x49de73(0x194)][_0x49de73(0x198)]['display']=_0x38bf73[_0x49de73(0x12b)],this[_0x49de73(0x149)][_0x49de73(0x198)][_0x49de73(0x1c8)]=_0x49de73(0x1a1),this[_0x49de73(0x123)][_0x49de73(0x102)]='',this['currentQuiz'][_0x49de73(0x1ab)]=0x0;this[_0x49de73(0x173)]&&this[_0x49de73(0x173)][_0x49de73(0x126)]();this[_0x49de73(0xf0)]['innerHTML']=_0x38bf73[_0x49de73(0x185)];const _0x42ed49=this[_0x49de73(0x123)][_0x49de73(0xf9)][this['currentQuiz']['currentQuestionIndex']];this[_0x49de73(0x1c2)]['innerHTML']=_0x49de73(0x162)+_0x38bf73[_0x49de73(0x122)](this[_0x49de73(0x123)][_0x49de73(0x1d9)],0x1)+'\x20of\x20'+this['currentQuiz'][_0x49de73(0xf9)][_0x49de73(0x157)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20<p>'+_0x42ed49['question']+_0x49de73(0xf8),this[_0x49de73(0x19c)](_0x38bf73[_0x49de73(0x118)],{'index':this['currentQuiz']['currentQuestionIndex'],'question':_0x42ed49}),this[_0x49de73(0x173)][_0x49de73(0x100)](_0x42ed49['question'])[_0x49de73(0x19a)](()=>this[_0x49de73(0x173)]['startRecording'](this[_0x49de73(0x123)]));}['nextQuestion'](){const _0x539711=_0x49e450,_0x4c758f={'qTbeT':function(_0xbcdcc7,_0x9bfc3f){return _0xbcdcc7<_0x9bfc3f;},'RIszL':function(_0x49906f,_0x423781){return _0x49906f-_0x423781;}};_0x4c758f['qTbeT'](this[_0x539711(0x123)][_0x539711(0x1d9)],_0x4c758f[_0x539711(0x11d)](this['currentQuiz'][_0x539711(0xf9)][_0x539711(0x157)],0x1))?(this['currentQuiz'][_0x539711(0x1d9)]++,this[_0x539711(0x173)]&&this[_0x539711(0x173)][_0x539711(0x158)]&&this['speechProcessor'][_0x539711(0x179)](),this[_0x539711(0x188)]()):this[_0x539711(0x193)]();}[_0x49e450(0x193)](){const _0x36a94b=_0x49e450,_0x2a1d82={'JfTWb':'none','Jpibe':_0x36a94b(0x1c7),'LCMsZ':_0x36a94b(0x14f),'UExfG':_0x36a94b(0x154),'QEjVZ':_0x36a94b(0x16b)};this[_0x36a94b(0x15e)][_0x36a94b(0x1d7)]=_0x36a94b(0xfd)+this[_0x36a94b(0x123)][_0x36a94b(0xf9)][_0x36a94b(0x157)]+'\x20questions.</p>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-summary\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+this['generateQuizSummary']()+_0x36a94b(0x127),this[_0x36a94b(0x19c)](_0x2a1d82['UExfG'],{'questions':this[_0x36a94b(0x123)][_0x36a94b(0xf9)],'answers':this[_0x36a94b(0x123)][_0x36a94b(0x18e)]}),document['getElementById']('returnToChatButton')[_0x36a94b(0x1c6)](_0x2a1d82['QEjVZ'],()=>{const _0x4f1139=_0x36a94b;this[_0x4f1139(0x15e)]['style'][_0x4f1139(0x1c8)]=_0x2a1d82[_0x4f1139(0x136)];const _0x496a8=document[_0x4f1139(0x17d)](_0x2a1d82[_0x4f1139(0x139)]),_0x3b45b0=document['getElementById']('welcomeScreen');if(_0x496a8)_0x496a8[_0x4f1139(0x198)][_0x4f1139(0x1c8)]=_0x4f1139(0x14f);if(_0x3b45b0)_0x3b45b0['style']['display']=_0x2a1d82[_0x4f1139(0x159)];this[_0x4f1139(0x19c)](_0x4f1139(0x13f));});}[_0x49e450(0x14e)](){const _0x235108=_0x49e450,_0x38eb2c={'wCrZk':_0x235108(0x1c9),'JWflX':function(_0x556f4e,_0x46494a){return _0x556f4e+_0x46494a;},'ROiEZ':_0x235108(0x172)};let _0x19b7b5=_0x38eb2c[_0x235108(0x15f)];return this['currentQuiz']['questions'][_0x235108(0x135)]((_0x116b41,_0x45c60e)=>{const _0x3e21e2=_0x235108,_0x3d1ea3=this[_0x3e21e2(0x123)][_0x3e21e2(0x18e)][_0x45c60e]||_0x38eb2c[_0x3e21e2(0x13b)];_0x19b7b5+=_0x3e21e2(0x1ba)+_0x38eb2c[_0x3e21e2(0x1cb)](_0x45c60e,0x1)+_0x3e21e2(0x11f)+_0x116b41[_0x3e21e2(0x117)]+_0x3e21e2(0x190)+_0x3d1ea3+_0x3e21e2(0x1d6)+_0x116b41[_0x3e21e2(0x181)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20';}),_0x19b7b5+=_0x235108(0xeb),_0x19b7b5;}['on'](_0x2d9a59,_0x12ca13){const _0x1f5459=_0x49e450;return!this[_0x1f5459(0x1d4)][_0x2d9a59]&&(this[_0x1f5459(0x1d4)][_0x2d9a59]=[]),this['eventListeners'][_0x2d9a59][_0x1f5459(0x191)](_0x12ca13),this;}['off'](_0x5b6922,_0x117d5a){const _0x1e9743=_0x49e450;if(!this[_0x1e9743(0x1d4)][_0x5b6922])return this;return!_0x117d5a?this['eventListeners'][_0x5b6922]=[]:this[_0x1e9743(0x1d4)][_0x5b6922]=this['eventListeners'][_0x5b6922][_0x1e9743(0x1cd)](_0x29f763=>_0x29f763!==_0x117d5a),this;}[_0x49e450(0x19c)](_0x50222f,_0x5beafa){const _0x2b71e7=_0x49e450;if(!this[_0x2b71e7(0x1d4)][_0x50222f])return;this[_0x2b71e7(0x1d4)][_0x50222f][_0x2b71e7(0x135)](_0x557f7b=>_0x557f7b(_0x5beafa));}}