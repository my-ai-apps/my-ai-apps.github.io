
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
function _0x4841(_0x47e832,_0x4f893a){const _0x39ae7c=_0x39ae();return _0x4841=function(_0x48419a,_0x4abb94){_0x48419a=_0x48419a-0x1a5;let _0x1e151c=_0x39ae7c[_0x48419a];return _0x1e151c;},_0x4841(_0x47e832,_0x4f893a);}const _0x40635f=_0x4841;(function(_0x3f721f,_0x53abba){const _0x1313e0=_0x4841,_0xe23a03=_0x3f721f();while(!![]){try{const _0x273512=-parseInt(_0x1313e0(0x1d7))/0x1+parseInt(_0x1313e0(0x1ee))/0x2*(-parseInt(_0x1313e0(0x1f0))/0x3)+parseInt(_0x1313e0(0x1bd))/0x4+parseInt(_0x1313e0(0x1c0))/0x5+-parseInt(_0x1313e0(0x20c))/0x6+parseInt(_0x1313e0(0x1df))/0x7+-parseInt(_0x1313e0(0x1d8))/0x8*(-parseInt(_0x1313e0(0x1a8))/0x9);if(_0x273512===_0x53abba)break;else _0xe23a03['push'](_0xe23a03['shift']());}catch(_0x38569d){_0xe23a03['push'](_0xe23a03['shift']());}}}(_0x39ae,0xa3d87));import{Logger}from'./common.js';function _0x39ae(){const _0x27853c=['jlmMZ','15893847rFblgM','cancel','resetAccumulatedText','yes','handleRecognitionError','length','pvQyg','Ycksk','zRpeG','toLowerCase','onerror','sRXrq','interimResults','recognition','3|4|1|2|0','speechSynthesis','minimumWordCount','auto','yxeLw','log','extendedSilenceTimeout','2155336DjKqnR','accumulatedText','startConfirmationRecognition','2622300FApoyz','webkitSpeechRecognition','Speech\x20processor\x20state\x20reset','results','lang','bind','interimTranscript','DfrdI','explicit','AxTnK','PgPSQ','find','isRecording','split','onend','extendedSilenceTimer','YJvxu','TFQDz','onError','handleRecognitionEnd','voice','resultIndex','name','1125813Vcchfd','8dWBUDE','i\x20am\x20finished','wCHsz','volume','onresult','stop','Recording\x20stopped','1629446rzUhoh','Speech\x20synthesis\x20not\x20supported\x20in\x20this\x20browser','recordingTimeout','rate','resetIdleTimer','ADxkZ','baqqZ','resolve','speakText','Failed\x20to\x20start\x20recording:','mpUSD','Text-to-speech\x20is\x20not\x20supported\x20in\x20your\x20browser.\x20Please\x20try\x20using\x20Chrome,\x20Edge,\x20or\x20Safari.','done','confidence','cWfNb','22Utrhva','Speech\x20recognition\x20error:\x20','181107TbwkQR','handleError','error','silenceTimeout','continuous','isFinal','stopRecording','QXvee','getVoices','initializeSpeechSynthesis','en-US','getAccumulatedText','KRDAK','HUVwY','filter','onRecordingStop','onResult','SpeechRecognition','HtcFz','handleRecognitionResult','initializeSpeechRecognition','warn','includes','start','Failed\x20to\x20start\x20speech\x20recognition.\x20Please\x20try\x20again.','eaEzY','Female','onRecordingStart','3606432jkTHEr','3|2|5|1|0|4','pitch','onSilence','getWordCount','wqPZN','mmCod','Word\x20count\x20updated:','mbEVQ','eCiIa','QUVPZ','updateMinimumWordCount','wordCount'];_0x39ae=function(){return _0x27853c;};return _0x39ae();}export class SpeechProcessor{constructor(_0x38c7ea={}){const _0x16fc35=_0x4841,_0x9bfb61={'baqqZ':function(_0xcd45fb,_0x7a929b){return _0xcd45fb in _0x7a929b;}};this[_0x16fc35(0x1b5)]=null,this['isRecording']=![],this['recordingTimeout']=null,this[_0x16fc35(0x200)]=_0x38c7ea[_0x16fc35(0x200)]||null,this['onError']=_0x38c7ea['onError']||null,this['onSilence']=_0x38c7ea['onSilence']||null,this[_0x16fc35(0x20b)]=_0x38c7ea[_0x16fc35(0x20b)]||null,this[_0x16fc35(0x1ff)]=_0x38c7ea['onRecordingStop']||null,this[_0x16fc35(0x1be)]='',this[_0x16fc35(0x1a6)]=0x0,this['minimumWordCount']=_0x38c7ea[_0x16fc35(0x1b8)]||0x5,this[_0x16fc35(0x1f3)]=_0x38c7ea[_0x16fc35(0x1f3)]||0xbb8,this[_0x16fc35(0x1bc)]=_0x38c7ea[_0x16fc35(0x1bc)]||0x1770,this['speechSynthesis']=_0x9bfb61[_0x16fc35(0x1e5)]('speechSynthesis',window)?window[_0x16fc35(0x1b7)]:null,this[_0x16fc35(0x204)]();}['initializeSpeechRecognition'](){const _0x2ea7c1=_0x4841,_0x36c9ac={'sRXrq':function(_0x835f3e,_0xb3b42d){return _0x835f3e in _0xb3b42d;},'AxTnK':'SpeechRecognition','mpUSD':function(_0x1c5246,_0x5f3268){return _0x1c5246 in _0x5f3268;},'jlmMZ':_0x2ea7c1(0x1c1),'ADxkZ':'2|1|6|5|0|3|4','DfrdI':_0x2ea7c1(0x1fa),'wqPZN':'Speech\x20recognition\x20is\x20not\x20supported\x20in\x20your\x20browser.\x20Please\x20try\x20using\x20Chrome,\x20Edge,\x20or\x20Safari.'};if(_0x36c9ac[_0x2ea7c1(0x1b3)](_0x36c9ac[_0x2ea7c1(0x1c9)],window)||_0x36c9ac[_0x2ea7c1(0x1e9)](_0x36c9ac[_0x2ea7c1(0x1a7)],window)){const _0x4437b5=_0x36c9ac[_0x2ea7c1(0x1e4)]['split']('|');let _0x4a9159=0x0;while(!![]){switch(_0x4437b5[_0x4a9159++]){case'0':this[_0x2ea7c1(0x1b5)]['onresult']=this[_0x2ea7c1(0x203)]['bind'](this);continue;case'1':this[_0x2ea7c1(0x1b5)]['continuous']=!![];continue;case'2':this[_0x2ea7c1(0x1b5)]=new(window[(_0x2ea7c1(0x201))]||window[(_0x2ea7c1(0x1c1))])();continue;case'3':this['recognition'][_0x2ea7c1(0x1b2)]=this[_0x2ea7c1(0x1ac)][_0x2ea7c1(0x1c5)](this);continue;case'4':this['recognition']['onend']=this['handleRecognitionEnd']['bind'](this);continue;case'5':this[_0x2ea7c1(0x1b5)][_0x2ea7c1(0x1c4)]=_0x36c9ac[_0x2ea7c1(0x1c7)];continue;case'6':this[_0x2ea7c1(0x1b5)][_0x2ea7c1(0x1b4)]=!![];continue;}break;}}else this[_0x2ea7c1(0x1f1)](_0x36c9ac[_0x2ea7c1(0x211)]);}[_0x40635f(0x1f9)](){const _0xe78955=_0x40635f,_0x286eb5={'mbEVQ':function(_0x3f9516,_0x12fa02){return _0x3f9516 in _0x12fa02;},'KRDAK':'speechSynthesis','kVsgR':_0xe78955(0x1e0),'NERjj':_0xe78955(0x1ea)};_0x286eb5[_0xe78955(0x214)](_0x286eb5[_0xe78955(0x1fc)],window)?this[_0xe78955(0x1b7)]=window[_0xe78955(0x1b7)]:(Logger[_0xe78955(0x1f2)](_0x286eb5['kVsgR']),this['onError']&&this[_0xe78955(0x1d2)](_0x286eb5['NERjj']));}['handleRecognitionResult'](_0x298dbf){const _0x225963=_0x40635f,_0x22fef1={'QUVPZ':function(_0x7fbcb3,_0x37de3c){return _0x7fbcb3<_0x37de3c;},'cWfNb':function(_0x2400d2,_0x576006){return _0x2400d2>_0x576006;},'QXvee':function(_0x4ce862,_0x411d91){return _0x4ce862+_0x411d91;},'wCHsz':_0x225963(0x213),'mmCod':_0x225963(0x1eb),'Ycksk':_0x225963(0x1d9),'eCiIa':'that\x27s\x20all','HUVwY':_0x225963(0x1c8)};let _0x379cee='',_0x40e6d6='';for(let _0x4c2206=_0x298dbf[_0x225963(0x1d5)];_0x22fef1[_0x225963(0x216)](_0x4c2206,_0x298dbf[_0x225963(0x1c3)]['length']);_0x4c2206++){const _0x403c3f=_0x298dbf[_0x225963(0x1c3)][_0x4c2206][0x0]['transcript'];_0x298dbf[_0x225963(0x1c3)][_0x4c2206][_0x225963(0x1f5)]?_0x40e6d6+=_0x403c3f:_0x379cee+=_0x403c3f;}_0x40e6d6&&(_0x22fef1[_0x225963(0x1ed)](this[_0x225963(0x1be)][_0x225963(0x1ad)],0x0)?this[_0x225963(0x1be)]+=_0x22fef1[_0x225963(0x1f7)]('\x20',_0x40e6d6):this['accumulatedText']=_0x40e6d6,this[_0x225963(0x1be)]=this[_0x225963(0x1be)]['trim'](),this[_0x225963(0x1a6)]=this[_0x225963(0x1be)][_0x225963(0x1cd)](/\s+/)[_0x225963(0x1fe)](_0x59bfb5=>_0x59bfb5['length']>0x0)[_0x225963(0x1ad)],console[_0x225963(0x1bb)](_0x22fef1[_0x225963(0x1da)],this[_0x225963(0x1a6)])),this[_0x225963(0x200)]&&this[_0x225963(0x200)](this['accumulatedText'],_0x379cee,_0x40e6d6),this[_0x225963(0x1e3)](),(_0x40e6d6[_0x225963(0x1b1)]()[_0x225963(0x206)](_0x22fef1[_0x225963(0x212)])||_0x40e6d6[_0x225963(0x1b1)]()[_0x225963(0x206)](_0x22fef1[_0x225963(0x1af)])||_0x40e6d6[_0x225963(0x1b1)]()[_0x225963(0x206)](_0x22fef1[_0x225963(0x215)]))&&(this[_0x225963(0x20f)]&&this['onSilence'](_0x22fef1[_0x225963(0x1fd)]));}['handleRecognitionError'](_0x6642e3){const _0x4074c1=_0x40635f;this[_0x4074c1(0x1f1)](_0x4074c1(0x1ef)+_0x6642e3[_0x4074c1(0x1f2)]),this[_0x4074c1(0x1f6)]();}[_0x40635f(0x1d3)](){const _0x24bc3e=_0x40635f;if(this[_0x24bc3e(0x1cc)])this[_0x24bc3e(0x1b5)][_0x24bc3e(0x207)]();}['startRecording'](){const _0x35f6e9=_0x40635f,_0x1b7123={'DTXJO':_0x35f6e9(0x20d),'BYhqo':_0x35f6e9(0x1e8),'TFQDz':_0x35f6e9(0x208)};if(!this['recognition'])this['initializeSpeechRecognition']();try{const _0x2db8f7=_0x1b7123['DTXJO']['split']('|');let _0x535491=0x0;while(!![]){switch(_0x2db8f7[_0x535491++]){case'0':this[_0x35f6e9(0x1e3)]();continue;case'1':if(this[_0x35f6e9(0x20b)])this['onRecordingStart']();continue;case'2':this[_0x35f6e9(0x1b5)]['start']();continue;case'3':this[_0x35f6e9(0x1aa)]();continue;case'4':console[_0x35f6e9(0x1bb)]('Recording\x20started');continue;case'5':this[_0x35f6e9(0x1cc)]=!![];continue;}break;}}catch(_0x3d40f3){console[_0x35f6e9(0x1f2)](_0x1b7123['BYhqo'],_0x3d40f3),this[_0x35f6e9(0x1f1)](_0x1b7123[_0x35f6e9(0x1d1)]);}}['stopRecording'](){const _0x2fa48a=_0x40635f,_0x3d850b={'Doron':_0x2fa48a(0x1b6),'PgPSQ':_0x2fa48a(0x1de)};if(this['recognition']){const _0x7ad06a=_0x3d850b['Doron'][_0x2fa48a(0x1cd)]('|');let _0x20bf83=0x0;while(!![]){switch(_0x7ad06a[_0x20bf83++]){case'0':console['log'](_0x3d850b[_0x2fa48a(0x1ca)]);continue;case'1':if(this[_0x2fa48a(0x1ff)])this[_0x2fa48a(0x1ff)]();continue;case'2':this[_0x2fa48a(0x1e1)]&&(clearTimeout(this['recordingTimeout']),this['recordingTimeout']=null);continue;case'3':this[_0x2fa48a(0x1b5)][_0x2fa48a(0x1dd)]();continue;case'4':this[_0x2fa48a(0x1cc)]=![];continue;}break;}}}[_0x40635f(0x1e3)](){const _0x44fc15=_0x40635f,_0x44a0c2={'YJvxu':function(_0x43e5a4,_0x36f4d9){return _0x43e5a4>=_0x36f4d9;}};this[_0x44fc15(0x1e1)]&&clearTimeout(this[_0x44fc15(0x1e1)]),this[_0x44fc15(0x1e1)]=setTimeout(()=>{const _0x104c5b=_0x44fc15;_0x44a0c2[_0x104c5b(0x1d0)](this[_0x104c5b(0x1a6)],this[_0x104c5b(0x1b8)])?this['onSilence']?.(_0x104c5b(0x1b9)):this['recordingTimeout']=setTimeout(()=>this[_0x104c5b(0x20f)]?.('extended'),this[_0x104c5b(0x1f3)]);},this[_0x44fc15(0x1f3)]);}[_0x40635f(0x1a5)](_0x43ef29){const _0x3795e9=_0x40635f;this[_0x3795e9(0x1b8)]=_0x43ef29;}[_0x40635f(0x1aa)](){const _0x2f9293=_0x40635f;this[_0x2f9293(0x1be)]='',this[_0x2f9293(0x1a6)]=0x0;}['getAccumulatedText'](){const _0x122354=_0x40635f;return this[_0x122354(0x1be)];}[_0x40635f(0x210)](){const _0x2dc800=_0x40635f;return this[_0x2dc800(0x1a6)];}[_0x40635f(0x1e7)](_0x50c386){const _0x469407=_0x40635f;if(!this[_0x469407(0x1b7)])this['initializeSpeechSynthesis']();if(this['speechSynthesis']){this[_0x469407(0x1b7)][_0x469407(0x1a9)]();const _0x4f1c5e=new SpeechSynthesisUtterance(_0x50c386),_0x3a79ac=window[_0x469407(0x1b7)][_0x469407(0x1f8)]();if(_0x3a79ac[_0x469407(0x1ad)]>0x0){const _0x18e49a=_0x3a79ac[_0x469407(0x1cb)](_0x30b0e7=>_0x30b0e7[_0x469407(0x1d6)][_0x469407(0x206)](_0x469407(0x20a))&&_0x30b0e7['lang'][_0x469407(0x206)]('en-'))||_0x3a79ac[0x0];_0x4f1c5e[_0x469407(0x1d4)]=_0x18e49a;}return _0x4f1c5e[_0x469407(0x1e2)]=0x1,_0x4f1c5e[_0x469407(0x20e)]=0x1,_0x4f1c5e[_0x469407(0x1db)]=0x1,this['speechSynthesis']['speak'](_0x4f1c5e),new Promise(_0x33e3d6=>{const _0x59ba23=_0x469407;_0x4f1c5e[_0x59ba23(0x1ce)]=_0x33e3d6;});}return Promise[_0x469407(0x1e6)]();}[_0x40635f(0x1bf)](_0x49602c,_0x5859ca,_0x102536){const _0x4cc097=_0x40635f,_0x3c6a62={'LDgzw':'No\x20response\x20detected,\x20prompting\x20user\x20for\x20manual\x20input.','eaEzY':function(_0x1b2c34,_0x2dd2e0){return _0x1b2c34>=_0x2dd2e0;},'zRpeG':_0x4cc097(0x1ab),'HtcFz':function(_0x10e533){return _0x10e533();},'yxeLw':'Speech\x20recognition\x20error:','pvQyg':_0x4cc097(0x201)};if(!(_0x3c6a62[_0x4cc097(0x1ae)]in window||_0x4cc097(0x1c1)in window))return null;const _0xbe77fc=new(window[(_0x4cc097(0x201))]||window[(_0x4cc097(0x1c1))])();_0xbe77fc[_0x4cc097(0x1f4)]=![],_0xbe77fc[_0x4cc097(0x1b4)]=![],_0xbe77fc['lang']=_0x4cc097(0x1fa);const _0x311236=setTimeout(()=>{const _0x72c965=_0x4cc097;console[_0x72c965(0x205)](_0x3c6a62['LDgzw']),_0xbe77fc[_0x72c965(0x1dd)](),_0x102536?.();},0x1388);return _0xbe77fc[_0x4cc097(0x1dc)]=_0x1283e9=>{const _0x2450a0=_0x4cc097;clearTimeout(_0x311236);const _0x1ef0a8=_0x1283e9['results'][0x0][0x0],_0x3136c6=_0x1ef0a8['transcript'][_0x2450a0(0x1b1)]()['trim'](),_0x32a126=_0x1ef0a8[_0x2450a0(0x1ec)];console['log']('User\x20said:\x20\x22'+_0x3136c6+'\x22\x20with\x20confidence:\x20'+_0x32a126);if(_0x3c6a62[_0x2450a0(0x209)](_0x32a126,0.7)){if(_0x3136c6[_0x2450a0(0x206)](_0x3c6a62[_0x2450a0(0x1b0)])){if(_0x49602c)_0x3c6a62[_0x2450a0(0x202)](_0x49602c);}else{if(_0x3136c6[_0x2450a0(0x206)]('no')){if(_0x5859ca)_0x3c6a62[_0x2450a0(0x202)](_0x5859ca);}}}},_0xbe77fc['onerror']=_0x4f8fea=>{const _0x1b1092=_0x4cc097;console['error'](_0x3c6a62[_0x1b1092(0x1ba)],_0x4f8fea[_0x1b1092(0x1f2)]);},_0xbe77fc['start'](),_0xbe77fc;}[_0x40635f(0x1f1)](_0x27a5ac){const _0x2e452e=_0x40635f;Logger[_0x2e452e(0x1f2)](_0x27a5ac),this[_0x2e452e(0x1d2)]?.(_0x27a5ac);}[_0x40635f(0x1fb)](){const _0x516721=_0x40635f;return this[_0x516721(0x1be)];}['resetAccumulatedText'](){const _0xe7fa3d=_0x40635f,_0x16d095={'DLKnH':_0xe7fa3d(0x1c2)};return this[_0xe7fa3d(0x1be)]='',this[_0xe7fa3d(0x1c6)]='',this[_0xe7fa3d(0x1a6)]=0x0,this['silenceTimer']=null,this[_0xe7fa3d(0x1cf)]=null,this['onResult']&&this[_0xe7fa3d(0x200)]('',''),console['log'](_0x16d095['DLKnH']),this;}}