
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x1aaf95=_0x2220;function _0x2220(_0xa6ac98,_0x13dec1){const _0x2354f4=_0x2354();return _0x2220=function(_0x222027,_0x35b072){_0x222027=_0x222027-0x16c;let _0x44cd08=_0x2354f4[_0x222027];return _0x44cd08;},_0x2220(_0xa6ac98,_0x13dec1);}(function(_0x2896aa,_0x24afc0){const _0x2774c4=_0x2220,_0x109ba6=_0x2896aa();while(!![]){try{const _0x45e190=-parseInt(_0x2774c4(0x199))/0x1+-parseInt(_0x2774c4(0x177))/0x2*(-parseInt(_0x2774c4(0x185))/0x3)+-parseInt(_0x2774c4(0x183))/0x4+-parseInt(_0x2774c4(0x16e))/0x5+-parseInt(_0x2774c4(0x17d))/0x6*(parseInt(_0x2774c4(0x186))/0x7)+parseInt(_0x2774c4(0x176))/0x8+parseInt(_0x2774c4(0x174))/0x9;if(_0x45e190===_0x24afc0)break;else _0x109ba6['push'](_0x109ba6['shift']());}catch(_0x1e9815){_0x109ba6['push'](_0x109ba6['shift']());}}}(_0x2354,0xb96c6));function _0x2354(){const _0x4b4c2a=['temperature','object','4834620IdMXzM','hrRly','1114041ojWEqB','5411yiOefQ','topK','khSIK','You\x20are\x20a\x20helpful\x20assistant.','Mcumb','NHJrc','ðŸ§¹\x20Cleaned\x20response:','ðŸ›‘\x20Failed\x20to\x20parse\x20response\x20as\x20JSON:','[Init]\x20Failed\x20to\x20initialize\x20AI\x20language\x20model\x20session:','error','sessionConfig','match','create','[Init]\x20Creating\x20AI\x20language\x20model\x20session...','languageModel','brzym','[Init]\x20','trim',',\x20TopK:\x20','499061UQgeAo','CMbgF','[Init]\x20Attempting\x20to\x20initialize\x20language\x20model\x20session...','53425uUuKDi','replace','warn','fMZnH','[Init]\x20Language\x20model\x20session\x20created\x20successfully:','getItem','15824196TScrXa','info','4295328svRAOK','2utQPUE','wgUcn','includes','parse','log','UFyoE','1464Zxvrwb','jLYzj','HYayx','GqZsY'];_0x2354=function(){return _0x4b4c2a;};return _0x2354();}import{Logger,displayError}from'./common.js';let aiLanguageSession=null,sessionConfig=JSON[_0x1aaf95(0x17a)](localStorage[_0x1aaf95(0x173)](_0x1aaf95(0x190)))||{'temperature':0x1,'topK':0x3,'systemRole':_0x1aaf95(0x189)};async function initializeLanguageSession(){const _0x67ca15=_0x1aaf95,_0x1df876={'UFyoE':_0x67ca15(0x16d),'wgUcn':function(_0x4293ab,_0x449f0b){return _0x4293ab in _0x449f0b;},'jLYzj':'Browser\x20doesn\x27t\x20support\x20AI\x20API.\x20Enable\x20it\x20in\x20Chrome\x20flags.','hrRly':_0x67ca15(0x196),'brzym':function(_0x3a4d4d,_0x12787d){return _0x3a4d4d(_0x12787d);},'fMZnH':_0x67ca15(0x193),'GqZsY':_0x67ca15(0x172),'Mcumb':_0x67ca15(0x18e),'CMbgF':function(_0x80e55f,_0x392385){return _0x80e55f(_0x392385);}};console[_0x67ca15(0x17b)](_0x1df876[_0x67ca15(0x17c)]);if(!_0x1df876[_0x67ca15(0x178)]('ai',self)||!self['ai'][_0x67ca15(0x194)]){const _0x585535=_0x1df876[_0x67ca15(0x17e)];console[_0x67ca15(0x18f)](_0x1df876[_0x67ca15(0x184)],_0x585535),Logger[_0x67ca15(0x18f)](_0x585535),_0x1df876[_0x67ca15(0x195)](displayError,_0x585535);return;}try{console[_0x67ca15(0x17b)](_0x1df876[_0x67ca15(0x171)]),aiLanguageSession=await self['ai']['languageModel'][_0x67ca15(0x192)]({'temperature':sessionConfig[_0x67ca15(0x181)],'topK':sessionConfig[_0x67ca15(0x187)]}),console[_0x67ca15(0x17b)](_0x1df876[_0x67ca15(0x180)],aiLanguageSession),Logger[_0x67ca15(0x175)]('AI\x20session\x20initialized\x20with\x20Temperature:\x20'+sessionConfig[_0x67ca15(0x181)]+_0x67ca15(0x198)+sessionConfig[_0x67ca15(0x187)]);}catch(_0x3e91fe){console[_0x67ca15(0x18f)](_0x1df876[_0x67ca15(0x18a)],_0x3e91fe),_0x1df876[_0x67ca15(0x16c)](displayError,errorMessage);}}function cleanJSONMarkdown(_0xdf8c5f){const _0x54cb79=_0x1aaf95,_0x3cc4b8={'NHJrc':'cleanJSONMarkdown:\x20Raw\x20JSON\x20response:\x20','LpbwV':function(_0x4b037b,_0x95eb2a){return _0x4b037b===_0x95eb2a;},'XfDGp':_0x54cb79(0x182),'HYayx':'```','khSIK':_0x54cb79(0x18c)};console[_0x54cb79(0x17b)](_0x3cc4b8[_0x54cb79(0x18b)],_0xdf8c5f);let _0x48638d=_0xdf8c5f;if(_0x3cc4b8['LpbwV'](typeof _0x48638d,_0x3cc4b8['XfDGp']))return console[_0x54cb79(0x17b)]('ðŸ›‘\x20Response\x20is\x20already\x20an\x20object,\x20skipping\x20JSON.parse.'),_0x48638d;if(_0x48638d[_0x54cb79(0x179)](_0x3cc4b8[_0x54cb79(0x17f)])){const _0x4094ff=_0x48638d[_0x54cb79(0x191)](/```(?:json)?\s*([\s\S]*?)```/);_0x4094ff&&_0x4094ff[0x1]?_0x48638d=_0x4094ff[0x1][_0x54cb79(0x197)]():_0x48638d=_0x48638d[_0x54cb79(0x16f)](/```.*?```/g,'')[_0x54cb79(0x197)]();}try{_0x48638d=JSON['parse'](_0x48638d);}catch(_0x5104f9){console[_0x54cb79(0x170)](_0x54cb79(0x18d),_0x5104f9);}return console['log'](_0x3cc4b8[_0x54cb79(0x188)],_0x48638d),_0x48638d;}export{aiLanguageSession,cleanJSONMarkdown,initializeLanguageSession,sessionConfig};