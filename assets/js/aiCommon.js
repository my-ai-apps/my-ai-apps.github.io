
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x2616eb=_0x2796;(function(_0x5b98dc,_0x4c2dd6){const _0x2f6f65=_0x2796,_0x562d25=_0x5b98dc();while(!![]){try{const _0x318616=-parseInt(_0x2f6f65(0x1f9))/0x1+-parseInt(_0x2f6f65(0x1f6))/0x2*(-parseInt(_0x2f6f65(0x1ff))/0x3)+parseInt(_0x2f6f65(0x1fc))/0x4*(parseInt(_0x2f6f65(0x205))/0x5)+parseInt(_0x2f6f65(0x1e9))/0x6+parseInt(_0x2f6f65(0x20d))/0x7*(parseInt(_0x2f6f65(0x1ea))/0x8)+-parseInt(_0x2f6f65(0x211))/0x9+parseInt(_0x2f6f65(0x204))/0xa;if(_0x318616===_0x4c2dd6)break;else _0x562d25['push'](_0x562d25['shift']());}catch(_0x101cfa){_0x562d25['push'](_0x562d25['shift']());}}}(_0xe391,0xbe559));function _0x2796(_0x5b887b,_0x136ed3){const _0xe3914c=_0xe391();return _0x2796=function(_0x27960d,_0x352b4d){_0x27960d=_0x27960d-0x1e9;let _0x59cfec=_0xe3914c[_0x27960d];return _0x59cfec;},_0x2796(_0x5b887b,_0x136ed3);}import{Logger,displayError}from'./common.js';let aiLanguageSession=null,sessionConfig=JSON['parse'](localStorage[_0x2616eb(0x1f3)](_0x2616eb(0x1f7)))||{'temperature':0x1,'topK':0x3,'systemRole':_0x2616eb(0x200)};async function initializeLanguageSession(){const _0x611a69=_0x2616eb,_0x82306c={'XHjTj':_0x611a69(0x201),'prMCk':function(_0x1ad867,_0x4d2085){return _0x1ad867 in _0x4d2085;},'eJNYR':_0x611a69(0x1f4),'WDKpg':function(_0x333fc6,_0x56d22e){return _0x333fc6(_0x56d22e);},'SvBwM':_0x611a69(0x1f5),'HNdSX':_0x611a69(0x1ef)};console[_0x611a69(0x1f2)](_0x82306c['XHjTj']);if(!_0x82306c[_0x611a69(0x1fb)]('ai',self)||!self['ai'][_0x611a69(0x1fa)]){const _0x3a43c4=_0x611a69(0x1ee);console[_0x611a69(0x208)](_0x82306c[_0x611a69(0x213)],_0x3a43c4),Logger[_0x611a69(0x208)](_0x3a43c4),_0x82306c[_0x611a69(0x1f1)](displayError,_0x3a43c4);return;}try{console[_0x611a69(0x1f2)](_0x82306c[_0x611a69(0x1fe)]),aiLanguageSession=await self['ai'][_0x611a69(0x1fa)][_0x611a69(0x20f)]({'temperature':sessionConfig[_0x611a69(0x1fd)],'topK':sessionConfig[_0x611a69(0x20a)]}),console['log'](_0x611a69(0x1ec),aiLanguageSession),Logger['info']('AI\x20session\x20initialized\x20with\x20Temperature:\x20'+sessionConfig['temperature']+_0x611a69(0x1ed)+sessionConfig['topK']);}catch(_0x3d744b){console[_0x611a69(0x208)](_0x82306c[_0x611a69(0x202)],_0x3d744b),_0x82306c['WDKpg'](displayError,errorMessage);}}function _0xe391(){const _0x340af0=['2818QOXuno','sessionConfig','trim','1513489zMGmHp','languageModel','prMCk','5577820uFXYda','temperature','SvBwM','2364jGLzhV','You\x20are\x20a\x20helpful\x20assistant.','[Init]\x20Attempting\x20to\x20initialize\x20language\x20model\x20session...','HNdSX','replace','1049890OXUEEw','5aPpPud','ðŸ›‘\x20Response\x20is\x20already\x20an\x20object,\x20skipping\x20JSON.parse.','ðŸ›‘\x20Failed\x20to\x20parse\x20response\x20as\x20JSON:','error','GzgHx','topK','cleanJSONMarkdown:\x20Raw\x20JSON\x20response:\x20','ZDGjk','247289tpjxQa','qWiIF','create','```','10516212euRNYw','includes','eJNYR','4687056Mnftry','16EanUPb','gZGIJ','[Init]\x20Language\x20model\x20session\x20created\x20successfully:',',\x20TopK:\x20','Browser\x20doesn\x27t\x20support\x20AI\x20API.\x20Enable\x20it\x20in\x20Chrome\x20flags.','[Init]\x20Failed\x20to\x20initialize\x20AI\x20language\x20model\x20session:','parse','WDKpg','log','getItem','[Init]\x20','[Init]\x20Creating\x20AI\x20language\x20model\x20session...'];_0xe391=function(){return _0x340af0;};return _0xe391();}function cleanJSONMarkdown(_0x291665){const _0xc4a73a=_0x2616eb,_0x23c8c2={'GzgHx':_0xc4a73a(0x20b),'qWiIF':function(_0x5cb43a,_0x1c5b2a){return _0x5cb43a===_0x1c5b2a;},'gZGIJ':'object','ZDGjk':_0xc4a73a(0x206),'lzxqN':_0xc4a73a(0x210),'gFvUb':_0xc4a73a(0x207),'RnDFn':'ðŸ§¹\x20Cleaned\x20response:'};console[_0xc4a73a(0x1f2)](_0x23c8c2[_0xc4a73a(0x209)],_0x291665);let _0x52a30e=_0x291665;if(_0x23c8c2[_0xc4a73a(0x20e)](typeof _0x52a30e,_0x23c8c2[_0xc4a73a(0x1eb)]))return console[_0xc4a73a(0x1f2)](_0x23c8c2[_0xc4a73a(0x20c)]),_0x52a30e;if(_0x52a30e[_0xc4a73a(0x212)](_0x23c8c2['lzxqN'])){const _0x3da679=_0x52a30e['match'](/```(?:json)?\s*([\s\S]*?)```/);_0x3da679&&_0x3da679[0x1]?_0x52a30e=_0x3da679[0x1][_0xc4a73a(0x1f8)]():_0x52a30e=_0x52a30e[_0xc4a73a(0x203)](/```.*?```/g,'')['trim']();}try{_0x52a30e=JSON[_0xc4a73a(0x1f0)](_0x52a30e);}catch(_0x189a3a){console['warn'](_0x23c8c2['gFvUb'],_0x189a3a);}return console['log'](_0x23c8c2['RnDFn'],_0x52a30e),_0x52a30e;}export{aiLanguageSession,cleanJSONMarkdown,initializeLanguageSession,sessionConfig};