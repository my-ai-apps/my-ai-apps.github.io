
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x28df52=_0x1f90;(function(_0x3f4a1c,_0x47283c){const _0x341504=_0x1f90,_0x370321=_0x3f4a1c();while(!![]){try{const _0x1d1f64=-parseInt(_0x341504(0x110))/0x1+parseInt(_0x341504(0x117))/0x2*(-parseInt(_0x341504(0xfc))/0x3)+parseInt(_0x341504(0x11a))/0x4*(-parseInt(_0x341504(0xf9))/0x5)+-parseInt(_0x341504(0x11e))/0x6+parseInt(_0x341504(0x112))/0x7*(parseInt(_0x341504(0x10f))/0x8)+-parseInt(_0x341504(0x11b))/0x9*(parseInt(_0x341504(0x10a))/0xa)+-parseInt(_0x341504(0x118))/0xb*(-parseInt(_0x341504(0x10b))/0xc);if(_0x1d1f64===_0x47283c)break;else _0x370321['push'](_0x370321['shift']());}catch(_0x149d9e){_0x370321['push'](_0x370321['shift']());}}}(_0x6de9,0xe4f9d));function _0x6de9(){const _0x302e49=['parse','info','Browser\x20doesn\x27t\x20support\x20AI\x20API.\x20Enable\x20it\x20in\x20Chrome\x20flags.','languageModel','BYYhx','ZjOjP','ðŸ›‘\x20Failed\x20to\x20parse\x20response\x20as\x20JSON:','[Init]\x20','AYxlz','includes','2927780QNeBcq','516elsbOx','[Init]\x20Attempting\x20to\x20initialize\x20language\x20model\x20session...',',\x20TopK:\x20','jophc','14696888SbGHJF','435188fRFDMe','ðŸ§¹\x20Cleaned\x20response:','7QIQvlR','gcECv','log','trim','getItem','14MoqrBJ','500665yQPZCb','[Init]\x20Creating\x20AI\x20language\x20model\x20session...','356084GfoLVu','9ytqMlH','aCdia','replace','3249546pAaFWV','AI\x20session\x20initialized\x20with\x20Temperature:\x20','error','topK','bYTww','```','ogkmw','[Init]\x20Language\x20model\x20session\x20created\x20successfully:','temperature','[Init]\x20Failed\x20to\x20initialize\x20AI\x20language\x20model\x20session:','cleanJSONMarkdown:\x20Raw\x20JSON\x20response:\x20','match','create','65ezMejU','lNSfx','ðŸ›‘\x20Response\x20is\x20already\x20an\x20object,\x20skipping\x20JSON.parse.','184089NaFGBj','GvqrA','object','You\x20are\x20a\x20helpful\x20assistant.'];_0x6de9=function(){return _0x302e49;};return _0x6de9();}import{Logger,displayError}from'./common.js';let aiLanguageSession=null,sessionConfig=JSON['parse'](localStorage[_0x28df52(0x116)]('sessionConfig'))||{'temperature':0x1,'topK':0x3,'systemRole':_0x28df52(0xff)};async function initializeLanguageSession(){const _0x373a7c=_0x28df52,_0x1fa29a={'bYTww':_0x373a7c(0x10c),'ckIlE':_0x373a7c(0x102),'ZjOjP':_0x373a7c(0x107),'aCdia':function(_0x4f76b0,_0x2eb9c6){return _0x4f76b0(_0x2eb9c6);},'BYYhx':_0x373a7c(0x119),'AYxlz':_0x373a7c(0xf3),'hsJFz':_0x373a7c(0xf5),'gcECv':function(_0x5a0985,_0x198f27){return _0x5a0985(_0x198f27);}};console[_0x373a7c(0x114)](_0x1fa29a[_0x373a7c(0xf0)]);if(!('ai'in self)||!self['ai']['languageModel']){const _0x2d8318=_0x1fa29a['ckIlE'];console[_0x373a7c(0xee)](_0x1fa29a[_0x373a7c(0x105)],_0x2d8318),Logger[_0x373a7c(0xee)](_0x2d8318),_0x1fa29a[_0x373a7c(0x11c)](displayError,_0x2d8318);return;}try{console[_0x373a7c(0x114)](_0x1fa29a[_0x373a7c(0x104)]),aiLanguageSession=await self['ai'][_0x373a7c(0x103)][_0x373a7c(0xf8)]({'temperature':sessionConfig[_0x373a7c(0xf4)],'topK':sessionConfig[_0x373a7c(0xef)]}),console[_0x373a7c(0x114)](_0x1fa29a[_0x373a7c(0x108)],aiLanguageSession),Logger[_0x373a7c(0x101)](_0x373a7c(0x11f)+sessionConfig[_0x373a7c(0xf4)]+_0x373a7c(0x10d)+sessionConfig['topK']);}catch(_0x4e34aa){console[_0x373a7c(0xee)](_0x1fa29a['hsJFz'],_0x4e34aa),_0x1fa29a[_0x373a7c(0x113)](displayError,errorMessage);}}function cleanJSONMarkdown(_0x53a18f){const _0x4af8f6=_0x28df52,_0x3b8c4a={'lNSfx':_0x4af8f6(0xf6),'jophc':function(_0x4eb1f1,_0x3964b4){return _0x4eb1f1===_0x3964b4;},'xnJXp':_0x4af8f6(0xfe),'ogkmw':_0x4af8f6(0xfb),'AqtON':_0x4af8f6(0xf1),'PfIHR':_0x4af8f6(0x106),'GvqrA':_0x4af8f6(0x111)};console[_0x4af8f6(0x114)](_0x3b8c4a[_0x4af8f6(0xfa)],_0x53a18f);let _0xc131dc=_0x53a18f;if(_0x3b8c4a[_0x4af8f6(0x10e)](typeof _0xc131dc,_0x3b8c4a['xnJXp']))return console[_0x4af8f6(0x114)](_0x3b8c4a[_0x4af8f6(0xf2)]),_0xc131dc;if(_0xc131dc[_0x4af8f6(0x109)](_0x3b8c4a['AqtON'])){const _0x4ce2b9=_0xc131dc[_0x4af8f6(0xf7)](/```(?:json)?\s*([\s\S]*?)```/);_0x4ce2b9&&_0x4ce2b9[0x1]?_0xc131dc=_0x4ce2b9[0x1][_0x4af8f6(0x115)]():_0xc131dc=_0xc131dc[_0x4af8f6(0x11d)](/```.*?```/g,'')['trim']();}try{_0xc131dc=JSON[_0x4af8f6(0x100)](_0xc131dc);}catch(_0x584e73){console['warn'](_0x3b8c4a['PfIHR'],_0x584e73);}return console[_0x4af8f6(0x114)](_0x3b8c4a[_0x4af8f6(0xfd)],_0xc131dc),_0xc131dc;}function _0x1f90(_0xce28d3,_0x2db292){const _0x6de9de=_0x6de9();return _0x1f90=function(_0x1f90d3,_0x3865a5){_0x1f90d3=_0x1f90d3-0xee;let _0x371698=_0x6de9de[_0x1f90d3];return _0x371698;},_0x1f90(_0xce28d3,_0x2db292);}export{aiLanguageSession,cleanJSONMarkdown,initializeLanguageSession,sessionConfig};