
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
function _0x269d(_0x34efaf,_0x208ec0){const _0xe31f9f=_0xe31f();return _0x269d=function(_0x269d0d,_0x5868bc){_0x269d0d=_0x269d0d-0x117;let _0xcbac7d=_0xe31f9f[_0x269d0d];return _0xcbac7d;},_0x269d(_0x34efaf,_0x208ec0);}const _0x2b92c2=_0x269d;(function(_0x1b995a,_0x50a4a5){const _0x2161b0=_0x269d,_0x214984=_0x1b995a();while(!![]){try{const _0x3e0c76=parseInt(_0x2161b0(0x122))/0x1+parseInt(_0x2161b0(0x141))/0x2*(-parseInt(_0x2161b0(0x124))/0x3)+parseInt(_0x2161b0(0x128))/0x4+parseInt(_0x2161b0(0x13e))/0x5+-parseInt(_0x2161b0(0x12d))/0x6*(-parseInt(_0x2161b0(0x142))/0x7)+parseInt(_0x2161b0(0x11f))/0x8*(-parseInt(_0x2161b0(0x12c))/0x9)+-parseInt(_0x2161b0(0x13b))/0xa;if(_0x3e0c76===_0x50a4a5)break;else _0x214984['push'](_0x214984['shift']());}catch(_0x382de6){_0x214984['push'](_0x214984['shift']());}}}(_0xe31f,0x34b68));import{Logger,displayError}from'./common.js';let aiLanguageSession=null,sessionConfig=JSON['parse'](localStorage[_0x2b92c2(0x13c)]('sessionConfig'))||{'temperature':0x1,'topK':0x3,'systemRole':_0x2b92c2(0x13a)};async function initializeLanguageSession(){const _0x1e5274=_0x2b92c2,_0xd0265b={'UZzhx':_0x1e5274(0x11d),'SxapI':function(_0x5c84,_0x357950){return _0x5c84 in _0x357950;},'wGKsW':function(_0x50011f,_0x221a05){return _0x50011f(_0x221a05);},'ySpMc':_0x1e5274(0x131),'xIMzW':_0x1e5274(0x127),'hnTIR':'[Init]\x20Failed\x20to\x20initialize\x20AI\x20language\x20model\x20session:','CLWlm':function(_0x1bb9d3,_0x1257bb){return _0x1bb9d3(_0x1257bb);}};console[_0x1e5274(0x133)](_0xd0265b[_0x1e5274(0x139)]);if(!_0xd0265b[_0x1e5274(0x11e)]('ai',self)||!self['ai'][_0x1e5274(0x13d)]){const _0x44cc06=_0x1e5274(0x120);console[_0x1e5274(0x130)](_0x1e5274(0x134),_0x44cc06),Logger['error'](_0x44cc06),_0xd0265b['wGKsW'](displayError,_0x44cc06);return;}try{console[_0x1e5274(0x133)](_0xd0265b[_0x1e5274(0x132)]),aiLanguageSession=await self['ai'][_0x1e5274(0x13d)]['create']({'temperature':sessionConfig[_0x1e5274(0x125)],'topK':sessionConfig['topK']}),console['log'](_0xd0265b[_0x1e5274(0x121)],aiLanguageSession),Logger[_0x1e5274(0x135)](_0x1e5274(0x118)+sessionConfig['temperature']+_0x1e5274(0x12a)+sessionConfig['topK']);}catch(_0x1b841e){console[_0x1e5274(0x130)](_0xd0265b[_0x1e5274(0x137)],_0x1b841e),_0xd0265b[_0x1e5274(0x136)](displayError,errorMessage);}}function _0xe31f(){const _0x4902c6=['xIMzW','166170icTgsb','object','50145HYrSxa','temperature','oxkHK','[Init]\x20Language\x20model\x20session\x20created\x20successfully:','183024vYkQFh','```',',\x20TopK:\x20','DbnCF','63jeSfZs','169122vhPbGe','includes','warn','error','[Init]\x20Creating\x20AI\x20language\x20model\x20session...','ySpMc','log','[Init]\x20','info','CLWlm','hnTIR','parse','UZzhx','You\x20are\x20a\x20helpful\x20assistant.','3158380yVkmdI','getItem','languageModel','1991535aYgfTp','qpCbu','trim','18CSfxWz','77jewpeP','ðŸ§¹\x20Cleaned\x20response:','cleanJSONMarkdown:\x20Raw\x20JSON\x20response:\x20','AI\x20session\x20initialized\x20with\x20Temperature:\x20','ðŸ›‘\x20Failed\x20to\x20parse\x20response\x20as\x20JSON:','ðŸ›‘\x20Response\x20is\x20already\x20an\x20object,\x20skipping\x20JSON.parse.','pAGtf','match','[Init]\x20Attempting\x20to\x20initialize\x20language\x20model\x20session...','SxapI','272120manjUm','Browser\x20doesn\x27t\x20support\x20AI\x20API.\x20Enable\x20it\x20in\x20Chrome\x20flags.'];_0xe31f=function(){return _0x4902c6;};return _0xe31f();}function cleanJSONMarkdown(_0x9aa69e){const _0x48f8e4=_0x2b92c2,_0x25cd90={'DbnCF':function(_0x55814c,_0x2dc0d){return _0x55814c===_0x2dc0d;},'rOwWl':_0x48f8e4(0x123),'pAGtf':_0x48f8e4(0x11a),'qpCbu':_0x48f8e4(0x129),'oxkHK':_0x48f8e4(0x119),'DYlGU':_0x48f8e4(0x143)};console[_0x48f8e4(0x133)](_0x48f8e4(0x117),_0x9aa69e);let _0x250136=_0x9aa69e;if(_0x25cd90[_0x48f8e4(0x12b)](typeof _0x250136,_0x25cd90['rOwWl']))return console[_0x48f8e4(0x133)](_0x25cd90[_0x48f8e4(0x11b)]),_0x250136;if(_0x250136[_0x48f8e4(0x12e)](_0x25cd90[_0x48f8e4(0x13f)])){const _0x137c39=_0x250136[_0x48f8e4(0x11c)](/```(?:json)?\s*([\s\S]*?)```/);_0x137c39&&_0x137c39[0x1]?_0x250136=_0x137c39[0x1][_0x48f8e4(0x140)]():_0x250136=_0x250136['replace'](/```.*?```/g,'')[_0x48f8e4(0x140)]();}try{_0x250136=JSON[_0x48f8e4(0x138)](_0x250136);}catch(_0x4b877f){console[_0x48f8e4(0x12f)](_0x25cd90[_0x48f8e4(0x126)],_0x4b877f);}return console['log'](_0x25cd90['DYlGU'],_0x250136),_0x250136;}export{aiLanguageSession,cleanJSONMarkdown,initializeLanguageSession,sessionConfig};