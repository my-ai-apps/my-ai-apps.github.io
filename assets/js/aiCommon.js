
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x18a9b5=_0x38fd;(function(_0x15793e,_0x5b3104){const _0x85b01=_0x38fd,_0x4b5e93=_0x15793e();while(!![]){try{const _0x54071d=-parseInt(_0x85b01(0xdd))/0x1*(parseInt(_0x85b01(0xf3))/0x2)+parseInt(_0x85b01(0xf1))/0x3*(-parseInt(_0x85b01(0xf9))/0x4)+parseInt(_0x85b01(0xe8))/0x5*(parseInt(_0x85b01(0xde))/0x6)+-parseInt(_0x85b01(0xe7))/0x7*(parseInt(_0x85b01(0xfe))/0x8)+-parseInt(_0x85b01(0xe3))/0x9*(parseInt(_0x85b01(0xf0))/0xa)+-parseInt(_0x85b01(0xe5))/0xb*(-parseInt(_0x85b01(0xf7))/0xc)+parseInt(_0x85b01(0xeb))/0xd;if(_0x54071d===_0x5b3104)break;else _0x4b5e93['push'](_0x4b5e93['shift']());}catch(_0x4f2389){_0x4b5e93['push'](_0x4b5e93['shift']());}}}(_0x50ed,0xb3a70));function _0x38fd(_0x4542bc,_0x41c47f){const _0x50edb3=_0x50ed();return _0x38fd=function(_0x38fda1,_0x48983b){_0x38fda1=_0x38fda1-0xd1;let _0x5b3d5e=_0x50edb3[_0x38fda1];return _0x5b3d5e;},_0x38fd(_0x4542bc,_0x41c47f);}import{Logger,displayError}from'./common.js';let aiLanguageSession=null,sessionConfig=JSON[_0x18a9b5(0xe2)](localStorage[_0x18a9b5(0xda)](_0x18a9b5(0xfc)))||{'temperature':0x1,'topK':0x3,'systemRole':_0x18a9b5(0xf5)};async function initializeLanguageSession(){const _0x568fca=_0x18a9b5,_0x1df645={'HAykk':function(_0x81e9c3,_0x56f641){return _0x81e9c3 in _0x56f641;},'rxzub':_0x568fca(0xd8),'cEqAX':function(_0x577038,_0x4be8b2){return _0x577038(_0x4be8b2);},'qUjPf':_0x568fca(0xfd),'taAne':_0x568fca(0xe6),'QmCdo':_0x568fca(0xd7)};console[_0x568fca(0xd5)](_0x568fca(0xd1));if(!_0x1df645['HAykk']('ai',self)||!self['ai']['languageModel']){const _0x53376c='Browser\x20doesn\x27t\x20support\x20AI\x20API.\x20Enable\x20it\x20in\x20Chrome\x20flags.';console['error'](_0x1df645['rxzub'],_0x53376c),Logger[_0x568fca(0xec)](_0x53376c),_0x1df645[_0x568fca(0xd9)](displayError,_0x53376c);return;}try{console['log'](_0x1df645[_0x568fca(0xf4)]),aiLanguageSession=await self['ai'][_0x568fca(0xdc)]['create']({'temperature':sessionConfig['temperature'],'topK':sessionConfig[_0x568fca(0xfb)]}),console['log'](_0x1df645[_0x568fca(0xdb)],aiLanguageSession),Logger[_0x568fca(0xd4)](_0x568fca(0xe9)+sessionConfig[_0x568fca(0xf6)]+',\x20TopK:\x20'+sessionConfig[_0x568fca(0xfb)]);}catch(_0x394eb7){console[_0x568fca(0xec)](_0x1df645[_0x568fca(0xf8)],_0x394eb7),_0x1df645[_0x568fca(0xd9)](displayError,errorMessage);}}function _0x50ed(){const _0x441849=['15345kfeNZJ','cleanJSONMarkdown:\x20Raw\x20JSON\x20response:\x20','124856mFhlOn','qUjPf','You\x20are\x20a\x20helpful\x20assistant.','temperature','1344RiIOsH','QmCdo','152qZQTAb','vHnfb','topK','sessionConfig','[Init]\x20Creating\x20AI\x20language\x20model\x20session...','1223304UIrlAg','[Init]\x20Attempting\x20to\x20initialize\x20language\x20model\x20session...','ðŸ›‘\x20Response\x20is\x20already\x20an\x20object,\x20skipping\x20JSON.parse.','warn','info','log','bGSKv','[Init]\x20Failed\x20to\x20initialize\x20AI\x20language\x20model\x20session:','[Init]\x20','cEqAX','getItem','taAne','languageModel','18KEIeUr','1302ZviyHE','rRazW','trim','UoYUU','parse','16083dJnujQ','ðŸ›‘\x20Failed\x20to\x20parse\x20response\x20as\x20JSON:','116941QhqIBX','[Init]\x20Language\x20model\x20session\x20created\x20successfully:','42jVerYH','2615YBDgyM','AI\x20session\x20initialized\x20with\x20Temperature:\x20','replace','25321452SIzQfV','error','KVnDy','includes','ðŸ§¹\x20Cleaned\x20response:','1570AkPELT'];_0x50ed=function(){return _0x441849;};return _0x50ed();}function cleanJSONMarkdown(_0x559784){const _0x583e5e=_0x18a9b5,_0x458211={'rRazW':function(_0x169a8e,_0x441574){return _0x169a8e===_0x441574;},'KVnDy':'object','vHnfb':_0x583e5e(0xd2),'bGSKv':'```','UoYUU':_0x583e5e(0xef)};console[_0x583e5e(0xd5)](_0x583e5e(0xf2),_0x559784);let _0x4015d0=_0x559784;if(_0x458211[_0x583e5e(0xdf)](typeof _0x4015d0,_0x458211[_0x583e5e(0xed)]))return console[_0x583e5e(0xd5)](_0x458211[_0x583e5e(0xfa)]),_0x4015d0;if(_0x4015d0[_0x583e5e(0xee)](_0x458211[_0x583e5e(0xd6)])){const _0x23cfd1=_0x4015d0['match'](/```(?:json)?\s*([\s\S]*?)```/);_0x23cfd1&&_0x23cfd1[0x1]?_0x4015d0=_0x23cfd1[0x1][_0x583e5e(0xe0)]():_0x4015d0=_0x4015d0[_0x583e5e(0xea)](/```.*?```/g,'')['trim']();}try{_0x4015d0=JSON[_0x583e5e(0xe2)](_0x4015d0);}catch(_0x18cedf){console[_0x583e5e(0xd3)](_0x583e5e(0xe4),_0x18cedf);}return console['log'](_0x458211[_0x583e5e(0xe1)],_0x4015d0),_0x4015d0;}export{aiLanguageSession,cleanJSONMarkdown,initializeLanguageSession,sessionConfig};