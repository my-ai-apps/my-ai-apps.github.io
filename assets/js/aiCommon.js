
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x4d7d25=_0x1b99;(function(_0xc7049d,_0x5010b5){const _0x5f1ee2=_0x1b99,_0x2c9cba=_0xc7049d();while(!![]){try{const _0x4923cd=-parseInt(_0x5f1ee2(0xee))/0x1+-parseInt(_0x5f1ee2(0xf0))/0x2+-parseInt(_0x5f1ee2(0xe9))/0x3+parseInt(_0x5f1ee2(0xf2))/0x4*(parseInt(_0x5f1ee2(0xcf))/0x5)+-parseInt(_0x5f1ee2(0xe3))/0x6*(-parseInt(_0x5f1ee2(0xcb))/0x7)+parseInt(_0x5f1ee2(0xe7))/0x8+parseInt(_0x5f1ee2(0xd8))/0x9;if(_0x4923cd===_0x5010b5)break;else _0x2c9cba['push'](_0x2c9cba['shift']());}catch(_0xaa698e){_0x2c9cba['push'](_0x2c9cba['shift']());}}}(_0x3514,0x80143));import{Logger,displayError}from'./common.js';function _0x3514(){const _0xec054b=['14647122mHXzKF','MHJOb','jrASP','log','mdOJk','create','AI\x20session\x20initialized\x20with\x20Temperature:\x20','[Init]\x20Attempting\x20to\x20initialize\x20language\x20model\x20session...','xMWBD','ðŸ›‘\x20Failed\x20to\x20parse\x20response\x20as\x20JSON:','KYGCj','1914gOVFao','replace','[Init]\x20Language\x20model\x20session\x20created\x20successfully:','[Init]\x20Failed\x20to\x20initialize\x20AI\x20language\x20model\x20session:','7698400rykimu','sessionConfig','2873793ASPZah','```','[Init]\x20Creating\x20AI\x20language\x20model\x20session...','ðŸ§¹\x20Cleaned\x20response:','getItem','1024815vpHbtz','hfoaa','1968402VxXkLo','WtVFD','76axOIZO','cleanJSONMarkdown:\x20Raw\x20JSON\x20response:\x20','parse','match','ðŸ›‘\x20Response\x20is\x20already\x20an\x20object,\x20skipping\x20JSON.parse.','[Init]\x20','19579nokCWs','topK','temperature','RoDUn','2515LqhqHh','qZDBA','You\x20are\x20a\x20helpful\x20assistant.','error','object',',\x20TopK:\x20','warn','languageModel','yhhEg'];_0x3514=function(){return _0xec054b;};return _0x3514();}let aiLanguageSession=null,sessionConfig=JSON[_0x4d7d25(0xf4)](localStorage[_0x4d7d25(0xed)](_0x4d7d25(0xe8)))||{'temperature':0x1,'topK':0x3,'systemRole':_0x4d7d25(0xd1)};function _0x1b99(_0x304602,_0x52a5d5){const _0x3514ea=_0x3514();return _0x1b99=function(_0x1b9981,_0x5e72c9){_0x1b9981=_0x1b9981-0xca;let _0x486ef7=_0x3514ea[_0x1b9981];return _0x486ef7;},_0x1b99(_0x304602,_0x52a5d5);}async function initializeLanguageSession(){const _0x1c85ab=_0x4d7d25,_0x5b6ab5={'KYGCj':_0x1c85ab(0xdf),'WtVFD':function(_0x178e6c,_0x3b918b){return _0x178e6c in _0x3b918b;},'RoDUn':'Browser\x20doesn\x27t\x20support\x20AI\x20API.\x20Enable\x20it\x20in\x20Chrome\x20flags.','qZDBA':_0x1c85ab(0xca),'jrASP':function(_0x54bb61,_0x2af517){return _0x54bb61(_0x2af517);},'hfoaa':_0x1c85ab(0xe5),'MHJOb':_0x1c85ab(0xe6)};console[_0x1c85ab(0xdb)](_0x5b6ab5[_0x1c85ab(0xe2)]);if(!_0x5b6ab5[_0x1c85ab(0xf1)]('ai',self)||!self['ai'][_0x1c85ab(0xd6)]){const _0x532c54=_0x5b6ab5[_0x1c85ab(0xce)];console[_0x1c85ab(0xd2)](_0x5b6ab5[_0x1c85ab(0xd0)],_0x532c54),Logger[_0x1c85ab(0xd2)](_0x532c54),_0x5b6ab5[_0x1c85ab(0xda)](displayError,_0x532c54);return;}try{console['log'](_0x1c85ab(0xeb)),aiLanguageSession=await self['ai'][_0x1c85ab(0xd6)][_0x1c85ab(0xdd)]({'temperature':sessionConfig[_0x1c85ab(0xcd)],'topK':sessionConfig[_0x1c85ab(0xcc)]}),console[_0x1c85ab(0xdb)](_0x5b6ab5[_0x1c85ab(0xef)],aiLanguageSession),Logger['info'](_0x1c85ab(0xde)+sessionConfig[_0x1c85ab(0xcd)]+_0x1c85ab(0xd4)+sessionConfig[_0x1c85ab(0xcc)]);}catch(_0x6ab78d){console['error'](_0x5b6ab5[_0x1c85ab(0xd9)],_0x6ab78d),_0x5b6ab5['jrASP'](displayError,errorMessage);}}function cleanJSONMarkdown(_0x24f3d2){const _0xaf2c8a=_0x4d7d25,_0x4ef0d4={'yhhEg':_0xaf2c8a(0xd3),'xMWBD':_0xaf2c8a(0xf6),'iavKt':_0xaf2c8a(0xea),'mdOJk':_0xaf2c8a(0xe1)};console['log'](_0xaf2c8a(0xf3),_0x24f3d2);let _0x1a540b=_0x24f3d2;if(typeof _0x1a540b===_0x4ef0d4[_0xaf2c8a(0xd7)])return console[_0xaf2c8a(0xdb)](_0x4ef0d4[_0xaf2c8a(0xe0)]),_0x1a540b;if(_0x1a540b['includes'](_0x4ef0d4['iavKt'])){const _0x294874=_0x1a540b[_0xaf2c8a(0xf5)](/```(?:json)?\s*([\s\S]*?)```/);_0x294874&&_0x294874[0x1]?_0x1a540b=_0x294874[0x1]['trim']():_0x1a540b=_0x1a540b[_0xaf2c8a(0xe4)](/```.*?```/g,'')['trim']();}try{_0x1a540b=JSON[_0xaf2c8a(0xf4)](_0x1a540b);}catch(_0x127560){console[_0xaf2c8a(0xd5)](_0x4ef0d4[_0xaf2c8a(0xdc)],_0x127560);}return console[_0xaf2c8a(0xdb)](_0xaf2c8a(0xec),_0x1a540b),_0x1a540b;}export{aiLanguageSession,cleanJSONMarkdown,initializeLanguageSession,sessionConfig};