
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x3bc13d=_0x3989;(function(_0x397bc8,_0x47439b){const _0x4dba3d=_0x3989,_0x28b314=_0x397bc8();while(!![]){try{const _0x289439=parseInt(_0x4dba3d(0x20c))/0x1+-parseInt(_0x4dba3d(0x259))/0x2+-parseInt(_0x4dba3d(0x18f))/0x3+parseInt(_0x4dba3d(0x1a9))/0x4*(parseInt(_0x4dba3d(0x285))/0x5)+-parseInt(_0x4dba3d(0x210))/0x6+parseInt(_0x4dba3d(0x22b))/0x7+parseInt(_0x4dba3d(0x1a1))/0x8*(parseInt(_0x4dba3d(0x1c8))/0x9);if(_0x289439===_0x47439b)break;else _0x28b314['push'](_0x28b314['shift']());}catch(_0x3a9448){_0x28b314['push'](_0x28b314['shift']());}}}(_0x3858,0xbfe7d));import{Logger}from'./common.js';const chatMessages=document[_0x3bc13d(0x1d6)](_0x3bc13d(0x264)),messageInput=document['getElementById'](_0x3bc13d(0x248)),sendButton=document['getElementById'](_0x3bc13d(0x1f9)),cameraButton=document['getElementById'](_0x3bc13d(0x1a2)),themeToggle=document[_0x3bc13d(0x1d6)](_0x3bc13d(0x236)),cameraContainer=document[_0x3bc13d(0x1d6)](_0x3bc13d(0x297)),cameraPreview=document[_0x3bc13d(0x1d6)]('cameraPreview'),captureButton=document[_0x3bc13d(0x1d6)](_0x3bc13d(0x288)),cancelButton=document[_0x3bc13d(0x1d6)](_0x3bc13d(0x20d));let stream=null,imageContext=null;function _0x3989(_0x5a6a79,_0x506f85){const _0x385830=_0x3858();return _0x3989=function(_0x398943,_0x362c20){_0x398943=_0x398943-0x189;let _0x4a9aea=_0x385830[_0x398943];return _0x4a9aea;},_0x3989(_0x5a6a79,_0x506f85);}async function startCamera(){const _0x2885f8=_0x3bc13d,_0x4d1ae4={'Keoga':'environment','vyZkz':_0x2885f8(0x249),'jyKBi':_0x2885f8(0x270),'hQtwa':_0x2885f8(0x20e),'GwzjB':function(_0x3880c6,_0x4796c0){return _0x3880c6(_0x4796c0);},'Wxccm':function(_0x2f8ed4,_0x4a2757){return _0x2f8ed4+_0x4a2757;},'xJZIf':'Error\x20accessing\x20camera:\x20'};console[_0x2885f8(0x295)](_0x2885f8(0x216));try{stream=await navigator[_0x2885f8(0x1c4)][_0x2885f8(0x27a)]({'video':{'facingMode':_0x4d1ae4[_0x2885f8(0x23f)]}}),console['log'](_0x4d1ae4[_0x2885f8(0x191)],stream),cameraPreview[_0x2885f8(0x256)]=stream,cameraContainer['style'][_0x2885f8(0x22c)]=_0x4d1ae4[_0x2885f8(0x1e3)],console['log'](_0x2885f8(0x231));}catch(_0x55999a){console[_0x2885f8(0x19a)](_0x4d1ae4['hQtwa'],_0x55999a),_0x4d1ae4[_0x2885f8(0x1e4)](addMessage,_0x4d1ae4[_0x2885f8(0x22f)](_0x4d1ae4[_0x2885f8(0x265)],_0x55999a['message']));}}function stopCamera(){const _0x5aee73=_0x3bc13d,_0x19b41f={'HwQDj':'[Camera]\x20Stopping\x20camera...','FXjjE':_0x5aee73(0x24e),'kveva':_0x5aee73(0x227)};console[_0x5aee73(0x295)](_0x19b41f[_0x5aee73(0x217)]),stream&&(stream['getTracks']()['forEach'](_0x1c141e=>{const _0x5a22bd=_0x5aee73;console[_0x5a22bd(0x295)](_0x5a22bd(0x240),_0x1c141e[_0x5a22bd(0x1ac)]),_0x1c141e[_0x5a22bd(0x28e)]();}),stream=null),cameraContainer[_0x5aee73(0x1d8)][_0x5aee73(0x22c)]=_0x19b41f[_0x5aee73(0x19d)],console[_0x5aee73(0x295)](_0x19b41f['kveva']);}async function processImageUsingWindowAI(_0x544a59){const _0x15a126=_0x3bc13d,_0x296aeb={'ruGCp':_0x15a126(0x24b),'SFCKy':'Windows\x20AI\x20API\x20not\x20available','iAITo':_0x15a126(0x1e1),'PlWuz':_0x15a126(0x27f),'tuSzZ':_0x15a126(0x262),'VjwPE':_0x15a126(0x283)};console[_0x15a126(0x295)](_0x296aeb[_0x15a126(0x21c)],_0x544a59);if(!window['ai']){console['error'](_0x15a126(0x1d3));throw new Error(_0x296aeb[_0x15a126(0x290)]);}try{console[_0x15a126(0x295)]('[AI]\x20Creating\x20image\x20recognition\x20session...');const _0x2b3900=await window['ai']['createImageSession']();console['log'](_0x296aeb[_0x15a126(0x263)],_0x2b3900),console['log'](_0x296aeb['PlWuz']);const _0x4179ed=await _0x2b3900['recognize'](_0x544a59);return console[_0x15a126(0x295)](_0x296aeb['tuSzZ'],_0x4179ed),_0x4179ed;}catch(_0x1491b7){console[_0x15a126(0x19a)](_0x296aeb[_0x15a126(0x1ee)],_0x1491b7);throw _0x1491b7;}}async function processImageUsingTesseract(_0x4e7bbc){const _0xfb0d7a=_0x3bc13d,_0x25ca57={'cqAgJ':'[Processing]\x20Starting\x20image\x20OCR\x20analysis...','Fmqmx':function(_0x42ee30,_0x453a70,_0x3776ee){return _0x42ee30(_0x453a70,_0x3776ee);},'jfiHV':function(_0x11f5d6,_0x3cd259){return _0x11f5d6>_0x3cd259;},'OmJOk':_0xfb0d7a(0x1ec),'iAsUU':_0xfb0d7a(0x1b8),'pXpGQ':function(_0xfe9040,_0x2f74ff){return _0xfe9040(_0x2f74ff);},'jGNOA':_0xfb0d7a(0x1d9),'aLqnx':_0xfb0d7a(0x286),'PRJiK':_0xfb0d7a(0x1d1)};console['log'](_0x25ca57[_0xfb0d7a(0x252)]),_0x25ca57[_0xfb0d7a(0x277)](addMessage,'Processing\x20image...',![]);try{const _0x5969aa=await extractTextFromImage(_0x4e7bbc);return console[_0xfb0d7a(0x295)](_0xfb0d7a(0x218),_0x5969aa),_0x5969aa[_0xfb0d7a(0x1ec)]&&_0x25ca57[_0xfb0d7a(0x276)](_0x5969aa[_0xfb0d7a(0x1ec)][_0xfb0d7a(0x22d)]()[_0xfb0d7a(0x24d)],0x0)?{'type':_0x25ca57[_0xfb0d7a(0x278)],'content':_0x25ca57[_0xfb0d7a(0x243)],'confidence':_0x5969aa[_0xfb0d7a(0x194)],'topics':_0x25ca57[_0xfb0d7a(0x275)](generateTopics,_0x5969aa[_0xfb0d7a(0x1ec)])}:(console[_0xfb0d7a(0x295)](_0xfb0d7a(0x1a4)),{'type':_0x25ca57[_0xfb0d7a(0x1e0)],'content':_0x25ca57[_0xfb0d7a(0x1ad)],'topics':[_0x25ca57[_0xfb0d7a(0x211)],_0xfb0d7a(0x1c5)],'features':{'timestamp':new Date()[_0xfb0d7a(0x272)](),'dimensions':{'width':_0x4e7bbc['width'],'height':_0x4e7bbc['height']}}});}catch(_0x1d8229){console[_0xfb0d7a(0x19a)]('[Processing]\x20Error\x20during\x20image\x20processing:',_0x1d8229);throw _0x1d8229;}}async function extractTextFromImage(_0x11750e){const _0x54fba6=_0x3bc13d,_0x3eb49c={'jBYXx':_0x54fba6(0x1b9),'bkZtz':'eng','TBfIh':_0x54fba6(0x287),'dHyAV':_0x54fba6(0x28f),'TNiyj':_0x54fba6(0x28c),'fovJu':_0x54fba6(0x1ca),'qklpM':_0x54fba6(0x19b)};console[_0x54fba6(0x295)](_0x3eb49c[_0x54fba6(0x1cc)]);const _0x10ccd1=_0x3eb49c[_0x54fba6(0x27c)];try{const _0x35d3a7=await Tesseract[_0x54fba6(0x23a)]();await _0x35d3a7['load'](),await _0x35d3a7[_0x54fba6(0x1b3)](_0x10ccd1),await _0x35d3a7[_0x54fba6(0x244)](_0x10ccd1),console[_0x54fba6(0x295)](_0x3eb49c[_0x54fba6(0x246)]);const _0x3e2fed=await _0x35d3a7[_0x54fba6(0x23d)](_0x11750e);console[_0x54fba6(0x295)](_0x3eb49c[_0x54fba6(0x253)],_0x3e2fed['data'][_0x54fba6(0x1ec)]),await _0x35d3a7['terminate'](),console[_0x54fba6(0x295)](_0x3eb49c[_0x54fba6(0x1fa)]);const _0x5b3765={'timestamp':new Date()['toISOString'](),'imageSize':{'width':_0x11750e[_0x54fba6(0x238)],'height':_0x11750e['height']},'extractedText':_0x3e2fed[_0x54fba6(0x26a)][_0x54fba6(0x1ec)],'confidenceScore':_0x3e2fed[_0x54fba6(0x26a)][_0x54fba6(0x194)],'suggestedTopics':generateTopics(_0x3e2fed[_0x54fba6(0x26a)][_0x54fba6(0x1ec)])};return{'description':_0x3eb49c['fovJu'],'metadata':_0x5b3765,'text':_0x3e2fed[_0x54fba6(0x26a)]['text'],'confidence':_0x3e2fed[_0x54fba6(0x26a)][_0x54fba6(0x194)]};}catch(_0x22bfbc){return console[_0x54fba6(0x19a)](_0x3eb49c['qklpM'],_0x22bfbc),{'text':'','confidence':0x0};}}function generateTopics(_0x486c29){const _0x2ce7fe=_0x3bc13d,_0x25822b={'CivTS':_0x2ce7fe(0x21d),'YWbnJ':_0x2ce7fe(0x193),'sbhOD':_0x2ce7fe(0x1c7),'AfogM':_0x2ce7fe(0x245),'WUfIY':_0x2ce7fe(0x26e),'uBHDn':'Art'},_0x10bf0a=new Set(),_0x1d80f6=_0x486c29['toLowerCase'](),_0x39b897=[{'pattern':/\b(math|equation|calculate|formula|number)\b/,'topic':_0x25822b[_0x2ce7fe(0x296)]},{'pattern':/\b(science|experiment|chemical|biology|physics)\b/,'topic':_0x25822b[_0x2ce7fe(0x269)]},{'pattern':/\b(history|century|ancient|war|empire|civilization)\b/,'topic':_0x25822b[_0x2ce7fe(0x1e2)]},{'pattern':/\b(geography|country|capital|mountain|river|climate)\b/,'topic':_0x25822b['AfogM']},{'pattern':/\b(grammar|sentence|paragraph|essay|writing)\b/,'topic':_0x25822b['WUfIY']},{'pattern':/\b(art|color|design|paint|draw)\b/,'topic':_0x25822b[_0x2ce7fe(0x1f0)]}];return _0x39b897[_0x2ce7fe(0x1f8)](_0x2676b9=>{const _0x1871bf=_0x2ce7fe;_0x2676b9[_0x1871bf(0x1c2)]['test'](_0x1d80f6)&&_0x10bf0a[_0x1871bf(0x25c)](_0x2676b9[_0x1871bf(0x18d)]);}),_0x10bf0a[_0x2ce7fe(0x1e9)]===0x0&&_0x10bf0a[_0x2ce7fe(0x25c)](_0x2ce7fe(0x1c5)),Array[_0x2ce7fe(0x208)](_0x10bf0a);}async function generateQuizUsingAI(_0x352392,_0x454371){const _0x367b78=_0x3bc13d,_0x4690fa={'EQiug':_0x367b78(0x18c),'iSTEG':_0x367b78(0x23e),'pbNpf':_0x367b78(0x20f),'sHDHc':'[Quiz]\x20Constructed\x20system\x20prompt:','vVHMX':_0x367b78(0x20a),'xphSO':_0x367b78(0x235),'Kqbdl':_0x367b78(0x1da),'SBrBm':function(_0x49cb39,_0x126dff,_0x4fce08){return _0x49cb39(_0x126dff,_0x4fce08);},'KNSbE':function(_0x4d8fd5){return _0x4d8fd5();},'XtoKO':function(_0x4dc2eb,_0x4a3875){return _0x4dc2eb(_0x4a3875);},'HQYfI':_0x367b78(0x21e),'DAXYG':function(_0x4a4bef,_0x40575e){return _0x4a4bef(_0x40575e);},'qNeKs':_0x367b78(0x280),'MEMoj':function(_0x1b7602){return _0x1b7602();},'CddHv':_0x367b78(0x223),'dlncJ':function(_0x2464b7,_0x2265ef,_0x552ac6){return _0x2464b7(_0x2265ef,_0x552ac6);},'IalMY':_0x367b78(0x224),'Npeii':function(_0x2a8bba,_0x424da1,_0x1a4c4d){return _0x2a8bba(_0x424da1,_0x1a4c4d);},'iDLbN':function(_0x49876a,_0x12be26,_0x7e40f6){return _0x49876a(_0x12be26,_0x7e40f6);},'dFbZg':'Generated\x20a\x20basic\x20quiz\x20without\x20AI\x20assistance:','UJlAI':function(_0x6461cf,_0x58d1b9){return _0x6461cf(_0x58d1b9);},'OYgYk':_0x367b78(0x233),'eaIyl':function(_0x37c0fb,_0x4ed602,_0xd8fc7f){return _0x37c0fb(_0x4ed602,_0xd8fc7f);},'IKjqx':_0x367b78(0x1bb)};console[_0x367b78(0x295)](_0x4690fa['EQiug'],{'imageContext':_0x352392,'userPrompt':_0x454371});try{console[_0x367b78(0x295)](_0x4690fa[_0x367b78(0x1f3)],JSON[_0x367b78(0x206)](_0x352392));if(!window['ai'])throw new Error(_0x4690fa['pbNpf']);const _0x574e1b='You\x20are\x20a\x20quiz\x20generator.\x20Create\x20a\x20quiz\x20based\x20on\x20the\x20following\x20image\x20context\x20and\x20user\x20requirements.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Image\x20context:\x20'+JSON[_0x367b78(0x206)](_0x352392)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Format\x20the\x20response\x20as\x20a\x20JSON\x20quiz\x20object\x20with\x20id,\x20grade,\x20subject,\x20title,\x20timeLimit,\x20topic,\x20and\x20questions\x20array.';console['log'](_0x4690fa[_0x367b78(0x1de)],_0x574e1b);const _0x272166=[{'role':_0x4690fa[_0x367b78(0x19c)],'content':_0x574e1b},{'role':'user','content':_0x454371}],_0x291bcd=document[_0x367b78(0x229)](_0x4690fa['xphSO']);_0x291bcd[_0x367b78(0x19e)]=_0x4690fa[_0x367b78(0x1ea)],chatMessages[_0x367b78(0x1f5)](_0x291bcd),_0x4690fa[_0x367b78(0x199)](showTypingIndicator,chatMessages,_0x367b78(0x254));if(!aiLanguageSession)await _0x4690fa[_0x367b78(0x1fc)](initializeLanguageSession);const _0x462caf=await aiLanguageSession['promptStreaming'](_0x574e1b+_0x367b78(0x1f1)+_0x454371);let _0x1b753f='';for await(const _0x48e83b of _0x462caf){_0x1b753f+=_0x48e83b,_0x291bcd[_0x367b78(0x22e)]=_0x1b753f,chatMessages[_0x367b78(0x209)]=chatMessages[_0x367b78(0x189)];}_0x291bcd['remove']();let _0x4f2e09;try{_0x4f2e09=_0x4690fa[_0x367b78(0x213)](safeJSONParse,_0x1b753f),addMessage(_0x4690fa['HQYfI'],![]),_0x4690fa[_0x367b78(0x1a0)](addQuiz,_0x4f2e09);}catch(_0x281421){console[_0x367b78(0x19a)](_0x4690fa['qNeKs'],_0x281421),addMessage(_0x1b753f,![]);throw _0x281421;}_0x4690fa[_0x367b78(0x1a7)](removeTypingIndicator);}catch(_0x3e5496){console[_0x367b78(0x19a)](_0x4690fa[_0x367b78(0x273)],_0x3e5496),removeTypingIndicator(),_0x4690fa[_0x367b78(0x271)](addMessage,_0x4690fa[_0x367b78(0x219)],![]);try{const _0x5d513d=await _0x4690fa[_0x367b78(0x26c)](generateQuizWithoutAI,_0x352392,_0x454371);_0x4690fa[_0x367b78(0x1e7)](addMessage,_0x4690fa[_0x367b78(0x28a)],![]),_0x4690fa[_0x367b78(0x202)](addQuiz,_0x5d513d);}catch(_0x5c7af3){console[_0x367b78(0x19a)](_0x4690fa[_0x367b78(0x1f7)],_0x5c7af3),_0x4690fa['eaIyl'](addMessage,_0x4690fa[_0x367b78(0x28b)],![]);}}}function generateOptionsFromText(_0x328208){const _0x37eede=_0x3bc13d,_0x28b9e1={'SInex':function(_0x43a2da,_0x40f027){return _0x43a2da<_0x40f027;},'Phpqy':_0x37eede(0x23c),'QTMej':function(_0x56a426,_0x110b6c){return _0x56a426+_0x110b6c;}},_0x127981=_0x328208[_0x37eede(0x205)](/[.!?]+/)[_0x37eede(0x1b5)](_0x298238=>_0x298238['trim']()['length']>0x0),_0x48cc9f=_0x127981[_0x37eede(0x21b)](0x0,0x4)[_0x37eede(0x250)](_0x15ec62=>_0x15ec62['trim']());while(_0x28b9e1['SInex'](_0x48cc9f['length'],0x4)){_0x48cc9f[_0x37eede(0x260)](_0x28b9e1['Phpqy']+_0x28b9e1['QTMej'](_0x48cc9f['length'],0x1));}return _0x48cc9f;}function generateCustomQuestion(_0x2d99e1,_0x1ea37a){const _0x281d4d=_0x3bc13d,_0x9d4f64={'htcCv':_0x281d4d(0x1d2)};return _0x2d99e1[_0x281d4d(0x255)]()['includes'](_0x9d4f64[_0x281d4d(0x1c1)])?_0x2d99e1:_0x281d4d(0x1ed)+_0x1ea37a[_0x281d4d(0x205)]('\x20')[_0x281d4d(0x21b)](0x0,0x3)['join']('\x20')+'...?';}function addMessage(_0x4118ab,_0x1a7915=![]){const _0x5ab814=_0x3bc13d,_0x58481f={'LlKyL':_0x5ab814(0x22a)};console[_0x5ab814(0x295)](_0x5ab814(0x242)+(_0x1a7915?_0x5ab814(0x204):_0x5ab814(0x1a8))+':',_0x4118ab);const _0x4b148f=document[_0x5ab814(0x229)](_0x5ab814(0x235));_0x4b148f[_0x5ab814(0x19e)]='message\x20'+(_0x1a7915?_0x58481f[_0x5ab814(0x247)]:_0x5ab814(0x1dd)),_0x4b148f[_0x5ab814(0x22e)]=_0x4118ab,chatMessages['appendChild'](_0x4b148f),chatMessages['scrollTop']=chatMessages[_0x5ab814(0x189)];}function addQuiz(_0x3c6325){const _0x168acb=_0x3bc13d,_0x81112b={'FHTpn':_0x168acb(0x235),'JDvXa':_0x168acb(0x1f6),'hHKwy':_0x168acb(0x1b1)};console[_0x168acb(0x295)](_0x168acb(0x230),_0x3c6325);const _0x6059f2=document[_0x168acb(0x229)](_0x81112b[_0x168acb(0x1af)]);_0x6059f2[_0x168acb(0x19e)]='quiz-container';const _0x5df21b=_0x168acb(0x1fb)+_0x3c6325[_0x168acb(0x212)]+_0x168acb(0x23b)+_0x3c6325['grade']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20Subject:\x20'+_0x3c6325[_0x168acb(0x24c)]+_0x168acb(0x195)+_0x3c6325[_0x168acb(0x1b0)]+'\x20minutes\x0a\x20\x20\x20\x20\x20\x20\x20\x20Topics:\x20'+_0x3c6325['topic']+_0x168acb(0x1aa)+_0x3c6325['questions'][_0x168acb(0x250)]((_0x311421,_0x4cfc9b)=>_0x168acb(0x1b4)+(_0x4cfc9b+0x1)+'.\x20'+_0x311421[_0x168acb(0x1dc)]+_0x168acb(0x1b4)+(_0x311421['options']?_0x311421[_0x168acb(0x281)][_0x168acb(0x250)]((_0x617b6d,_0x5b95d6)=>_0x168acb(0x292)+String[_0x168acb(0x215)](0x61+_0x5b95d6)+')\x20'+_0x617b6d)[_0x168acb(0x221)]('\x0a'):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20Type:\x20'+_0x311421['type']+_0x168acb(0x1db)+_0x311421[_0x168acb(0x1ef)]+_0x168acb(0x1b4))[_0x168acb(0x221)]('\x0a')+_0x168acb(0x222),_0x588a5b=document[_0x168acb(0x229)](_0x81112b[_0x168acb(0x26f)]);_0x588a5b['textContent']=_0x5df21b,_0x6059f2[_0x168acb(0x1f5)](_0x588a5b);const _0x4357bc=document[_0x168acb(0x229)](_0x168acb(0x1cb));_0x4357bc[_0x168acb(0x19e)]='copy-button',_0x4357bc[_0x168acb(0x22e)]=_0x81112b[_0x168acb(0x1d0)],_0x4357bc[_0x168acb(0x1e5)]=()=>{const _0x248800=_0x168acb;navigator[_0x248800(0x267)][_0x248800(0x225)](_0x5df21b)['then'](()=>_0x4357bc[_0x248800(0x22e)]=_0x248800(0x1c9))[_0x248800(0x201)](_0x5752d6=>console[_0x248800(0x19a)]('Copy\x20failed:',_0x5752d6))['finally'](()=>setTimeout(()=>_0x4357bc['textContent']=_0x248800(0x1b1),0x7d0));},_0x6059f2[_0x168acb(0x1f5)](_0x4357bc),chatMessages[_0x168acb(0x1f5)](_0x6059f2),chatMessages['scrollTop']=chatMessages[_0x168acb(0x189)];}async function captureImage(){const _0x1e5d5a=_0x3bc13d,_0x538b06={'coZuN':'prompt-suggestion','eLjWk':'[Camera]\x20Capturing\x20image...','FDCye':_0x1e5d5a(0x1bf),'bfnDp':_0x1e5d5a(0x198),'NaMVQ':_0x1e5d5a(0x1cd),'IMSuc':_0x1e5d5a(0x235),'Ojtdb':_0x1e5d5a(0x192),'bXGGh':function(_0x3d3d75){return _0x3d3d75();},'MInzO':function(_0xe2a508,_0x4a8512){return _0xe2a508(_0x4a8512);},'hzqMN':'[Processing]\x20Image\x20processing\x20completed:','hfsWS':function(_0x5cbd94,_0x5997e7,_0x2d7e75){return _0x5cbd94(_0x5997e7,_0x2d7e75);},'RVFMz':'Image\x20captured!\x20Please\x20provide\x20your\x20requirements\x20for\x20the\x20quiz.','VpEoL':function(_0x4fbf39,_0x56f2bc){return _0x4fbf39===_0x56f2bc;},'EKSAv':_0x1e5d5a(0x1ec),'XhZKq':_0x1e5d5a(0x25a),'wHoaJ':'Make\x20a\x20quiz\x20suitable\x20for\x20beginners','hlfNA':_0x1e5d5a(0x241),'gCQWl':_0x1e5d5a(0x26b)};console[_0x1e5d5a(0x295)](_0x538b06[_0x1e5d5a(0x196)]);try{const _0x2ffa48=document[_0x1e5d5a(0x229)](_0x538b06[_0x1e5d5a(0x214)]);_0x2ffa48['width']=cameraPreview[_0x1e5d5a(0x1bc)],_0x2ffa48[_0x1e5d5a(0x220)]=cameraPreview[_0x1e5d5a(0x21f)],_0x2ffa48['getContext']('2d')[_0x1e5d5a(0x298)](cameraPreview,0x0,0x0);const _0x571cbd=document[_0x1e5d5a(0x229)](_0x1e5d5a(0x294));_0x571cbd['src']=_0x2ffa48[_0x1e5d5a(0x232)](_0x538b06[_0x1e5d5a(0x25b)]),_0x571cbd[_0x1e5d5a(0x19e)]=_0x538b06[_0x1e5d5a(0x1df)];const _0x360a19=document[_0x1e5d5a(0x229)](_0x538b06[_0x1e5d5a(0x258)]);_0x360a19[_0x1e5d5a(0x19e)]=_0x538b06[_0x1e5d5a(0x27b)],_0x360a19[_0x1e5d5a(0x1f5)](_0x571cbd),chatMessages[_0x1e5d5a(0x1f5)](_0x360a19),_0x538b06[_0x1e5d5a(0x26d)](stopCamera);const _0x234655=await _0x538b06['MInzO'](processImageUsingTesseract,_0x571cbd);imageContext=_0x234655,console[_0x1e5d5a(0x295)](_0x538b06[_0x1e5d5a(0x1cf)],JSON['stringify'](imageContext,null,0x2)),_0x538b06[_0x1e5d5a(0x228)](addMessage,_0x538b06[_0x1e5d5a(0x1f2)],![]);const _0x16fd54=[_0x1e5d5a(0x289)+imageContext[_0x1e5d5a(0x25d)][0x0]+'\x20-\x20'+imageContext[_0x1e5d5a(0x279)],_0x538b06[_0x1e5d5a(0x1fe)](imageContext[_0x1e5d5a(0x21a)],_0x538b06[_0x1e5d5a(0x200)])?_0x1e5d5a(0x284)+imageContext['content']:_0x538b06[_0x1e5d5a(0x1c3)],_0x538b06[_0x1e5d5a(0x257)]];_0x16fd54['forEach'](_0x489f22=>{const _0x13dcd4=_0x1e5d5a,_0x29bfc9=document[_0x13dcd4(0x229)](_0x13dcd4(0x235));_0x29bfc9[_0x13dcd4(0x19e)]=_0x538b06['coZuN'],_0x29bfc9[_0x13dcd4(0x22e)]=_0x489f22,_0x29bfc9[_0x13dcd4(0x1e5)]=()=>{const _0x3b8dcb=_0x13dcd4;messageInput[_0x3b8dcb(0x25e)]=_0x489f22,sendMessage();},chatMessages[_0x13dcd4(0x1f5)](_0x29bfc9);});}catch(_0x57d29d){console['error'](_0x538b06[_0x1e5d5a(0x268)],_0x57d29d),_0x538b06[_0x1e5d5a(0x228)](addMessage,_0x538b06[_0x1e5d5a(0x293)],![]);}}async function sendMessage(){const _0x326207=_0x3bc13d,_0x414a78={'ryNUM':'[Chat]\x20Sending\x20message:','rhBkJ':function(_0x107d6b,_0x2cb7ca,_0x253f00){return _0x107d6b(_0x2cb7ca,_0x253f00);},'GHotB':function(_0x1105a2,_0x4f98cc,_0x4cb203){return _0x1105a2(_0x4f98cc,_0x4cb203);},'DqFQy':_0x326207(0x1e8),'NLjOP':function(_0xf65bf5,_0x1acfb0){return _0xf65bf5(_0x1acfb0);},'wCZiE':_0x326207(0x226),'asdcf':function(_0x4c0417,_0x4fcda7,_0x363502){return _0x4c0417(_0x4fcda7,_0x363502);},'yJOLa':_0x326207(0x1ab)},_0x570c25=messageInput[_0x326207(0x25e)]['trim']();if(!_0x570c25)return;console['log'](_0x414a78[_0x326207(0x1d5)],_0x570c25),_0x414a78['rhBkJ'](addMessage,_0x570c25,!![]),messageInput[_0x326207(0x25e)]='';if(imageContext)try{const _0x3a5ef1=await _0x414a78[_0x326207(0x274)](generateQuizUsingAI,imageContext,_0x570c25);_0x414a78[_0x326207(0x1c0)](addMessage,_0x414a78[_0x326207(0x1eb)],![]),_0x414a78[_0x326207(0x207)](addQuiz,_0x3a5ef1);}catch(_0x4ee15c){_0x414a78[_0x326207(0x274)](addMessage,_0x414a78[_0x326207(0x1ff)],![]);}else _0x414a78['asdcf'](addMessage,_0x414a78[_0x326207(0x1a5)],![]);}function toggleTheme(){const _0x2523b7=_0x3bc13d,_0x1e960a={'gNANc':function(_0x59ea9b,_0x2e0d1f){return _0x59ea9b===_0x2e0d1f;},'bbNKk':_0x2523b7(0x266),'uOMqy':'dark'},_0x43ec93=document[_0x2523b7(0x1ae)],_0x967395=_0x43ec93[_0x2523b7(0x1bd)](_0x2523b7(0x18a)),_0x477a8d=_0x1e960a[_0x2523b7(0x234)](_0x967395,_0x2523b7(0x237))?_0x1e960a['bbNKk']:_0x1e960a['uOMqy'];_0x43ec93['setAttribute'](_0x2523b7(0x18a),_0x477a8d),localStorage[_0x2523b7(0x261)](_0x2523b7(0x1b7),_0x477a8d);}themeToggle[_0x3bc13d(0x24f)](_0x3bc13d(0x1b2),toggleTheme),cameraButton['addEventListener'](_0x3bc13d(0x1b2),startCamera),captureButton[_0x3bc13d(0x24f)](_0x3bc13d(0x1b2),captureImage),cancelButton[_0x3bc13d(0x24f)](_0x3bc13d(0x1b2),stopCamera),sendButton['addEventListener'](_0x3bc13d(0x1b2),sendMessage),messageInput[_0x3bc13d(0x24f)](_0x3bc13d(0x28d),_0x5f2b92=>{const _0x28d0f2=_0x3bc13d,_0x3357fa={'GVisg':_0x28d0f2(0x1d4),'AhuXg':function(_0x16696c){return _0x16696c();}};if(_0x5f2b92['key']===_0x3357fa[_0x28d0f2(0x291)])_0x3357fa[_0x28d0f2(0x1ce)](sendMessage);});async function generateQuizWithoutAI(_0x124036,_0x45febe){const _0x327bd4=_0x3bc13d,_0x5b18be={'TfPqH':'[Quiz]\x20Generating\x20quiz...','jHSXZ':_0x327bd4(0x1ec),'HQljg':_0x327bd4(0x239),'adfUt':_0x327bd4(0x20b),'bSgJL':_0x327bd4(0x24a),'BFyFC':_0x327bd4(0x1fd),'YScCJ':_0x327bd4(0x19f),'apDjT':_0x327bd4(0x27e),'jBScL':_0x327bd4(0x18b),'TvNwW':_0x327bd4(0x282),'MmbtM':_0x327bd4(0x1a6),'WEYAe':_0x327bd4(0x197),'NKGup':_0x327bd4(0x18e)};console['log'](_0x5b18be[_0x327bd4(0x1d7)],{'imageContext':_0x124036,'userPrompt':_0x45febe});try{const _0x211504=_0x124036[_0x327bd4(0x21a)]===_0x5b18be['jHSXZ'],_0x518985=_0x124036[_0x327bd4(0x279)],_0x46c2d0=_0x124036[_0x327bd4(0x25d)],_0x29bde5=[];_0x211504?(_0x29bde5['push']({'question':_0x5b18be[_0x327bd4(0x190)],'type':_0x327bd4(0x18b),'options':generateOptionsFromText(_0x518985),'answer':_0x5b18be[_0x327bd4(0x1f4)],'points':0x2}),_0x29bde5[_0x327bd4(0x260)]({'question':_0x5b18be[_0x327bd4(0x1ba)],'type':_0x5b18be[_0x327bd4(0x203)],'answer':_0x5b18be[_0x327bd4(0x1c6)],'points':0x2})):_0x29bde5[_0x327bd4(0x260)]({'question':'What\x20can\x20you\x20observe\x20in\x20this\x20image?','type':_0x5b18be[_0x327bd4(0x203)],'answer':_0x5b18be[_0x327bd4(0x1b6)],'points':0x2});_0x29bde5[_0x327bd4(0x260)]({'question':generateCustomQuestion(_0x45febe,_0x518985),'type':_0x5b18be[_0x327bd4(0x27d)],'options':[_0x327bd4(0x20b),_0x5b18be[_0x327bd4(0x1be)],_0x5b18be['MmbtM'],'Option\x20D'],'answer':_0x5b18be['adfUt'],'points':0x2});const _0x40e32c={'id':Date[_0x327bd4(0x1e6)]()[_0x327bd4(0x251)](),'title':_0x46c2d0[0x0]+_0x327bd4(0x1a3),'subject':_0x46c2d0[0x0],'grade':_0x5b18be['WEYAe'],'timeLimit':0xf,'topic':_0x46c2d0[_0x327bd4(0x221)](',\x20'),'questions':_0x29bde5};return _0x40e32c;}catch(_0x3fed2a){console[_0x327bd4(0x19a)](_0x5b18be[_0x327bd4(0x25f)],_0x3fed2a);throw _0x3fed2a;}}function _0x3858(){const _0x2a4636=['Bot','2720SxhLaQ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20Questions:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Please\x20capture\x20an\x20image\x20first\x20before\x20providing\x20quiz\x20requirements.','label','aLqnx','documentElement','FHTpn','timeLimit','Copy\x20Quiz','click','loadLanguage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','filter','apDjT','theme','Washington\x20Drivers\x20License\x20Test','[OCR]\x20Starting\x20text\x20extraction...','bSgJL','Quiz\x20generation\x20failed\x20completely.\x20Please\x20try\x20again\x20later.','videoWidth','getAttribute','TvNwW','canvas','GHotB','htcCv','pattern','XhZKq','mediaDevices','General\x20Knowledge','YScCJ','History','891knbInc','Copied!','Image\x20and\x20text\x20analysis\x20complete','button','jBYXx','captured-image','AhuXg','hzqMN','hHKwy','Visual\x20Analysis','what','[AI]\x20Windows\x20AI\x20API\x20not\x20found\x20in\x20window\x20object','Enter','ryNUM','getElementById','TfPqH','style','image','message\x20bot-message\x20streaming','\x0a\x20\x20\x20\x20\x20\x20\x20\x20Points:\x20','question','bot-message','sHDHc','NaMVQ','jGNOA','[AI]\x20Image\x20session\x20created:','sbhOD','jyKBi','GwzjB','onclick','now','iDLbN','I\x27ve\x20generated\x20a\x20quiz\x20based\x20on\x20your\x20requirements:','size','Kqbdl','DqFQy','text','What\x20is\x20the\x20significance\x20of\x20','VjwPE','points','uBHDn','\x0a\x0aUser\x20request:\x20','RVFMz','iSTEG','adfUt','appendChild','pre','OYgYk','forEach','sendButton','TNiyj','\x0a\x20\x20\x20\x20\x20\x20\x20\x20Title:\x20','KNSbE','open_ended','VpEoL','wCZiE','EKSAv','catch','UJlAI','BFyFC','User','split','stringify','NLjOP','from','scrollTop','system','Option\x20A','110751sKcaEk','cancelButton','[Camera]\x20Error\x20accessing\x20camera:','window.ai\x20API\x20not\x20available','2752560TgesTM','PRJiK','title','XtoKO','FDCye','fromCharCode','[Camera]\x20Starting\x20camera\x20initialization...','HwQDj','[OCR]\x20Text\x20extraction\x20result:','IalMY','type','slice','ruGCp','Mathematics','I\x27ve\x20generated\x20a\x20quiz\x20based\x20on\x20your\x20image\x20and\x20requirements:','videoHeight','height','join','\x0a\x20\x20\x20\x20','[Quiz]\x20Error\x20in\x20quiz\x20generation\x20using\x20Gemini\x20Nano\x20AI:','Sorry,\x20I\x20couldn\x27t\x20generate\x20the\x20quiz\x20using\x20Gemini\x20Nano\x20AI.\x20Please\x20try\x20again.','writeText','Sorry,\x20I\x20couldn\x27t\x20generate\x20the\x20quiz.\x20Please\x20try\x20again.','[Camera]\x20Camera\x20stopped\x20and\x20container\x20hidden','hfsWS','createElement','user-message','1554805WWPhKD','display','trim','textContent','Wxccm','[UI]\x20Adding\x20quiz\x20to\x20chat:','[Camera]\x20Camera\x20preview\x20started\x20and\x20container\x20displayed','toDataURL','[Quiz]\x20Fallback\x20generation\x20also\x20failed:','gNANc','div','themeToggle','dark','width','Based\x20on\x20the\x20text,\x20what\x20is\x20the\x20main\x20topic\x20being\x20discussed?','createWorker','\x0a\x20\x20\x20\x20\x20\x20\x20\x20Grade:\x20','Additional\x20option\x20','recognize','imageContext:','Keoga','[Camera]\x20Stopping\x20track:','[Camera]\x20Error\x20processing\x20captured\x20image:','[UI]\x20Adding\x20message:\x20','iAsUU','initialize','Geography','TBfIh','LlKyL','messageInput','[Camera]\x20Successfully\x20got\x20media\x20stream:','What\x20are\x20the\x20key\x20points\x20mentioned\x20in\x20the\x20text?','[AI]\x20Starting\x20image\x20processing...','subject','length','none','addEventListener','map','toString','cqAgJ','dHyAV','Generating\x20quiz...','toLowerCase','srcObject','wHoaJ','IMSuc','2301936CiQOgD','Generate\x20multiple\x20choice\x20questions\x20about\x20this\x20picture','bfnDp','add','topics','value','NKGup','push','setItem','[AI]\x20Image\x20recognition\x20completed.\x20Result:','iAITo','chatMessages','xJZIf','light','clipboard','hlfNA','YWbnJ','data','Sorry,\x20I\x20couldn\x27t\x20process\x20the\x20image.\x20Please\x20try\x20again.','Npeii','bXGGh','Language\x20Arts','JDvXa','flex','dlncJ','toISOString','CddHv','rhBkJ','pXpGQ','jfiHV','Fmqmx','OmJOk','content','getUserMedia','Ojtdb','bkZtz','jBScL','Description\x20of\x20visual\x20elements','[AI]\x20Performing\x20image\x20recognition...','[Quiz]\x20Failed\x20to\x20parse\x20AI\x20response:','options','Option\x20B','[AI]\x20Error\x20during\x20image\x20processing:','Generate\x20questions\x20based\x20on\x20the\x20image\x20related\x20text\x20-\x20','4415OdaeUZ','Visual\x20content\x20detected','[OCR]\x20Worker\x20initialized','captureButton','Create\x20a\x20quiz\x20about\x20','dFbZg','IKjqx','[OCR]\x20Worker\x20terminated','keypress','stop','[OCR]\x20Text\x20extracted:','SFCKy','GVisg','\x20\x20\x20','gCQWl','img','log','CivTS','cameraContainer','drawImage','scrollHeight','data-theme','multiple_choice','[Quiz]\x20Starting\x20quiz\x20generation\x20with\x20Gemini\x20Nano...','topic','[Quiz]\x20Error\x20generating\x20quiz:','3222927ZRIYdP','HQljg','vyZkz','message\x20bot-message','Science','confidence','\x0a\x20\x20\x20\x20\x20\x20\x20\x20Time\x20Limit:\x20','eLjWk','General','image/jpeg','SBrBm','error','[OCR]\x20Error\x20in\x20text\x20extraction:','vVHMX','FXjjE','className','Student\x20should\x20identify\x20main\x20points\x20from\x20the\x20text','DAXYG','204992xJbcBr','cameraButton','\x20Quiz','[Processing]\x20No\x20OCR\x20text\x20found,\x20falling\x20back\x20to\x20image\x20analysis','yJOLa','Option\x20C','MEMoj'];_0x3858=function(){return _0x2a4636;};return _0x3858();}