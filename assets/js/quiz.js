
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x26010d=_0x41f3;(function(_0x33cd49,_0x5eece4){const _0x405d64=_0x41f3,_0x298f35=_0x33cd49();while(!![]){try{const _0x19269d=-parseInt(_0x405d64(0x138))/0x1+-parseInt(_0x405d64(0x1d1))/0x2*(parseInt(_0x405d64(0x1f6))/0x3)+parseInt(_0x405d64(0x1ab))/0x4*(parseInt(_0x405d64(0xe5))/0x5)+parseInt(_0x405d64(0x1b8))/0x6*(-parseInt(_0x405d64(0xfe))/0x7)+parseInt(_0x405d64(0x163))/0x8+parseInt(_0x405d64(0x15b))/0x9*(-parseInt(_0x405d64(0x149))/0xa)+parseInt(_0x405d64(0x143))/0xb*(parseInt(_0x405d64(0x10a))/0xc);if(_0x19269d===_0x5eece4)break;else _0x298f35['push'](_0x298f35['shift']());}catch(_0x33f23d){_0x298f35['push'](_0x298f35['shift']());}}}(_0x280b,0xc7e3c));import{Logger}from'./common.js';const chatMessages=document[_0x26010d(0x140)](_0x26010d(0x150)),messageInput=document[_0x26010d(0x140)](_0x26010d(0x18c)),sendButton=document['getElementById'](_0x26010d(0x1a3)),cameraButton=document[_0x26010d(0x140)](_0x26010d(0x1e6)),themeToggle=document[_0x26010d(0x140)](_0x26010d(0xe6)),cameraContainer=document[_0x26010d(0x140)](_0x26010d(0x1e7)),cameraPreview=document[_0x26010d(0x140)]('cameraPreview'),captureButton=document['getElementById'](_0x26010d(0x189)),cancelButton=document[_0x26010d(0x140)](_0x26010d(0x147));let stream=null,imageContext=null;async function startCamera(){const _0x30a021=_0x26010d,_0x2a2985={'GNitc':_0x30a021(0x1f3),'OPVyn':_0x30a021(0x1f0),'XiJiH':_0x30a021(0x1bc),'yHhOd':'environment','iklpZ':'[Camera]\x20Successfully\x20got\x20media\x20stream:','fTdva':'[Camera]\x20Camera\x20preview\x20started\x20and\x20container\x20displayed','rIPxx':_0x30a021(0x1b0),'JRChW':function(_0x3b4d2b,_0x235cec){return _0x3b4d2b(_0x235cec);},'gEzqp':function(_0x552c30,_0x566a4d){return _0x552c30+_0x566a4d;},'ODAxk':_0x30a021(0x116)};console[_0x30a021(0x16e)](_0x2a2985[_0x30a021(0x199)]);try{const _0x5d4235=_0x2a2985['OPVyn'][_0x30a021(0x121)]('|');let _0x3e8a0c=0x0;while(!![]){switch(_0x5d4235[_0x3e8a0c++]){case'0':cameraContainer[_0x30a021(0x10f)][_0x30a021(0x12c)]=_0x2a2985[_0x30a021(0x181)];continue;case'1':stream=await navigator[_0x30a021(0x10d)][_0x30a021(0x165)]({'video':{'facingMode':_0x2a2985['yHhOd']}});continue;case'2':cameraPreview[_0x30a021(0x101)]=stream;continue;case'3':console[_0x30a021(0x16e)](_0x2a2985['iklpZ'],stream);continue;case'4':console['log'](_0x2a2985[_0x30a021(0x10b)]);continue;}break;}}catch(_0xb4916e){console[_0x30a021(0x16a)](_0x2a2985[_0x30a021(0x184)],_0xb4916e),_0x2a2985[_0x30a021(0x14b)](addMessage,_0x2a2985[_0x30a021(0x1fc)](_0x2a2985[_0x30a021(0x1a4)],_0xb4916e['message']));}}function stopCamera(){const _0x28a11a=_0x26010d,_0x506e21={'uMLeT':_0x28a11a(0x1de)};console['log'](_0x506e21['uMLeT']),stream&&(stream[_0x28a11a(0x1e2)]()[_0x28a11a(0x1e3)](_0x3c8f1f=>{const _0x28e722=_0x28a11a;console[_0x28e722(0x16e)](_0x28e722(0x106),_0x3c8f1f[_0x28e722(0x16b)]),_0x3c8f1f[_0x28e722(0x11e)]();}),stream=null),cameraContainer[_0x28a11a(0x10f)][_0x28a11a(0x12c)]=_0x28a11a(0x1f9),console['log']('[Camera]\x20Camera\x20stopped\x20and\x20container\x20hidden');}async function processImageUsingWindowAI(_0x5904c3){const _0x288b71=_0x26010d,_0x42e04b={'SWylO':_0x288b71(0x100),'nNKCK':'Windows\x20AI\x20API\x20not\x20available','mctCe':_0x288b71(0x153),'iyjtP':_0x288b71(0xf9),'eOgiD':_0x288b71(0x19c),'bbktc':_0x288b71(0x1ce)};console['log'](_0x288b71(0x1b6),_0x5904c3);if(!window['ai']){console[_0x288b71(0x16a)](_0x42e04b[_0x288b71(0x1eb)]);throw new Error(_0x42e04b['nNKCK']);}try{console[_0x288b71(0x16e)](_0x288b71(0x185));const _0x34edd8=await window['ai'][_0x288b71(0x1cf)]();console['log'](_0x42e04b[_0x288b71(0x1dd)],_0x34edd8),console[_0x288b71(0x16e)](_0x42e04b[_0x288b71(0x19f)]);const _0x456300=await _0x34edd8[_0x288b71(0x177)](_0x5904c3);return console[_0x288b71(0x16e)](_0x42e04b['eOgiD'],_0x456300),_0x456300;}catch(_0x52c5a2){console['error'](_0x42e04b[_0x288b71(0x112)],_0x52c5a2);throw _0x52c5a2;}}async function processImageUsingTesseract(_0x4c1aef){const _0x35dd05=_0x26010d,_0x3187ee={'ROjEc':'[Processing]\x20Starting\x20image\x20OCR\x20analysis...','FhNbZ':function(_0x4b40e4,_0x4af0a9,_0x585b77){return _0x4b40e4(_0x4af0a9,_0x585b77);},'CDAXV':'Processing\x20image...','PLsMd':function(_0x490b96,_0x1c5255){return _0x490b96(_0x1c5255);},'xWRWM':function(_0x21b4ed,_0x51b843){return _0x21b4ed>_0x51b843;},'RgHfq':'text','YqmmK':_0x35dd05(0x1c1),'hxYQe':_0x35dd05(0x179),'MCQjw':'Visual\x20Analysis','XNynj':'[Processing]\x20Error\x20during\x20image\x20processing:'};console[_0x35dd05(0x16e)](_0x3187ee[_0x35dd05(0x1cb)]),_0x3187ee[_0x35dd05(0x197)](addMessage,_0x3187ee[_0x35dd05(0x15f)],![]);try{const _0xc00c61=await _0x3187ee[_0x35dd05(0xfa)](extractTextFromImage,_0x4c1aef);return console[_0x35dd05(0x16e)](_0x35dd05(0x1a2),_0xc00c61),_0xc00c61[_0x35dd05(0x13f)]&&_0x3187ee[_0x35dd05(0x158)](_0xc00c61[_0x35dd05(0x13f)][_0x35dd05(0x1a0)]()['length'],0x0)?{'type':_0x3187ee[_0x35dd05(0x13c)],'content':_0x3187ee[_0x35dd05(0x1ea)],'confidence':_0xc00c61[_0x35dd05(0x1d4)],'topics':_0x3187ee[_0x35dd05(0xfa)](generateTopics,_0xc00c61['text'])}:(console[_0x35dd05(0x16e)]('[Processing]\x20No\x20OCR\x20text\x20found,\x20falling\x20back\x20to\x20image\x20analysis'),{'type':_0x35dd05(0x13e),'content':_0x3187ee[_0x35dd05(0x129)],'topics':[_0x3187ee[_0x35dd05(0x194)],_0x35dd05(0x187)],'features':{'timestamp':new Date()[_0x35dd05(0x11a)](),'dimensions':{'width':_0x4c1aef['width'],'height':_0x4c1aef[_0x35dd05(0x15e)]}}});}catch(_0x5d43c2){console[_0x35dd05(0x16a)](_0x3187ee[_0x35dd05(0x159)],_0x5d43c2);throw _0x5d43c2;}}async function extractTextFromImage(_0x58ec87){const _0x2e5608=_0x26010d,_0x18c4f5={'TnByz':_0x2e5608(0x1d6),'cUGgI':'eng','MKkAx':_0x2e5608(0x126),'ApgKn':_0x2e5608(0x18f),'JdJrI':_0x2e5608(0x1ec),'OSJya':function(_0x16b8bc,_0x481d52){return _0x16b8bc(_0x481d52);},'pUNtM':_0x2e5608(0x125),'rYkgK':_0x2e5608(0x1cc)};console[_0x2e5608(0x16e)](_0x18c4f5[_0x2e5608(0x111)]);const _0x254385=_0x18c4f5[_0x2e5608(0x17d)];try{const _0x2f1bc6=await Tesseract[_0x2e5608(0x1da)]();await _0x2f1bc6[_0x2e5608(0x12b)](),await _0x2f1bc6[_0x2e5608(0x102)](_0x254385),await _0x2f1bc6['initialize'](_0x254385),console[_0x2e5608(0x16e)](_0x18c4f5['MKkAx']);const _0x4478b1=await _0x2f1bc6[_0x2e5608(0x177)](_0x58ec87);console[_0x2e5608(0x16e)](_0x18c4f5[_0x2e5608(0x1f4)],_0x4478b1[_0x2e5608(0xf6)][_0x2e5608(0x13f)]),await _0x2f1bc6[_0x2e5608(0x186)](),console[_0x2e5608(0x16e)](_0x18c4f5[_0x2e5608(0x178)]);const _0x3f1e3e={'timestamp':new Date()['toISOString'](),'imageSize':{'width':_0x58ec87[_0x2e5608(0x109)],'height':_0x58ec87[_0x2e5608(0x15e)]},'extractedText':_0x4478b1[_0x2e5608(0xf6)][_0x2e5608(0x13f)],'confidenceScore':_0x4478b1['data']['confidence'],'suggestedTopics':_0x18c4f5[_0x2e5608(0x1f2)](generateTopics,_0x4478b1[_0x2e5608(0xf6)][_0x2e5608(0x13f)])};return{'description':_0x18c4f5['pUNtM'],'metadata':_0x3f1e3e,'text':_0x4478b1[_0x2e5608(0xf6)][_0x2e5608(0x13f)],'confidence':_0x4478b1['data']['confidence']};}catch(_0x91ea59){return console['error'](_0x18c4f5[_0x2e5608(0x136)],_0x91ea59),{'text':'','confidence':0x0};}}function generateTopics(_0x3ae958){const _0x3018da=_0x26010d,_0xf121a5={'czKan':_0x3018da(0x139),'ajipI':_0x3018da(0x1af),'YVUGF':_0x3018da(0x198),'AXaxp':_0x3018da(0x1db),'cBfTO':function(_0x46d817,_0x5c82b9){return _0x46d817===_0x5c82b9;},'fuODw':'General\x20Knowledge'},_0x3022a9=new Set(),_0x540c89=_0x3ae958[_0x3018da(0x132)](),_0x39f11f=[{'pattern':/\b(math|equation|calculate|formula|number)\b/,'topic':_0x3018da(0x14c)},{'pattern':/\b(science|experiment|chemical|biology|physics)\b/,'topic':_0xf121a5[_0x3018da(0x1c5)]},{'pattern':/\b(history|century|ancient|war|empire|civilization)\b/,'topic':_0xf121a5[_0x3018da(0x200)]},{'pattern':/\b(geography|country|capital|mountain|river|climate)\b/,'topic':_0xf121a5[_0x3018da(0x193)]},{'pattern':/\b(grammar|sentence|paragraph|essay|writing)\b/,'topic':_0xf121a5[_0x3018da(0x124)]},{'pattern':/\b(art|color|design|paint|draw)\b/,'topic':_0x3018da(0x161)}];return _0x39f11f['forEach'](_0x32a3df=>{const _0xe4145d=_0x3018da;_0x32a3df[_0xe4145d(0x166)][_0xe4145d(0x1df)](_0x540c89)&&_0x3022a9[_0xe4145d(0x174)](_0x32a3df[_0xe4145d(0x13d)]);}),_0xf121a5['cBfTO'](_0x3022a9[_0x3018da(0xf0)],0x0)&&_0x3022a9['add'](_0xf121a5[_0x3018da(0x1b7)]),Array[_0x3018da(0x17a)](_0x3022a9);}function _0x41f3(_0x4ab1ec,_0xec72a2){const _0x280b52=_0x280b();return _0x41f3=function(_0x41f374,_0x43fe72){_0x41f374=_0x41f374-0xe4;let _0x2763f5=_0x280b52[_0x41f374];return _0x2763f5;},_0x41f3(_0x4ab1ec,_0xec72a2);}async function generateQuizUsingAI(_0x537dec,_0x2678e9){const _0x514976=_0x26010d,_0x3a02e9={'ojVzo':_0x514976(0x13a),'aNRxK':_0x514976(0x19d),'ISDxp':_0x514976(0x131),'IZnPi':_0x514976(0x1c2),'GDpoU':'user','pSgRG':_0x514976(0xe9),'QPwTk':'message\x20bot-message\x20streaming','Phhsh':function(_0x173ff8,_0x599f95,_0x359394){return _0x173ff8(_0x599f95,_0x359394);},'XHSkd':function(_0x15f59f,_0x192030){return _0x15f59f(_0x192030);},'EMgXr':_0x514976(0x110),'sVkBe':function(_0x47932c,_0x1f488e){return _0x47932c(_0x1f488e);},'QNQWm':_0x514976(0x1b3),'vIgAN':function(_0x4e8917){return _0x4e8917();},'YTOom':function(_0x4d24dd){return _0x4d24dd();},'HlARk':function(_0x1fed56,_0x5dba4f,_0x5abab6){return _0x1fed56(_0x5dba4f,_0x5abab6);},'dijVI':_0x514976(0x18e),'ngYfx':function(_0x165e21,_0x5afa3c){return _0x165e21(_0x5afa3c);},'YGjSc':_0x514976(0x16c),'fyino':_0x514976(0x1c8)};console[_0x514976(0x16e)](_0x3a02e9[_0x514976(0x171)],{'imageContext':_0x537dec,'userPrompt':_0x2678e9});try{console[_0x514976(0x16e)](_0x3a02e9[_0x514976(0x1ed)],JSON[_0x514976(0xf2)](_0x537dec));if(!window['ai'])throw new Error(_0x3a02e9[_0x514976(0x13b)]);const _0x3263e8=_0x514976(0x195)+JSON['stringify'](_0x537dec)+_0x514976(0x142);console[_0x514976(0x16e)](_0x514976(0x146),_0x3263e8);const _0xd3bc5a=[{'role':_0x3a02e9[_0x514976(0x1f5)],'content':_0x3263e8},{'role':_0x3a02e9[_0x514976(0x1ae)],'content':_0x2678e9}],_0x3b2c05=document[_0x514976(0x144)](_0x3a02e9[_0x514976(0x173)]);_0x3b2c05[_0x514976(0x1c4)]=_0x3a02e9[_0x514976(0x1e1)],chatMessages[_0x514976(0x122)](_0x3b2c05),_0x3a02e9[_0x514976(0xf4)](showTypingIndicator,chatMessages,'Generating\x20quiz...');if(!aiLanguageSession)await initializeLanguageSession();const _0x6dd88b=await aiLanguageSession[_0x514976(0x12f)](_0x3263e8+_0x514976(0x1d5)+_0x2678e9);let _0x3935b7='';for await(const _0x294ee9 of _0x6dd88b){_0x3935b7+=_0x294ee9,_0x3b2c05[_0x514976(0x1ef)]=_0x3935b7,chatMessages[_0x514976(0x15c)]=chatMessages[_0x514976(0x157)];}_0x3b2c05['remove']();let _0x9596fe;try{_0x9596fe=_0x3a02e9['XHSkd'](safeJSONParse,_0x3935b7),addMessage(_0x3a02e9['EMgXr'],![]),_0x3a02e9[_0x514976(0x180)](addQuiz,_0x9596fe);}catch(_0x488224){console[_0x514976(0x16a)](_0x3a02e9[_0x514976(0x156)],_0x488224),_0x3a02e9[_0x514976(0xf4)](addMessage,_0x3935b7,![]);throw _0x488224;}_0x3a02e9[_0x514976(0x1ee)](removeTypingIndicator);}catch(_0x68f3e1){console[_0x514976(0x16a)](_0x514976(0x190),_0x68f3e1),_0x3a02e9[_0x514976(0x14a)](removeTypingIndicator),addMessage(_0x514976(0x104),![]);try{const _0x351a44=await generateQuizWithoutAI(_0x537dec,_0x2678e9);_0x3a02e9[_0x514976(0x1a1)](addMessage,_0x3a02e9[_0x514976(0x11b)],![]),_0x3a02e9[_0x514976(0x15d)](addQuiz,_0x351a44);}catch(_0x488863){console['error'](_0x3a02e9['YGjSc'],_0x488863),addMessage(_0x3a02e9[_0x514976(0x12a)],![]);}}}function generateOptionsFromText(_0x4e0959){const _0x54fd39=_0x26010d,_0x18af01={'XCYVK':_0x54fd39(0x107),'oZghk':function(_0x251f9d,_0x5a1551){return _0x251f9d+_0x5a1551;}},_0x2c6f56=_0x4e0959[_0x54fd39(0x121)](/[.!?]+/)['filter'](_0x1ec3bd=>_0x1ec3bd[_0x54fd39(0x1a0)]()['length']>0x0),_0x309284=_0x2c6f56[_0x54fd39(0x1be)](0x0,0x4)[_0x54fd39(0x1fb)](_0x205a21=>_0x205a21['trim']());while(_0x309284['length']<0x4){_0x309284[_0x54fd39(0x1f8)](_0x18af01[_0x54fd39(0x1b9)]+_0x18af01[_0x54fd39(0x120)](_0x309284[_0x54fd39(0x1f1)],0x1));}return _0x309284;}function _0x280b(){const _0x428982=['Puvnx','Copy\x20Quiz','QNQWm','scrollHeight','xWRWM','XNynj','content','99bQtlbW','scrollTop','ngYfx','height','CDAXV','hYXnN','Art','toDataURL','7576232xwUEaY','Sorry,\x20I\x20couldn\x27t\x20generate\x20the\x20quiz.\x20Please\x20try\x20again.','getUserMedia','pattern','theme','setAttribute','MkzHm','error','label','[Quiz]\x20Fallback\x20generation\x20also\x20failed:','image/jpeg','log','\x0a\x20\x20\x20\x20','PAfXw','ojVzo','rkUMT','pSgRG','add','questions','[Chat]\x20Sending\x20message:','recognize','JdJrI','Visual\x20content\x20detected','from','type','open_ended','cUGgI','clipboard','wTKUd','sVkBe','XiJiH','\x20Quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20Points:\x20','rIPxx','[AI]\x20Creating\x20image\x20recognition\x20session...','terminate','General\x20Knowledge','message\x20','captureButton','Based\x20on\x20the\x20text,\x20what\x20is\x20the\x20main\x20topic\x20being\x20discussed?','Bot','messageInput','\x0a\x20\x20\x20\x20\x20\x20\x20\x20Subject:\x20','Generated\x20a\x20basic\x20quiz\x20without\x20AI\x20assistance:','[OCR]\x20Text\x20extracted:','[Quiz]\x20Error\x20in\x20quiz\x20generation\x20using\x20Gemini\x20Nano\x20AI:','Kaknx','click','YVUGF','MCQjw','You\x20are\x20a\x20quiz\x20generator.\x20Create\x20a\x20quiz\x20based\x20on\x20the\x20following\x20image\x20context\x20and\x20user\x20requirements.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Image\x20context:\x20','iBFqs','FhNbZ','Geography','GNitc','Create\x20a\x20quiz\x20about\x20','MfHgK','[AI]\x20Image\x20recognition\x20completed.\x20Result:','imageContext:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','iyjtP','trim','HlARk','[OCR]\x20Text\x20extraction\x20result:','sendButton','ODAxk','img','shyeD','omWoE','eQCzX','topics','sVgLF','4KsEZaL','copy-button','xwHHj','GDpoU','History','[Camera]\x20Error\x20accessing\x20camera:','toString','setItem','[Quiz]\x20Failed\x20to\x20parse\x20AI\x20response:','addEventListener','\x20minutes\x0a\x20\x20\x20\x20\x20\x20\x20\x20Topics:\x20','[AI]\x20Starting\x20image\x20processing...','fuODw','6gfSFmu','XCYVK','catch','dark','flex','oXMkB','slice','prDIi','videoWidth','Washington\x20Drivers\x20License\x20Test','system','\x20-\x20','className','czKan','Option\x20A','value','Quiz\x20generation\x20failed\x20completely.\x20Please\x20try\x20again\x20later.','bZxqZ','what','ROjEc','[OCR]\x20Error\x20in\x20text\x20extraction:','getContext','[AI]\x20Error\x20during\x20image\x20processing:','createImageSession','ORxRe','2aJTGUJ','gWpvH','question','confidence','\x0a\x0aUser\x20request:\x20','[OCR]\x20Starting\x20text\x20extraction...','[Quiz]\x20Error\x20generating\x20quiz:','subject','SgHlL','createWorker','Language\x20Arts','Copy\x20failed:','mctCe','[Camera]\x20Stopping\x20camera...','test','captured-image','QPwTk','getTracks','forEach','UwkAC','TODvT','cameraButton','cameraContainer','hOpaf','message\x20bot-message','YqmmK','SWylO','[OCR]\x20Worker\x20terminated','aNRxK','vIgAN','textContent','1|3|2|0|4','length','OSJya','[Camera]\x20Starting\x20camera\x20initialization...','ApgKn','IZnPi','234042SfOnHj','pre','push','none','SpeKb','map','gEzqp','[UI]\x20Adding\x20quiz\x20to\x20chat:','FnBQo','Generate\x20multiple\x20choice\x20questions\x20about\x20this\x20picture','ajipI','WdbZz','6464045EqNeOD','themeToggle','[Quiz]\x20Generating\x20quiz...','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20Questions:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','div','xLGil','vKeRI','fTfNW','Please\x20capture\x20an\x20image\x20first\x20before\x20providing\x20quiz\x20requirements.','Copied!','Generate\x20questions\x20based\x20on\x20the\x20image\x20related\x20text\x20-\x20','size','[Camera]\x20Capturing\x20image...','stringify','fromCharCode','Phhsh','options','data','bot-message','Student\x20should\x20identify\x20main\x20points\x20from\x20the\x20text','[AI]\x20Performing\x20image\x20recognition...','PLsMd','...?','prompt-suggestion','YkrQf','6500683SAIgKh','hXpOv','[AI]\x20Windows\x20AI\x20API\x20not\x20found\x20in\x20window\x20object','srcObject','loadLanguage','IDvOh','Sorry,\x20I\x20couldn\x27t\x20generate\x20the\x20quiz\x20using\x20Gemini\x20Nano\x20AI.\x20Please\x20try\x20again.','IdZWt','[Camera]\x20Stopping\x20track:','Additional\x20option\x20','TPfod','width','1741668eQCVbE','fTdva','src','mediaDevices','keypress','style','I\x27ve\x20generated\x20a\x20quiz\x20based\x20on\x20your\x20image\x20and\x20requirements:','TnByz','bbktc','What\x20can\x20you\x20observe\x20in\x20this\x20image?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20Grade:\x20','cZTkG','Error\x20accessing\x20camera:\x20','GflhZ','[UI]\x20Adding\x20message:\x20','join','toISOString','dijVI','Option\x20B','Enter','stop','key','oZghk','split','appendChild','drawImage','AXaxp','Image\x20and\x20text\x20analysis\x20complete','[OCR]\x20Worker\x20initialized','rOidY','light','hxYQe','fyino','load','display','canvas','\x20\x20\x20','promptStreaming','\x0a\x20\x20\x20\x20\x20\x20\x20\x20Time\x20Limit:\x20','window.ai\x20API\x20not\x20available','toLowerCase','includes','timeLimit','GqsUW','rYkgK','oHUcW','942688WRUTfM','Science','[Quiz]\x20Starting\x20quiz\x20generation\x20with\x20Gemini\x20Nano...','ISDxp','RgHfq','topic','image','text','getElementById','grade','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Format\x20the\x20response\x20as\x20a\x20JSON\x20quiz\x20object\x20with\x20id,\x20grade,\x20subject,\x20title,\x20timeLimit,\x20topic,\x20and\x20questions\x20array.','110lljmdK','createElement','writeText','[Quiz]\x20Constructed\x20system\x20prompt:','cancelButton','user-message','839190LIgSIP','YTOom','JRChW','Mathematics','Make\x20a\x20quiz\x20suitable\x20for\x20beginners','bxIQh','[Processing]\x20Image\x20processing\x20completed:','chatMessages','onclick','points','[AI]\x20Image\x20session\x20created:'];_0x280b=function(){return _0x428982;};return _0x280b();}function generateCustomQuestion(_0x1cd3cc,_0x5a8a29){const _0x507d3e=_0x26010d,_0x43ebc9={'hOpaf':_0x507d3e(0x1ca)};return _0x1cd3cc[_0x507d3e(0x132)]()[_0x507d3e(0x133)](_0x43ebc9[_0x507d3e(0x1e8)])?_0x1cd3cc:'What\x20is\x20the\x20significance\x20of\x20'+_0x5a8a29[_0x507d3e(0x121)]('\x20')[_0x507d3e(0x1be)](0x0,0x3)[_0x507d3e(0x119)]('\x20')+_0x507d3e(0xfb);}function addMessage(_0x40a872,_0x40a7cf=![]){const _0xd25aea=_0x26010d,_0x630045={'ORxRe':'User','owkKK':_0xd25aea(0x18b),'hnGAw':_0xd25aea(0xe9),'sVgLF':_0xd25aea(0x148),'xwHHj':_0xd25aea(0xf7)};console[_0xd25aea(0x16e)](_0xd25aea(0x118)+(_0x40a7cf?_0x630045[_0xd25aea(0x1d0)]:_0x630045['owkKK'])+':',_0x40a872);const _0x15d9b3=document[_0xd25aea(0x144)](_0x630045['hnGAw']);_0x15d9b3[_0xd25aea(0x1c4)]=_0xd25aea(0x188)+(_0x40a7cf?_0x630045[_0xd25aea(0x1aa)]:_0x630045[_0xd25aea(0x1ad)]),_0x15d9b3['textContent']=_0x40a872,chatMessages['appendChild'](_0x15d9b3),chatMessages[_0xd25aea(0x15c)]=chatMessages['scrollHeight'];}function addQuiz(_0x5c2850){const _0x3d59cd=_0x26010d,_0x592b15={'vKeRI':_0x3d59cd(0x1fd),'FnBQo':'div','bZxqZ':'quiz-container','Kaknx':_0x3d59cd(0x1f7),'SgHlL':_0x3d59cd(0x155)};console[_0x3d59cd(0x16e)](_0x592b15[_0x3d59cd(0xeb)],_0x5c2850);const _0x51a1d0=document['createElement'](_0x592b15[_0x3d59cd(0x1fe)]);_0x51a1d0['className']=_0x592b15[_0x3d59cd(0x1c9)];const _0x146217='\x0a\x20\x20\x20\x20\x20\x20\x20\x20Title:\x20'+_0x5c2850['title']+_0x3d59cd(0x114)+_0x5c2850[_0x3d59cd(0x141)]+_0x3d59cd(0x18d)+_0x5c2850[_0x3d59cd(0x1d8)]+_0x3d59cd(0x130)+_0x5c2850[_0x3d59cd(0x134)]+_0x3d59cd(0x1b5)+_0x5c2850[_0x3d59cd(0x13d)]+_0x3d59cd(0xe8)+_0x5c2850[_0x3d59cd(0x175)][_0x3d59cd(0x1fb)]((_0x292901,_0x177f0d)=>_0x3d59cd(0x19e)+(_0x177f0d+0x1)+'.\x20'+_0x292901[_0x3d59cd(0x1d3)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x292901[_0x3d59cd(0xf5)]?_0x292901[_0x3d59cd(0xf5)][_0x3d59cd(0x1fb)]((_0x49aeda,_0x3a57ba)=>_0x3d59cd(0x12e)+String[_0x3d59cd(0xf3)](0x61+_0x3a57ba)+')\x20'+_0x49aeda)[_0x3d59cd(0x119)]('\x0a'):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20Type:\x20'+_0x292901[_0x3d59cd(0x17b)]+_0x3d59cd(0x183)+_0x292901[_0x3d59cd(0x152)]+_0x3d59cd(0x19e))['join']('\x0a')+_0x3d59cd(0x16f),_0x7d177b=document['createElement'](_0x592b15[_0x3d59cd(0x191)]);_0x7d177b[_0x3d59cd(0x1ef)]=_0x146217,_0x51a1d0[_0x3d59cd(0x122)](_0x7d177b);const _0x256f91=document[_0x3d59cd(0x144)]('button');_0x256f91[_0x3d59cd(0x1c4)]=_0x3d59cd(0x1ac),_0x256f91[_0x3d59cd(0x1ef)]=_0x592b15[_0x3d59cd(0x1d9)],_0x256f91[_0x3d59cd(0x151)]=()=>{const _0x2bd554=_0x3d59cd;navigator[_0x2bd554(0x17e)][_0x2bd554(0x145)](_0x146217)['then'](()=>_0x256f91['textContent']=_0x2bd554(0xee))[_0x2bd554(0x1ba)](_0x31c810=>console['error'](_0x2bd554(0x1dc),_0x31c810))['finally'](()=>setTimeout(()=>_0x256f91[_0x2bd554(0x1ef)]=_0x2bd554(0x155),0x7d0));},_0x51a1d0[_0x3d59cd(0x122)](_0x256f91),chatMessages[_0x3d59cd(0x122)](_0x51a1d0),chatMessages[_0x3d59cd(0x15c)]=chatMessages['scrollHeight'];}async function captureImage(){const _0x5e3f8f=_0x26010d,_0x478238={'TPfod':function(_0x381621){return _0x381621();},'MfHgK':_0x5e3f8f(0xfc),'eQCzX':_0x5e3f8f(0xf1),'SpeKb':_0x5e3f8f(0x1a5),'TODvT':_0x5e3f8f(0x1e0),'iBFqs':_0x5e3f8f(0xe9),'NbnKN':function(_0x142a37){return _0x142a37();},'rkUMT':function(_0x2d1b92,_0x29ee8c){return _0x2d1b92(_0x29ee8c);},'PAfXw':function(_0x1474f3,_0x2ca974,_0x176a53){return _0x1474f3(_0x2ca974,_0x176a53);},'omWoE':'Image\x20captured!\x20Please\x20provide\x20your\x20requirements\x20for\x20the\x20quiz.','IDvOh':function(_0x227e2d,_0x6a37c4){return _0x227e2d===_0x6a37c4;},'dLGtl':_0x5e3f8f(0x14d),'fTfNW':'[Camera]\x20Error\x20processing\x20captured\x20image:','rNIDT':function(_0x5a4a2f,_0x24e874,_0x204047){return _0x5a4a2f(_0x24e874,_0x204047);},'hYXnN':'Sorry,\x20I\x20couldn\x27t\x20process\x20the\x20image.\x20Please\x20try\x20again.'};console['log'](_0x478238[_0x5e3f8f(0x1a8)]);try{const _0x4574f9=document[_0x5e3f8f(0x144)](_0x5e3f8f(0x12d));_0x4574f9[_0x5e3f8f(0x109)]=cameraPreview[_0x5e3f8f(0x1c0)],_0x4574f9[_0x5e3f8f(0x15e)]=cameraPreview['videoHeight'],_0x4574f9[_0x5e3f8f(0x1cd)]('2d')[_0x5e3f8f(0x123)](cameraPreview,0x0,0x0);const _0x1dbbc3=document[_0x5e3f8f(0x144)](_0x478238[_0x5e3f8f(0x1fa)]);_0x1dbbc3[_0x5e3f8f(0x10c)]=_0x4574f9[_0x5e3f8f(0x162)](_0x5e3f8f(0x16d)),_0x1dbbc3['className']=_0x478238[_0x5e3f8f(0x1e5)];const _0x2de48=document['createElement'](_0x478238[_0x5e3f8f(0x196)]);_0x2de48['className']=_0x5e3f8f(0x1e9),_0x2de48['appendChild'](_0x1dbbc3),chatMessages[_0x5e3f8f(0x122)](_0x2de48),_0x478238['NbnKN'](stopCamera);const _0x19005a=await _0x478238[_0x5e3f8f(0x172)](processImageUsingTesseract,_0x1dbbc3);imageContext=_0x19005a,console[_0x5e3f8f(0x16e)](_0x5e3f8f(0x14f),JSON[_0x5e3f8f(0xf2)](imageContext,null,0x2)),_0x478238[_0x5e3f8f(0x170)](addMessage,_0x478238[_0x5e3f8f(0x1a7)],![]);const _0x3666c2=[_0x5e3f8f(0x19a)+imageContext[_0x5e3f8f(0x1a9)][0x0]+_0x5e3f8f(0x1c3)+imageContext['content'],_0x478238[_0x5e3f8f(0x103)](imageContext[_0x5e3f8f(0x17b)],_0x5e3f8f(0x13f))?_0x5e3f8f(0xef)+imageContext[_0x5e3f8f(0x15a)]:_0x5e3f8f(0x1ff),_0x478238['dLGtl']];_0x3666c2[_0x5e3f8f(0x1e3)](_0x1b6e42=>{const _0x255696=_0x5e3f8f,_0x37c3d1=document[_0x255696(0x144)]('div');_0x37c3d1[_0x255696(0x1c4)]=_0x478238[_0x255696(0x19b)],_0x37c3d1[_0x255696(0x1ef)]=_0x1b6e42,_0x37c3d1[_0x255696(0x151)]=()=>{const _0xf1e712=_0x255696;messageInput[_0xf1e712(0x1c7)]=_0x1b6e42,_0x478238[_0xf1e712(0x108)](sendMessage);},chatMessages[_0x255696(0x122)](_0x37c3d1);});}catch(_0x35e3d1){console[_0x5e3f8f(0x16a)](_0x478238[_0x5e3f8f(0xec)],_0x35e3d1),_0x478238['rNIDT'](addMessage,_0x478238[_0x5e3f8f(0x160)],![]);}}async function sendMessage(){const _0x2e09f3=_0x26010d,_0x4a9467={'fpLpL':_0x2e09f3(0x176),'wTKUd':function(_0x43b3c2,_0x41f9bd,_0x4efe23){return _0x43b3c2(_0x41f9bd,_0x4efe23);},'udTeL':'I\x27ve\x20generated\x20a\x20quiz\x20based\x20on\x20your\x20requirements:','GflhZ':function(_0x375ed7,_0x1f7c2b){return _0x375ed7(_0x1f7c2b);},'MkzHm':_0x2e09f3(0x164),'QUJlO':function(_0x37ea4a,_0xda6642,_0x3d4925){return _0x37ea4a(_0xda6642,_0x3d4925);},'Ewkwu':_0x2e09f3(0xed)},_0x345efb=messageInput['value'][_0x2e09f3(0x1a0)]();if(!_0x345efb)return;console[_0x2e09f3(0x16e)](_0x4a9467['fpLpL'],_0x345efb),_0x4a9467[_0x2e09f3(0x17f)](addMessage,_0x345efb,!![]),messageInput[_0x2e09f3(0x1c7)]='';if(imageContext)try{const _0x444143=await generateQuizUsingAI(imageContext,_0x345efb);_0x4a9467[_0x2e09f3(0x17f)](addMessage,_0x4a9467['udTeL'],![]),_0x4a9467[_0x2e09f3(0x117)](addQuiz,_0x444143);}catch(_0x23a9cd){addMessage(_0x4a9467[_0x2e09f3(0x169)],![]);}else _0x4a9467['QUJlO'](addMessage,_0x4a9467['Ewkwu'],![]);}function toggleTheme(){const _0x5b1ca8=_0x26010d,_0x51276a={'hXpOv':'data-theme','AhQRf':function(_0x4eb1ee,_0x588d24){return _0x4eb1ee===_0x588d24;},'eRGyl':_0x5b1ca8(0x1bb),'oHUcW':_0x5b1ca8(0x167)},_0x4e61db=document['documentElement'],_0x2d8b71=_0x4e61db['getAttribute'](_0x51276a[_0x5b1ca8(0xff)]),_0x3b4063=_0x51276a['AhQRf'](_0x2d8b71,_0x51276a['eRGyl'])?_0x5b1ca8(0x128):_0x5b1ca8(0x1bb);_0x4e61db[_0x5b1ca8(0x168)](_0x51276a['hXpOv'],_0x3b4063),localStorage[_0x5b1ca8(0x1b2)](_0x51276a[_0x5b1ca8(0x137)],_0x3b4063);}themeToggle[_0x26010d(0x1b4)](_0x26010d(0x192),toggleTheme),cameraButton[_0x26010d(0x1b4)](_0x26010d(0x192),startCamera),captureButton[_0x26010d(0x1b4)](_0x26010d(0x192),captureImage),cancelButton['addEventListener']('click',stopCamera),sendButton[_0x26010d(0x1b4)](_0x26010d(0x192),sendMessage),messageInput[_0x26010d(0x1b4)](_0x26010d(0x10e),_0x19537c=>{const _0x4435bb=_0x26010d,_0xab727e={'Puvnx':function(_0x4c0a16){return _0x4c0a16();}};if(_0x19537c[_0x4435bb(0x11f)]===_0x4435bb(0x11d))_0xab727e[_0x4435bb(0x154)](sendMessage);});async function generateQuizWithoutAI(_0x33ae88,_0x2f28c3){const _0x4431f9=_0x26010d,_0x415e06={'oXMkB':_0x4431f9(0xe7),'WdbZz':function(_0x3dffcc,_0x2e128a){return _0x3dffcc===_0x2e128a;},'cZTkG':_0x4431f9(0x18a),'xLGil':'multiple_choice','shyeD':function(_0x1d72a8,_0x1b233d){return _0x1d72a8(_0x1b233d);},'bxIQh':_0x4431f9(0x1c6),'prDIi':'What\x20are\x20the\x20key\x20points\x20mentioned\x20in\x20the\x20text?','UwkAC':_0x4431f9(0x17c),'rOidY':_0x4431f9(0xf8),'xXoaT':_0x4431f9(0x113),'gWpvH':'Description\x20of\x20visual\x20elements','gdIFI':function(_0x2495d4,_0x46ff25,_0x2bd87e){return _0x2495d4(_0x46ff25,_0x2bd87e);},'YkrQf':_0x4431f9(0x11c),'dNEuy':'Option\x20C','GqsUW':'Option\x20D','pIzSf':'General','IdZWt':_0x4431f9(0x1d7)};console['log'](_0x415e06[_0x4431f9(0x1bd)],{'imageContext':_0x33ae88,'userPrompt':_0x2f28c3});try{const _0x2399d8=_0x415e06[_0x4431f9(0xe4)](_0x33ae88['type'],_0x4431f9(0x13f)),_0x1e4867=_0x33ae88[_0x4431f9(0x15a)],_0xa3e66e=_0x33ae88[_0x4431f9(0x1a9)],_0x3f2b62=[];_0x2399d8?(_0x3f2b62[_0x4431f9(0x1f8)]({'question':_0x415e06[_0x4431f9(0x115)],'type':_0x415e06[_0x4431f9(0xea)],'options':_0x415e06[_0x4431f9(0x1a6)](generateOptionsFromText,_0x1e4867),'answer':_0x415e06[_0x4431f9(0x14e)],'points':0x2}),_0x3f2b62[_0x4431f9(0x1f8)]({'question':_0x415e06[_0x4431f9(0x1bf)],'type':_0x415e06['UwkAC'],'answer':_0x415e06[_0x4431f9(0x127)],'points':0x2})):_0x3f2b62[_0x4431f9(0x1f8)]({'question':_0x415e06['xXoaT'],'type':_0x415e06[_0x4431f9(0x1e4)],'answer':_0x415e06[_0x4431f9(0x1d2)],'points':0x2});_0x3f2b62[_0x4431f9(0x1f8)]({'question':_0x415e06['gdIFI'](generateCustomQuestion,_0x2f28c3,_0x1e4867),'type':_0x415e06[_0x4431f9(0xea)],'options':[_0x4431f9(0x1c6),_0x415e06[_0x4431f9(0xfd)],_0x415e06['dNEuy'],_0x415e06[_0x4431f9(0x135)]],'answer':_0x4431f9(0x1c6),'points':0x2});const _0x1cffe0={'id':Date['now']()[_0x4431f9(0x1b1)](),'title':_0xa3e66e[0x0]+_0x4431f9(0x182),'subject':_0xa3e66e[0x0],'grade':_0x415e06['pIzSf'],'timeLimit':0xf,'topic':_0xa3e66e[_0x4431f9(0x119)](',\x20'),'questions':_0x3f2b62};return _0x1cffe0;}catch(_0x1319d9){console['error'](_0x415e06[_0x4431f9(0x105)],_0x1319d9);throw _0x1319d9;}}