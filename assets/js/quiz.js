
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0xfe9159=_0x5b7b;(function(_0x1b1637,_0x54f2a0){const _0x4aed4b=_0x5b7b,_0x44f7f3=_0x1b1637();while(!![]){try{const _0x4a9a20=parseInt(_0x4aed4b(0x13f))/0x1*(-parseInt(_0x4aed4b(0xfb))/0x2)+-parseInt(_0x4aed4b(0x182))/0x3*(-parseInt(_0x4aed4b(0x1d8))/0x4)+-parseInt(_0x4aed4b(0x125))/0x5+parseInt(_0x4aed4b(0x1f0))/0x6*(parseInt(_0x4aed4b(0x18d))/0x7)+-parseInt(_0x4aed4b(0x1b5))/0x8*(-parseInt(_0x4aed4b(0x116))/0x9)+parseInt(_0x4aed4b(0x113))/0xa*(parseInt(_0x4aed4b(0x133))/0xb)+-parseInt(_0x4aed4b(0x100))/0xc;if(_0x4a9a20===_0x54f2a0)break;else _0x44f7f3['push'](_0x44f7f3['shift']());}catch(_0x136cea){_0x44f7f3['push'](_0x44f7f3['shift']());}}}(_0x1b84,0x30d72));import{Logger}from'./common.js';const chatMessages=document[_0xfe9159(0x120)](_0xfe9159(0x18f)),messageInput=document[_0xfe9159(0x120)](_0xfe9159(0x1da)),sendButton=document[_0xfe9159(0x120)](_0xfe9159(0x140)),cameraButton=document[_0xfe9159(0x120)](_0xfe9159(0x1ef)),themeToggle=document[_0xfe9159(0x120)](_0xfe9159(0x111)),cameraContainer=document[_0xfe9159(0x120)](_0xfe9159(0x154)),cameraPreview=document[_0xfe9159(0x120)](_0xfe9159(0x19b)),captureButton=document['getElementById']('captureButton'),cancelButton=document[_0xfe9159(0x120)](_0xfe9159(0x1f9));let stream=null,imageContext=null;async function startCamera(){const _0x5c883d=_0xfe9159,_0x341d37={'jITGY':_0x5c883d(0x1f4),'DmeUE':_0x5c883d(0x10f),'gZBTB':_0x5c883d(0x184),'Pnemf':_0x5c883d(0x148),'dOrLR':_0x5c883d(0x1ae),'XrZrt':function(_0x27e340,_0x7aee0f){return _0x27e340(_0x7aee0f);},'zAHpO':function(_0x5bfa15,_0xd379d1){return _0x5bfa15+_0xd379d1;},'bPncu':'Error\x20accessing\x20camera:\x20'};console['log'](_0x341d37['jITGY']);try{const _0x31cb7f=_0x5c883d(0x191)[_0x5c883d(0x1e0)]('|');let _0x368dcc=0x0;while(!![]){switch(_0x31cb7f[_0x368dcc++]){case'0':stream=await navigator[_0x5c883d(0x141)][_0x5c883d(0x1fd)]({'video':{'facingMode':_0x341d37[_0x5c883d(0x110)]}});continue;case'1':console[_0x5c883d(0x14c)](_0x341d37[_0x5c883d(0x1b7)]);continue;case'2':cameraPreview[_0x5c883d(0x145)]=stream;continue;case'3':cameraContainer['style']['display']=_0x5c883d(0x109);continue;case'4':console[_0x5c883d(0x14c)](_0x341d37[_0x5c883d(0x1e6)],stream);continue;}break;}}catch(_0x9b5626){console['error'](_0x341d37[_0x5c883d(0x177)],_0x9b5626),_0x341d37[_0x5c883d(0xfd)](addMessage,_0x341d37[_0x5c883d(0x1a3)](_0x341d37[_0x5c883d(0x150)],_0x9b5626[_0x5c883d(0x1ea)]));}}function stopCamera(){const _0x5c90e7=_0xfe9159,_0x1721e8={'THsSR':_0x5c90e7(0x14a),'cMAbf':'none','NPcyx':_0x5c90e7(0x1e8)};console['log'](_0x1721e8[_0x5c90e7(0x137)]),stream&&(stream['getTracks']()[_0x5c90e7(0x173)](_0x1f0698=>{const _0x22a78f=_0x5c90e7;console[_0x22a78f(0x14c)](_0x22a78f(0x1a9),_0x1f0698[_0x22a78f(0x1f8)]),_0x1f0698[_0x22a78f(0x1bb)]();}),stream=null),cameraContainer[_0x5c90e7(0x1c8)][_0x5c90e7(0x118)]=_0x1721e8[_0x5c90e7(0x101)],console[_0x5c90e7(0x14c)](_0x1721e8['NPcyx']);}async function processImageUsingWindowAI(_0x4db6e6){const _0x525e08=_0xfe9159,_0x8b5fc8={'qiByO':_0x525e08(0x1fa),'YMCCj':_0x525e08(0x1b8),'ZxCVT':'[AI]\x20Creating\x20image\x20recognition\x20session...','xWSQN':_0x525e08(0x203),'zyLWI':'[AI]\x20Error\x20during\x20image\x20processing:'};console[_0x525e08(0x14c)](_0x8b5fc8['qiByO'],_0x4db6e6);if(!window['ai']){console[_0x525e08(0x209)](_0x8b5fc8['YMCCj']);throw new Error(_0x525e08(0x1fc));}try{console[_0x525e08(0x14c)](_0x8b5fc8[_0x525e08(0x200)]);const _0xbf14b6=await window['ai'][_0x525e08(0x13b)]();console['log']('[AI]\x20Image\x20session\x20created:',_0xbf14b6),console[_0x525e08(0x14c)](_0x525e08(0x188));const _0x1a7405=await _0xbf14b6[_0x525e08(0x149)](_0x4db6e6);return console[_0x525e08(0x14c)](_0x8b5fc8[_0x525e08(0x1c2)],_0x1a7405),_0x1a7405;}catch(_0x48df52){console[_0x525e08(0x209)](_0x8b5fc8[_0x525e08(0x19f)],_0x48df52);throw _0x48df52;}}async function processImageUsingTesseract(_0x4d7764){const _0x20e323=_0xfe9159,_0x1fe04a={'pVNzz':_0x20e323(0x1b9),'iboTL':_0x20e323(0x176),'gBwTb':function(_0x4dfd0e,_0x5f08b3){return _0x4dfd0e(_0x5f08b3);},'YmUCo':_0x20e323(0x1b2),'TCueF':function(_0x5653f0,_0x51b812){return _0x5653f0>_0x51b812;},'xPQOO':_0x20e323(0x1c3),'IExrl':'[Processing]\x20No\x20OCR\x20text\x20found,\x20falling\x20back\x20to\x20image\x20analysis','KwYUO':_0x20e323(0x199),'zNJzs':'Visual\x20content\x20detected'};console['log'](_0x1fe04a['pVNzz']),addMessage(_0x1fe04a[_0x20e323(0x1c4)],![]);try{const _0x889f9c=await _0x1fe04a[_0x20e323(0x142)](extractTextFromImage,_0x4d7764);return console[_0x20e323(0x14c)](_0x1fe04a[_0x20e323(0x204)],_0x889f9c),_0x889f9c[_0x20e323(0x1c3)]&&_0x1fe04a[_0x20e323(0x1d3)](_0x889f9c[_0x20e323(0x1c3)][_0x20e323(0x181)]()['length'],0x0)?{'type':_0x1fe04a[_0x20e323(0x138)],'content':'Washington\x20Drivers\x20License\x20Test','confidence':_0x889f9c['confidence'],'topics':_0x1fe04a['gBwTb'](generateTopics,_0x889f9c[_0x20e323(0x1c3)])}:(console['log'](_0x1fe04a['IExrl']),{'type':_0x1fe04a['KwYUO'],'content':_0x1fe04a[_0x20e323(0x1df)],'topics':['Visual\x20Analysis',_0x20e323(0x112)],'features':{'timestamp':new Date()[_0x20e323(0x207)](),'dimensions':{'width':_0x4d7764[_0x20e323(0x10e)],'height':_0x4d7764['height']}}});}catch(_0x5e3345){console[_0x20e323(0x209)](_0x20e323(0x1ed),_0x5e3345);throw _0x5e3345;}}async function extractTextFromImage(_0x5d6790){const _0x5e7792=_0xfe9159,_0x300d1a={'odVSz':_0x5e7792(0x16e),'DfqZg':_0x5e7792(0x20c),'JNYty':_0x5e7792(0x190),'rqKEd':_0x5e7792(0x146),'FOhJK':_0x5e7792(0x132),'ExBpF':function(_0x1ba2c0,_0x1a304d){return _0x1ba2c0(_0x1a304d);}};console[_0x5e7792(0x14c)](_0x300d1a[_0x5e7792(0x144)]);const _0x43aeb8=_0x300d1a['DfqZg'];try{const _0x393dbf=await Tesseract[_0x5e7792(0x206)]();await _0x393dbf[_0x5e7792(0x187)](),await _0x393dbf[_0x5e7792(0x17b)](_0x43aeb8),await _0x393dbf['initialize'](_0x43aeb8),console[_0x5e7792(0x14c)](_0x300d1a[_0x5e7792(0x1bf)]);const _0x1347e3=await _0x393dbf[_0x5e7792(0x149)](_0x5d6790);console[_0x5e7792(0x14c)](_0x300d1a[_0x5e7792(0x139)],_0x1347e3[_0x5e7792(0x164)][_0x5e7792(0x1c3)]),await _0x393dbf[_0x5e7792(0x158)](),console[_0x5e7792(0x14c)](_0x300d1a[_0x5e7792(0x1e2)]);const _0x521576={'timestamp':new Date()[_0x5e7792(0x207)](),'imageSize':{'width':_0x5d6790[_0x5e7792(0x10e)],'height':_0x5d6790[_0x5e7792(0x1f5)]},'extractedText':_0x1347e3['data'][_0x5e7792(0x1c3)],'confidenceScore':_0x1347e3[_0x5e7792(0x164)][_0x5e7792(0x14b)],'suggestedTopics':_0x300d1a[_0x5e7792(0x126)](generateTopics,_0x1347e3[_0x5e7792(0x164)][_0x5e7792(0x1c3)])};return{'description':_0x5e7792(0x12c),'metadata':_0x521576,'text':_0x1347e3['data'][_0x5e7792(0x1c3)],'confidence':_0x1347e3[_0x5e7792(0x164)][_0x5e7792(0x14b)]};}catch(_0x51bb5f){return console['error'](_0x5e7792(0x16d),_0x51bb5f),{'text':'','confidence':0x0};}}function _0x5b7b(_0x22d84f,_0x10d3f7){const _0x1b8420=_0x1b84();return _0x5b7b=function(_0x5b7b34,_0x40ab71){_0x5b7b34=_0x5b7b34-0xfa;let _0x37eaa2=_0x1b8420[_0x5b7b34];return _0x37eaa2;},_0x5b7b(_0x22d84f,_0x10d3f7);}function generateTopics(_0x1a9818){const _0x4a288a=_0xfe9159,_0x1bc4d2={'Ysntw':'Mathematics','KEGqB':_0x4a288a(0x1d6),'ancFY':_0x4a288a(0x123),'RVcAV':_0x4a288a(0x1bd),'zBVhy':_0x4a288a(0x143),'UfnIY':function(_0x3aa061,_0x1a02f0){return _0x3aa061===_0x1a02f0;},'pxfKB':_0x4a288a(0x112)},_0x36e265=new Set(),_0x26b5d1=_0x1a9818[_0x4a288a(0x130)](),_0x15da07=[{'pattern':/\b(math|equation|calculate|formula|number)\b/,'topic':_0x1bc4d2[_0x4a288a(0x1ca)]},{'pattern':/\b(science|experiment|chemical|biology|physics)\b/,'topic':_0x1bc4d2[_0x4a288a(0x1de)]},{'pattern':/\b(history|century|ancient|war|empire|civilization)\b/,'topic':_0x1bc4d2['ancFY']},{'pattern':/\b(geography|country|capital|mountain|river|climate)\b/,'topic':_0x1bc4d2[_0x4a288a(0x160)]},{'pattern':/\b(grammar|sentence|paragraph|essay|writing)\b/,'topic':'Language\x20Arts'},{'pattern':/\b(art|color|design|paint|draw)\b/,'topic':_0x1bc4d2[_0x4a288a(0x134)]}];return _0x15da07[_0x4a288a(0x173)](_0x8ef63=>{const _0x2a6e32=_0x4a288a;_0x8ef63[_0x2a6e32(0x165)][_0x2a6e32(0x1b1)](_0x26b5d1)&&_0x36e265['add'](_0x8ef63[_0x2a6e32(0x175)]);}),_0x1bc4d2[_0x4a288a(0x119)](_0x36e265['size'],0x0)&&_0x36e265['add'](_0x1bc4d2[_0x4a288a(0x1a2)]),Array['from'](_0x36e265);}async function generateQuizUsingAI(_0x1d92b7,_0x3cc6a7){const _0x1167e4=_0xfe9159,_0x4d0517={'vtIZQ':_0x1167e4(0x1c9),'TcmLj':_0x1167e4(0x13c),'XEUkJ':_0x1167e4(0x147),'GYTaz':function(_0x100226,_0x2f4cdf,_0x3f6516){return _0x100226(_0x2f4cdf,_0x3f6516);},'hejes':function(_0x588668,_0xab6b88){return _0x588668(_0xab6b88);},'ZVEIL':function(_0x33a4ab,_0x4467bd,_0x17d248){return _0x33a4ab(_0x4467bd,_0x17d248);},'Wfmiu':_0x1167e4(0x194),'lNfyx':function(_0x1f490f){return _0x1f490f();},'psbkd':'[Quiz]\x20Error\x20in\x20quiz\x20generation\x20using\x20Gemini\x20Nano\x20AI:','njLDk':function(_0x4fbb37){return _0x4fbb37();},'stvaF':_0x1167e4(0x20b),'VPjEe':function(_0x16f009,_0x2929f5,_0xe0f8a){return _0x16f009(_0x2929f5,_0xe0f8a);},'UlfAJ':_0x1167e4(0x16c),'HtImQ':_0x1167e4(0x1ac),'gXjIt':_0x1167e4(0x1f2)};console[_0x1167e4(0x14c)](_0x4d0517[_0x1167e4(0x105)],{'imageContext':_0x1d92b7,'userPrompt':_0x3cc6a7});try{console['log'](_0x1167e4(0x1b6),JSON[_0x1167e4(0x168)](_0x1d92b7));if(!window['ai'])throw new Error(_0x1167e4(0x1ec));const _0x590740=_0x1167e4(0x180)+JSON['stringify'](_0x1d92b7)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Format\x20the\x20response\x20as\x20a\x20JSON\x20quiz\x20object\x20with\x20id,\x20grade,\x20subject,\x20title,\x20timeLimit,\x20topic,\x20and\x20questions\x20array.';console[_0x1167e4(0x14c)](_0x4d0517[_0x1167e4(0x167)],_0x590740);const _0x6287f2=[{'role':_0x1167e4(0x11f),'content':_0x590740},{'role':_0x1167e4(0x1c1),'content':_0x3cc6a7}],_0xa91ec4=document['createElement'](_0x4d0517['XEUkJ']);_0xa91ec4[_0x1167e4(0x186)]=_0x1167e4(0x19d),chatMessages[_0x1167e4(0x15c)](_0xa91ec4),_0x4d0517[_0x1167e4(0x107)](showTypingIndicator,chatMessages,_0x1167e4(0x1d5));if(!aiLanguageSession)await initializeLanguageSession();const _0x2a80b2=await aiLanguageSession[_0x1167e4(0x14e)](_0x590740+_0x1167e4(0x136)+_0x3cc6a7);let _0x3a23eb='';for await(const _0x43dca8 of _0x2a80b2){_0x3a23eb+=_0x43dca8,_0xa91ec4[_0x1167e4(0x11d)]=_0x3a23eb,chatMessages[_0x1167e4(0x12a)]=chatMessages['scrollHeight'];}_0xa91ec4['remove']();let _0x5b5625;try{_0x5b5625=_0x4d0517[_0x1167e4(0x121)](safeJSONParse,_0x3a23eb),_0x4d0517['ZVEIL'](addMessage,_0x4d0517[_0x1167e4(0x1db)],![]),addQuiz(_0x5b5625);}catch(_0x4f9efe){console[_0x1167e4(0x209)](_0x1167e4(0x1ff),_0x4f9efe),addMessage(_0x3a23eb,![]);throw _0x4f9efe;}_0x4d0517[_0x1167e4(0x128)](removeTypingIndicator);}catch(_0x39bfcb){console[_0x1167e4(0x209)](_0x4d0517['psbkd'],_0x39bfcb),_0x4d0517[_0x1167e4(0x1d4)](removeTypingIndicator),addMessage(_0x4d0517[_0x1167e4(0x12e)],![]);try{const _0x5449c7=await _0x4d0517['ZVEIL'](generateQuizWithoutAI,_0x1d92b7,_0x3cc6a7);_0x4d0517[_0x1167e4(0x1ee)](addMessage,_0x4d0517[_0x1167e4(0x114)],![]),addQuiz(_0x5449c7);}catch(_0x3417c7){console[_0x1167e4(0x209)](_0x4d0517['HtImQ'],_0x3417c7),_0x4d0517['ZVEIL'](addMessage,_0x4d0517[_0x1167e4(0x1a5)],![]);}}}function generateOptionsFromText(_0x6f9391){const _0x8f3350=_0xfe9159,_0x494a84={'HmztY':function(_0x40b3dc,_0x212840){return _0x40b3dc+_0x212840;},'hhkHq':'Additional\x20option\x20','vPlwb':function(_0x4703da,_0x26be7b){return _0x4703da+_0x26be7b;}},_0x3a4623=_0x6f9391[_0x8f3350(0x1e0)](/[.!?]+/)['filter'](_0x48f561=>_0x48f561['trim']()[_0x8f3350(0x13e)]>0x0),_0x1281e3=_0x3a4623[_0x8f3350(0x185)](0x0,0x4)[_0x8f3350(0x17c)](_0x2c5e09=>_0x2c5e09[_0x8f3350(0x181)]());while(_0x1281e3[_0x8f3350(0x13e)]<0x4){_0x1281e3[_0x8f3350(0x1c5)](_0x494a84[_0x8f3350(0x18b)](_0x494a84[_0x8f3350(0x189)],_0x494a84[_0x8f3350(0x13d)](_0x1281e3['length'],0x1)));}return _0x1281e3;}function _0x1b84(){const _0x21dcf0=['[Camera]\x20Camera\x20preview\x20started\x20and\x20container\x20displayed','slice','className','load','[AI]\x20Performing\x20image\x20recognition...','hhkHq','light','HmztY','content','563717JDQmzf','EcCWA','chatMessages','[OCR]\x20Worker\x20initialized','0|4|2|3|1','toString','wYLeO','I\x27ve\x20generated\x20a\x20quiz\x20based\x20on\x20your\x20image\x20and\x20requirements:','timeLimit','IDNAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20Type:\x20','Copy\x20failed:','image','fromCharCode','cameraPreview','then','message\x20bot-message\x20streaming','Option\x20C','zyLWI','BEeev','join','pxfKB','zAHpO','[Camera]\x20Error\x20processing\x20captured\x20image:','gXjIt','Copy\x20Quiz','UGqAf','XdoPe','[Camera]\x20Stopping\x20track:','qvrvE','topics','[Quiz]\x20Fallback\x20generation\x20also\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20Title:\x20','[Camera]\x20Error\x20accessing\x20camera:','[Quiz]\x20Generating\x20quiz...','scrollHeight','test','[OCR]\x20Text\x20extraction\x20result:','type','mNZIF','64cMYJoE','imageContext:','gZBTB','[AI]\x20Windows\x20AI\x20API\x20not\x20found\x20in\x20window\x20object','[Processing]\x20Starting\x20image\x20OCR\x20analysis...','what','stop','videoWidth','Geography','igzus','JNYty','Please\x20capture\x20an\x20image\x20first\x20before\x20providing\x20quiz\x20requirements.','user','xWSQN','text','iboTL','push','\x0a\x20\x20\x20\x20\x20\x20\x20\x20Subject:\x20','BRhQo','style','[Quiz]\x20Starting\x20quiz\x20generation\x20with\x20Gemini\x20Nano...','Ysntw','captured-image','UduZP','title','getAttribute','VwWcJ','documentElement','...?','Sorry,\x20I\x20couldn\x27t\x20generate\x20the\x20quiz.\x20Please\x20try\x20again.','TCueF','njLDk','Generating\x20quiz...','Science','onclick','44PlDMEo','ZOyUi','messageInput','Wfmiu','EkQoG','ouYly','KEGqB','zNJzs','split','aweHq','FOhJK','wlkgL','setItem','\x20-\x20','Pnemf','Rdlph','[Camera]\x20Camera\x20stopped\x20and\x20container\x20hidden','What\x20is\x20the\x20significance\x20of\x20','message','questions','window.ai\x20API\x20not\x20available','[Processing]\x20Error\x20during\x20image\x20processing:','VPjEe','cameraButton','6VVZfAX','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20Questions:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Quiz\x20generation\x20failed\x20completely.\x20Please\x20try\x20again\x20later.','FUAok','[Camera]\x20Starting\x20camera\x20initialization...','height','theme','nDyBh','label','cancelButton','[AI]\x20Starting\x20image\x20processing...','finally','Windows\x20AI\x20API\x20not\x20available','getUserMedia','createElement','[Quiz]\x20Failed\x20to\x20parse\x20AI\x20response:','ZxCVT','TAdKW','\x0a\x20\x20\x20\x20\x20\x20\x20\x20Grade:\x20','[AI]\x20Image\x20recognition\x20completed.\x20Result:','YmUCo','\x20minutes\x0a\x20\x20\x20\x20\x20\x20\x20\x20Topics:\x20','createWorker','toISOString','value','error','open_ended','Sorry,\x20I\x20couldn\x27t\x20generate\x20the\x20quiz\x20using\x20Gemini\x20Nano\x20AI.\x20Please\x20try\x20again.','eng','canvas','25116vkWQDi','Image\x20captured!\x20Please\x20provide\x20your\x20requirements\x20for\x20the\x20quiz.','XrZrt','src','Wlsxa','134628AIJwUz','cMAbf','oDjLC','\x20Quiz','message\x20bot-message','vtIZQ','[Quiz]\x20Error\x20generating\x20quiz:','GYTaz','Sorry,\x20I\x20couldn\x27t\x20process\x20the\x20image.\x20Please\x20try\x20again.','flex','General','pRRlk','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','IplPf','width','environment','DmeUE','themeToggle','General\x20Knowledge','20CujKOZ','UlfAJ','dark','254025urPrIQ','user-message','display','UfnIY','[Camera]\x20Capturing\x20image...','Make\x20a\x20quiz\x20suitable\x20for\x20beginners','toDataURL','textContent','quiz-container','system','getElementById','hejes','includes','History','Generate\x20multiple\x20choice\x20questions\x20about\x20this\x20picture','840430EuqTqD','ExBpF','grade','lNfyx','subject','scrollTop','RxbSa','Image\x20and\x20text\x20analysis\x20complete','MgHIN','stvaF','EoWFa','toLowerCase','oehdZ','[OCR]\x20Worker\x20terminated','1598377hVOaIl','zBVhy','Generate\x20questions\x20based\x20on\x20the\x20image\x20related\x20text\x20-\x20','\x0a\x0aUser\x20request:\x20','THsSR','xPQOO','rqKEd','kTKpc','createImageSession','[Quiz]\x20Constructed\x20system\x20prompt:','vPlwb','length','25LPKzoc','sendButton','mediaDevices','gBwTb','Art','odVSz','srcObject','[OCR]\x20Text\x20extracted:','div','[Camera]\x20Successfully\x20got\x20media\x20stream:','recognize','[Camera]\x20Stopping\x20camera...','confidence','log','[Processing]\x20Image\x20processing\x20completed:','promptStreaming','bot-message','bPncu','Create\x20a\x20quiz\x20about\x20','options','button','cameraContainer','keypress','CjzWP','pXoqg','terminate','oWijg','ITPAc','OEYhC','appendChild','click','Ygphx','kJUvT','RVcAV','Xybmh','AdZaj','GSOZu','data','pattern','vmeol','TcmLj','stringify','catch','[UI]\x20Adding\x20message:\x20','I\x27ve\x20generated\x20a\x20quiz\x20based\x20on\x20your\x20requirements:','Generated\x20a\x20basic\x20quiz\x20without\x20AI\x20assistance:','[OCR]\x20Error\x20in\x20text\x20extraction:','[OCR]\x20Starting\x20text\x20extraction...','copy-button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20Points:\x20','Student\x20should\x20identify\x20main\x20points\x20from\x20the\x20text','question','forEach','drawImage','topic','Processing\x20image...','dOrLR','addEventListener','vgKtD','clipboard','loadLanguage','map','sqErY','[Chat]\x20Sending\x20message:','\x20\x20\x20','You\x20are\x20a\x20quiz\x20generator.\x20Create\x20a\x20quiz\x20based\x20on\x20the\x20following\x20image\x20context\x20and\x20user\x20requirements.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Image\x20context:\x20','trim','26280VkgSCn','videoHeight'];_0x1b84=function(){return _0x21dcf0;};return _0x1b84();}function generateCustomQuestion(_0x1bf183,_0x1fd2a5){const _0x22f0e6=_0xfe9159,_0x5ad1a0={'sqErY':_0x22f0e6(0x1ba)};return _0x1bf183[_0x22f0e6(0x130)]()[_0x22f0e6(0x122)](_0x5ad1a0[_0x22f0e6(0x17d)])?_0x1bf183:_0x22f0e6(0x1e9)+_0x1fd2a5[_0x22f0e6(0x1e0)]('\x20')[_0x22f0e6(0x185)](0x0,0x3)[_0x22f0e6(0x1a1)]('\x20')+_0x22f0e6(0x1d1);}function addMessage(_0x11f50f,_0x2ab5ca=![]){const _0x38901f=_0xfe9159,_0x4f32fd={'Wlsxa':'User','pXoqg':'Bot','ummDz':_0x38901f(0x147),'UGqAf':_0x38901f(0x117),'kJUvT':_0x38901f(0x14f)};console[_0x38901f(0x14c)](_0x38901f(0x16a)+(_0x2ab5ca?_0x4f32fd[_0x38901f(0xff)]:_0x4f32fd[_0x38901f(0x157)])+':',_0x11f50f);const _0x169a2c=document[_0x38901f(0x1fe)](_0x4f32fd['ummDz']);_0x169a2c[_0x38901f(0x186)]='message\x20'+(_0x2ab5ca?_0x4f32fd[_0x38901f(0x1a7)]:_0x4f32fd[_0x38901f(0x15f)]),_0x169a2c[_0x38901f(0x11d)]=_0x11f50f,chatMessages['appendChild'](_0x169a2c),chatMessages[_0x38901f(0x12a)]=chatMessages['scrollHeight'];}function addQuiz(_0x3ac825){const _0x2d7233=_0xfe9159,_0x1df5bc={'FUAok':'[UI]\x20Adding\x20quiz\x20to\x20chat:','wYLeO':_0x2d7233(0x147),'GSOZu':'pre','eDPMP':_0x2d7233(0x16f),'EkQoG':_0x2d7233(0x1a6)};console[_0x2d7233(0x14c)](_0x1df5bc[_0x2d7233(0x1f3)],_0x3ac825);const _0x446cd4=document['createElement'](_0x1df5bc[_0x2d7233(0x193)]);_0x446cd4['className']=_0x2d7233(0x11e);const _0x4485b4=_0x2d7233(0x1ad)+_0x3ac825[_0x2d7233(0x1cd)]+_0x2d7233(0x202)+_0x3ac825[_0x2d7233(0x127)]+_0x2d7233(0x1c6)+_0x3ac825[_0x2d7233(0x129)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20Time\x20Limit:\x20'+_0x3ac825[_0x2d7233(0x195)]+_0x2d7233(0x205)+_0x3ac825[_0x2d7233(0x175)]+_0x2d7233(0x1f1)+_0x3ac825[_0x2d7233(0x1eb)]['map']((_0x45eec1,_0x1a7150)=>_0x2d7233(0x10c)+(_0x1a7150+0x1)+'.\x20'+_0x45eec1[_0x2d7233(0x172)]+_0x2d7233(0x10c)+(_0x45eec1[_0x2d7233(0x152)]?_0x45eec1['options'][_0x2d7233(0x17c)]((_0x1ebc93,_0x2d1f98)=>_0x2d7233(0x17f)+String[_0x2d7233(0x19a)](0x61+_0x2d1f98)+')\x20'+_0x1ebc93)[_0x2d7233(0x1a1)]('\x0a'):'')+_0x2d7233(0x197)+_0x45eec1[_0x2d7233(0x1b3)]+_0x2d7233(0x170)+_0x45eec1['points']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join']('\x0a')+'\x0a\x20\x20\x20\x20',_0x43512e=document[_0x2d7233(0x1fe)](_0x1df5bc[_0x2d7233(0x163)]);_0x43512e['textContent']=_0x4485b4,_0x446cd4['appendChild'](_0x43512e);const _0x70d53=document['createElement'](_0x2d7233(0x153));_0x70d53[_0x2d7233(0x186)]=_0x1df5bc['eDPMP'],_0x70d53[_0x2d7233(0x11d)]=_0x1df5bc[_0x2d7233(0x1dc)],_0x70d53['onclick']=()=>{const _0x5a6808=_0x2d7233;navigator[_0x5a6808(0x17a)]['writeText'](_0x4485b4)[_0x5a6808(0x19c)](()=>_0x70d53[_0x5a6808(0x11d)]='Copied!')[_0x5a6808(0x169)](_0x43ddfc=>console[_0x5a6808(0x209)](_0x5a6808(0x198),_0x43ddfc))[_0x5a6808(0x1fb)](()=>setTimeout(()=>_0x70d53[_0x5a6808(0x11d)]=_0x5a6808(0x1a6),0x7d0));},_0x446cd4[_0x2d7233(0x15c)](_0x70d53),chatMessages[_0x2d7233(0x15c)](_0x446cd4),chatMessages[_0x2d7233(0x12a)]=chatMessages[_0x2d7233(0x1b0)];}async function captureImage(){const _0x30e30e=_0xfe9159,_0x4fe433={'IDNAt':function(_0x91656b){return _0x91656b();},'OEYhC':_0x30e30e(0x147),'XfdKq':'prompt-suggestion','mNZIF':'img','ybrXi':'image/jpeg','ileyz':_0x30e30e(0x1cb),'BRhQo':function(_0x1a5a10,_0x1fe601){return _0x1a5a10(_0x1fe601);},'vgKtD':function(_0x4e0e1a,_0x188a8c,_0x3b89da){return _0x4e0e1a(_0x188a8c,_0x3b89da);},'ijFFC':_0x30e30e(0xfc),'IplPf':function(_0x59afd9,_0x2bfaf4){return _0x59afd9===_0x2bfaf4;},'uFPuv':'text','ITPAc':_0x30e30e(0x124),'uPmcq':_0x30e30e(0x11b),'UduZP':_0x30e30e(0x1a4),'nDyBh':_0x30e30e(0x108)};console[_0x30e30e(0x14c)](_0x30e30e(0x11a));try{const _0x5cdc55=document[_0x30e30e(0x1fe)](_0x30e30e(0xfa));_0x5cdc55[_0x30e30e(0x10e)]=cameraPreview[_0x30e30e(0x1bc)],_0x5cdc55[_0x30e30e(0x1f5)]=cameraPreview[_0x30e30e(0x183)],_0x5cdc55['getContext']('2d')[_0x30e30e(0x174)](cameraPreview,0x0,0x0);const _0x2ef46d=document[_0x30e30e(0x1fe)](_0x4fe433[_0x30e30e(0x1b4)]);_0x2ef46d[_0x30e30e(0xfe)]=_0x5cdc55[_0x30e30e(0x11c)](_0x4fe433['ybrXi']),_0x2ef46d['className']=_0x4fe433['ileyz'];const _0x4f766b=document[_0x30e30e(0x1fe)](_0x4fe433['OEYhC']);_0x4f766b[_0x30e30e(0x186)]=_0x30e30e(0x104),_0x4f766b[_0x30e30e(0x15c)](_0x2ef46d),chatMessages[_0x30e30e(0x15c)](_0x4f766b),_0x4fe433[_0x30e30e(0x196)](stopCamera);const _0x11fdbe=await _0x4fe433[_0x30e30e(0x1c7)](processImageUsingTesseract,_0x2ef46d);imageContext=_0x11fdbe,console[_0x30e30e(0x14c)](_0x30e30e(0x14d),JSON['stringify'](imageContext,null,0x2)),_0x4fe433[_0x30e30e(0x179)](addMessage,_0x4fe433['ijFFC'],![]);const _0x4856b0=[_0x30e30e(0x151)+imageContext[_0x30e30e(0x1ab)][0x0]+_0x30e30e(0x1e5)+imageContext[_0x30e30e(0x18c)],_0x4fe433[_0x30e30e(0x10d)](imageContext[_0x30e30e(0x1b3)],_0x4fe433['uFPuv'])?_0x30e30e(0x135)+imageContext[_0x30e30e(0x18c)]:_0x4fe433[_0x30e30e(0x15a)],_0x4fe433['uPmcq']];_0x4856b0[_0x30e30e(0x173)](_0x5e9942=>{const _0x4bad68=_0x30e30e,_0x2c70fe={'Xybmh':function(_0x5da5ee){const _0x445e2d=_0x5b7b;return _0x4fe433[_0x445e2d(0x196)](_0x5da5ee);}},_0x242621=document['createElement'](_0x4fe433[_0x4bad68(0x15b)]);_0x242621[_0x4bad68(0x186)]=_0x4fe433['XfdKq'],_0x242621['textContent']=_0x5e9942,_0x242621[_0x4bad68(0x1d7)]=()=>{const _0x2f6dde=_0x4bad68;messageInput[_0x2f6dde(0x208)]=_0x5e9942,_0x2c70fe[_0x2f6dde(0x161)](sendMessage);},chatMessages[_0x4bad68(0x15c)](_0x242621);});}catch(_0x29f478){console[_0x30e30e(0x209)](_0x4fe433[_0x30e30e(0x1cc)],_0x29f478),_0x4fe433['vgKtD'](addMessage,_0x4fe433[_0x30e30e(0x1f7)],![]);}}async function sendMessage(){const _0x5ddc12=_0xfe9159,_0x1e12ac={'EcCWA':_0x5ddc12(0x17e),'Rdlph':function(_0x555230,_0x3bf0e8,_0x29ca6e){return _0x555230(_0x3bf0e8,_0x29ca6e);},'RxbSa':function(_0x27aea2,_0xe968c1,_0x5cd9bf){return _0x27aea2(_0xe968c1,_0x5cd9bf);},'kTKpc':_0x5ddc12(0x16b),'qvrvE':function(_0x3c67a8,_0x738d15,_0x28c6db){return _0x3c67a8(_0x738d15,_0x28c6db);},'TAdKW':_0x5ddc12(0x1d2),'wlkgL':_0x5ddc12(0x1c0)},_0x50e424=messageInput[_0x5ddc12(0x208)][_0x5ddc12(0x181)]();if(!_0x50e424)return;console[_0x5ddc12(0x14c)](_0x1e12ac[_0x5ddc12(0x18e)],_0x50e424),_0x1e12ac[_0x5ddc12(0x1e7)](addMessage,_0x50e424,!![]),messageInput['value']='';if(imageContext)try{const _0x19b709=await _0x1e12ac[_0x5ddc12(0x12b)](generateQuizUsingAI,imageContext,_0x50e424);addMessage(_0x1e12ac[_0x5ddc12(0x13a)],![]),addQuiz(_0x19b709);}catch(_0x37573c){_0x1e12ac['qvrvE'](addMessage,_0x1e12ac[_0x5ddc12(0x201)],![]);}else _0x1e12ac[_0x5ddc12(0x1aa)](addMessage,_0x1e12ac[_0x5ddc12(0x1e3)],![]);}function toggleTheme(){const _0x55299e=_0xfe9159,_0x18b10d={'ouYly':'data-theme','ZOyUi':_0x55299e(0x18a),'iiNyn':'dark','MgHIN':_0x55299e(0x1f6)},_0x585f58=document[_0x55299e(0x1d0)],_0x2fd9f6=_0x585f58[_0x55299e(0x1ce)](_0x18b10d[_0x55299e(0x1dd)]),_0x2c94e6=_0x2fd9f6===_0x55299e(0x115)?_0x18b10d[_0x55299e(0x1d9)]:_0x18b10d['iiNyn'];_0x585f58['setAttribute']('data-theme',_0x2c94e6),localStorage[_0x55299e(0x1e4)](_0x18b10d[_0x55299e(0x12d)],_0x2c94e6);}themeToggle['addEventListener'](_0xfe9159(0x15d),toggleTheme),cameraButton['addEventListener'](_0xfe9159(0x15d),startCamera),captureButton[_0xfe9159(0x178)](_0xfe9159(0x15d),captureImage),cancelButton[_0xfe9159(0x178)](_0xfe9159(0x15d),stopCamera),sendButton[_0xfe9159(0x178)](_0xfe9159(0x15d),sendMessage),messageInput[_0xfe9159(0x178)](_0xfe9159(0x155),_0x160d19=>{const _0x4485bc={'ZNKGe':function(_0xaf59cf,_0x2fad15){return _0xaf59cf===_0x2fad15;},'nIdaO':'Enter'};if(_0x4485bc['ZNKGe'](_0x160d19['key'],_0x4485bc['nIdaO']))sendMessage();});async function generateQuizWithoutAI(_0x139aae,_0x4f54c0){const _0x35e21f=_0xfe9159,_0x2bf247={'oehdZ':_0x35e21f(0x1af),'igzus':function(_0x4a4fc3,_0x3518dc){return _0x4a4fc3===_0x3518dc;},'EoWFa':'text','BEeev':'Based\x20on\x20the\x20text,\x20what\x20is\x20the\x20main\x20topic\x20being\x20discussed?','vmeol':'multiple_choice','Ygphx':function(_0x2e76c8,_0x4995a6){return _0x2e76c8(_0x4995a6);},'VwWcJ':'Option\x20A','AdZaj':_0x35e21f(0x20a),'oWijg':_0x35e21f(0x171),'CjzWP':'What\x20can\x20you\x20observe\x20in\x20this\x20image?','aiFKS':'Description\x20of\x20visual\x20elements','aweHq':function(_0x54c650,_0x1f1afa,_0x838648){return _0x54c650(_0x1f1afa,_0x838648);},'XdoPe':'Option\x20B','VZHMX':_0x35e21f(0x19e),'pRRlk':'Option\x20D','oDjLC':_0x35e21f(0x10a),'CJpeM':_0x35e21f(0x106)};console[_0x35e21f(0x14c)](_0x2bf247[_0x35e21f(0x131)],{'imageContext':_0x139aae,'userPrompt':_0x4f54c0});try{const _0x5c1a1f=_0x2bf247[_0x35e21f(0x1be)](_0x139aae[_0x35e21f(0x1b3)],_0x2bf247[_0x35e21f(0x12f)]),_0x40e763=_0x139aae[_0x35e21f(0x18c)],_0x53681d=_0x139aae[_0x35e21f(0x1ab)],_0x56bbe8=[];_0x5c1a1f?(_0x56bbe8['push']({'question':_0x2bf247[_0x35e21f(0x1a0)],'type':_0x2bf247[_0x35e21f(0x166)],'options':_0x2bf247[_0x35e21f(0x15e)](generateOptionsFromText,_0x40e763),'answer':_0x2bf247['VwWcJ'],'points':0x2}),_0x56bbe8['push']({'question':'What\x20are\x20the\x20key\x20points\x20mentioned\x20in\x20the\x20text?','type':_0x2bf247['AdZaj'],'answer':_0x2bf247[_0x35e21f(0x159)],'points':0x2})):_0x56bbe8[_0x35e21f(0x1c5)]({'question':_0x2bf247[_0x35e21f(0x156)],'type':_0x2bf247[_0x35e21f(0x162)],'answer':_0x2bf247['aiFKS'],'points':0x2});_0x56bbe8[_0x35e21f(0x1c5)]({'question':_0x2bf247[_0x35e21f(0x1e1)](generateCustomQuestion,_0x4f54c0,_0x40e763),'type':_0x2bf247['vmeol'],'options':[_0x2bf247[_0x35e21f(0x1cf)],_0x2bf247[_0x35e21f(0x1a8)],_0x2bf247['VZHMX'],_0x2bf247[_0x35e21f(0x10b)]],'answer':'Option\x20A','points':0x2});const _0x2d9dd1={'id':Date['now']()[_0x35e21f(0x192)](),'title':_0x53681d[0x0]+_0x35e21f(0x103),'subject':_0x53681d[0x0],'grade':_0x2bf247[_0x35e21f(0x102)],'timeLimit':0xf,'topic':_0x53681d[_0x35e21f(0x1a1)](',\x20'),'questions':_0x56bbe8};return _0x2d9dd1;}catch(_0x1f8a66){console[_0x35e21f(0x209)](_0x2bf247['CJpeM'],_0x1f8a66);throw _0x1f8a66;}}