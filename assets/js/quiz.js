
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x7d9859=_0x17e7;(function(_0x159c3c,_0x12fbc1){const _0x506bd8=_0x17e7,_0xc7698d=_0x159c3c();while(!![]){try{const _0x21b97f=-parseInt(_0x506bd8(0x1fd))/0x1*(-parseInt(_0x506bd8(0x1ea))/0x2)+parseInt(_0x506bd8(0x2ab))/0x3*(parseInt(_0x506bd8(0x28b))/0x4)+-parseInt(_0x506bd8(0x248))/0x5*(parseInt(_0x506bd8(0x1f6))/0x6)+parseInt(_0x506bd8(0x221))/0x7+parseInt(_0x506bd8(0x25c))/0x8*(parseInt(_0x506bd8(0x2c6))/0x9)+parseInt(_0x506bd8(0x2e9))/0xa*(parseInt(_0x506bd8(0x242))/0xb)+-parseInt(_0x506bd8(0x29b))/0xc;if(_0x21b97f===_0x12fbc1)break;else _0xc7698d['push'](_0xc7698d['shift']());}catch(_0x1fc91c){_0xc7698d['push'](_0xc7698d['shift']());}}}(_0x5957,0x29c6b));import{Logger}from'./common.js';const chatMessages=document[_0x7d9859(0x212)](_0x7d9859(0x275)),messageInput=document[_0x7d9859(0x212)](_0x7d9859(0x20d)),sendButton=document[_0x7d9859(0x212)]('sendButton'),cameraButton=document[_0x7d9859(0x212)]('cameraButton'),themeToggle=document[_0x7d9859(0x212)]('themeToggle'),cameraContainer=document[_0x7d9859(0x212)]('cameraContainer'),cameraPreview=document[_0x7d9859(0x212)]('cameraPreview'),captureButton=document[_0x7d9859(0x212)]('captureButton'),cancelButton=document[_0x7d9859(0x212)](_0x7d9859(0x2d9));let stream=null,imageContext=null;async function startCamera(){const _0x66b8af=_0x7d9859,_0x1cf7d7={'hCWph':_0x66b8af(0x2b5),'cacJd':_0x66b8af(0x2a0),'pyCLR':'[Camera]\x20Camera\x20preview\x20started\x20and\x20container\x20displayed','qVwUt':_0x66b8af(0x1df),'tCzpP':_0x66b8af(0x22e),'KIXDu':'environment','FOaWv':_0x66b8af(0x2d3),'BWTgU':_0x66b8af(0x277)};console['log'](_0x1cf7d7[_0x66b8af(0x28d)]);try{const _0x17ba80=_0x1cf7d7['cacJd']['split']('|');let _0xe41378=0x0;while(!![]){switch(_0x17ba80[_0xe41378++]){case'0':console[_0x66b8af(0x244)](_0x1cf7d7[_0x66b8af(0x2b2)]);continue;case'1':console['log'](_0x1cf7d7[_0x66b8af(0x1e7)],stream);continue;case'2':cameraContainer[_0x66b8af(0x1ed)]['display']=_0x1cf7d7['tCzpP'];continue;case'3':cameraPreview[_0x66b8af(0x20f)]=stream;continue;case'4':stream=await navigator[_0x66b8af(0x291)][_0x66b8af(0x1de)]({'video':{'facingMode':_0x1cf7d7[_0x66b8af(0x1f4)]}});continue;}break;}}catch(_0x2d1823){console[_0x66b8af(0x22d)](_0x1cf7d7['FOaWv'],_0x2d1823),addMessage(_0x1cf7d7['BWTgU']+_0x2d1823[_0x66b8af(0x1f8)]);}}function stopCamera(){const _0x2cd08f=_0x7d9859,_0x1c86e5={'SudFJ':'[Camera]\x20Stopping\x20camera...','ypxbF':_0x2cd08f(0x24a),'RukWe':'[Camera]\x20Camera\x20stopped\x20and\x20container\x20hidden'};console[_0x2cd08f(0x244)](_0x1c86e5[_0x2cd08f(0x23f)]),stream&&(stream[_0x2cd08f(0x274)]()['forEach'](_0x3ff06b=>{const _0x3750cc=_0x2cd08f;console['log'](_0x3750cc(0x20c),_0x3ff06b[_0x3750cc(0x251)]),_0x3ff06b['stop']();}),stream=null),cameraContainer[_0x2cd08f(0x1ed)]['display']=_0x1c86e5[_0x2cd08f(0x256)],console['log'](_0x1c86e5[_0x2cd08f(0x2a1)]);}async function processImageUsingWindowAI(_0x395946){const _0x206f07=_0x7d9859,_0x5f0a01={'zxNXk':_0x206f07(0x24e),'ZYEHz':_0x206f07(0x1e0),'ahhTx':_0x206f07(0x2c8),'lZyOV':'[AI]\x20Creating\x20image\x20recognition\x20session...','VpnQZ':_0x206f07(0x28f),'mdNoT':_0x206f07(0x2cc)};console[_0x206f07(0x244)](_0x5f0a01[_0x206f07(0x23a)],_0x395946);if(!window['ai']){console[_0x206f07(0x22d)](_0x5f0a01[_0x206f07(0x2c0)]);throw new Error(_0x5f0a01[_0x206f07(0x241)]);}try{console[_0x206f07(0x244)](_0x5f0a01['lZyOV']);const _0x1c00bb=await window['ai'][_0x206f07(0x1ec)]();console['log']('[AI]\x20Image\x20session\x20created:',_0x1c00bb),console[_0x206f07(0x244)](_0x206f07(0x279));const _0x5e55ce=await _0x1c00bb['recognize'](_0x395946);return console[_0x206f07(0x244)](_0x5f0a01[_0x206f07(0x203)],_0x5e55ce),_0x5e55ce;}catch(_0x3d2394){console['error'](_0x5f0a01[_0x206f07(0x24f)],_0x3d2394);throw _0x3d2394;}}async function processImageUsingTesseract(_0x905b78){const _0x433ce4=_0x7d9859,_0x5e30bb={'xzilC':'[Processing]\x20Starting\x20image\x20OCR\x20analysis...','yGFTo':function(_0x65fc57,_0x50b0cf,_0x49dc37){return _0x65fc57(_0x50b0cf,_0x49dc37);},'QskQO':'Processing\x20image...','RMIlG':function(_0x4b0a3d,_0x221fdc){return _0x4b0a3d(_0x221fdc);},'YNcxc':_0x433ce4(0x1d9),'RAOLF':function(_0x3f2c47,_0x12eada){return _0x3f2c47>_0x12eada;},'GCMbJ':_0x433ce4(0x23c),'GbaCu':'Washington\x20Drivers\x20License\x20Test','DpCad':function(_0x37668f,_0x253a34){return _0x37668f(_0x253a34);},'aoYFB':_0x433ce4(0x289),'PtAYk':_0x433ce4(0x1da),'IzvGh':_0x433ce4(0x2e6),'PAwcn':_0x433ce4(0x207),'cJLAS':_0x433ce4(0x2a9)};console[_0x433ce4(0x244)](_0x5e30bb[_0x433ce4(0x214)]),_0x5e30bb['yGFTo'](addMessage,_0x5e30bb[_0x433ce4(0x2a5)],![]);try{const _0x374e8b=await _0x5e30bb['RMIlG'](extractTextFromImage,_0x905b78);return console[_0x433ce4(0x244)](_0x5e30bb['YNcxc'],_0x374e8b),_0x374e8b[_0x433ce4(0x23c)]&&_0x5e30bb[_0x433ce4(0x235)](_0x374e8b[_0x433ce4(0x23c)][_0x433ce4(0x25e)]()[_0x433ce4(0x1fb)],0x0)?{'type':_0x5e30bb[_0x433ce4(0x234)],'content':_0x5e30bb[_0x433ce4(0x2b8)],'confidence':_0x374e8b[_0x433ce4(0x243)],'topics':_0x5e30bb[_0x433ce4(0x2c5)](generateTopics,_0x374e8b[_0x433ce4(0x23c)])}:(console[_0x433ce4(0x244)](_0x5e30bb[_0x433ce4(0x258)]),{'type':_0x5e30bb[_0x433ce4(0x2e1)],'content':_0x5e30bb[_0x433ce4(0x224)],'topics':[_0x5e30bb['PAwcn'],_0x5e30bb[_0x433ce4(0x1d6)]],'features':{'timestamp':new Date()[_0x433ce4(0x2b3)](),'dimensions':{'width':_0x905b78[_0x433ce4(0x213)],'height':_0x905b78[_0x433ce4(0x2a2)]}}});}catch(_0x1da959){console[_0x433ce4(0x22d)](_0x433ce4(0x21b),_0x1da959);throw _0x1da959;}}async function extractTextFromImage(_0x2bbaec){const _0x420424=_0x7d9859,_0x128a15={'itPbw':_0x420424(0x204),'yeGTz':_0x420424(0x298),'mhpzl':_0x420424(0x26a),'SzHIw':'[OCR]\x20Text\x20extracted:','rahgM':_0x420424(0x26b),'zYtDv':_0x420424(0x227)};console[_0x420424(0x244)](_0x128a15[_0x420424(0x21e)]);const _0x428482=_0x128a15[_0x420424(0x27e)];try{const _0xddc418=await Tesseract[_0x420424(0x202)]();await _0xddc418['load'](),await _0xddc418[_0x420424(0x2b6)](_0x428482),await _0xddc418[_0x420424(0x208)](_0x428482),console['log'](_0x128a15['mhpzl']);const _0x4a4eb3=await _0xddc418[_0x420424(0x1fe)](_0x2bbaec);console[_0x420424(0x244)](_0x128a15[_0x420424(0x2d2)],_0x4a4eb3[_0x420424(0x2af)][_0x420424(0x23c)]),await _0xddc418[_0x420424(0x285)](),console[_0x420424(0x244)](_0x128a15[_0x420424(0x1fc)]);const _0x23ed76={'timestamp':new Date()[_0x420424(0x2b3)](),'imageSize':{'width':_0x2bbaec[_0x420424(0x213)],'height':_0x2bbaec[_0x420424(0x2a2)]},'extractedText':_0x4a4eb3['data'][_0x420424(0x23c)],'confidenceScore':_0x4a4eb3[_0x420424(0x2af)]['confidence'],'suggestedTopics':generateTopics(_0x4a4eb3[_0x420424(0x2af)]['text'])};return{'description':_0x128a15['zYtDv'],'metadata':_0x23ed76,'text':_0x4a4eb3[_0x420424(0x2af)][_0x420424(0x23c)],'confidence':_0x4a4eb3[_0x420424(0x2af)][_0x420424(0x243)]};}catch(_0x39c5c4){return console[_0x420424(0x22d)]('[OCR]\x20Error\x20in\x20text\x20extraction:',_0x39c5c4),{'text':'','confidence':0x0};}}function _0x17e7(_0x2ac7b7,_0x1e08e0){const _0x595792=_0x5957();return _0x17e7=function(_0x17e773,_0x1e1848){_0x17e773=_0x17e773-0x1d2;let _0x310b6b=_0x595792[_0x17e773];return _0x310b6b;},_0x17e7(_0x2ac7b7,_0x1e08e0);}function generateTopics(_0x4218bb){const _0x2b51f3=_0x7d9859,_0x2490dd={'mbgLv':_0x2b51f3(0x1db),'zxEjq':_0x2b51f3(0x299),'pgHrD':_0x2b51f3(0x294),'JOLtV':_0x2b51f3(0x200),'EeyIB':'General\x20Knowledge'},_0x1e211f=new Set(),_0x383c38=_0x4218bb[_0x2b51f3(0x1f1)](),_0x3a2c22=[{'pattern':/\b(math|equation|calculate|formula|number)\b/,'topic':_0x2b51f3(0x233)},{'pattern':/\b(science|experiment|chemical|biology|physics)\b/,'topic':_0x2490dd[_0x2b51f3(0x1f0)]},{'pattern':/\b(history|century|ancient|war|empire|civilization)\b/,'topic':_0x2b51f3(0x23e)},{'pattern':/\b(geography|country|capital|mountain|river|climate)\b/,'topic':_0x2490dd[_0x2b51f3(0x263)]},{'pattern':/\b(grammar|sentence|paragraph|essay|writing)\b/,'topic':_0x2490dd['pgHrD']},{'pattern':/\b(art|color|design|paint|draw)\b/,'topic':_0x2490dd[_0x2b51f3(0x206)]}];return _0x3a2c22[_0x2b51f3(0x245)](_0x335c41=>{const _0x592d24=_0x2b51f3;_0x335c41['pattern'][_0x592d24(0x250)](_0x383c38)&&_0x1e211f[_0x592d24(0x25f)](_0x335c41[_0x592d24(0x211)]);}),_0x1e211f[_0x2b51f3(0x283)]===0x0&&_0x1e211f[_0x2b51f3(0x25f)](_0x2490dd[_0x2b51f3(0x246)]),Array[_0x2b51f3(0x276)](_0x1e211f);}async function generateQuizUsingAI(_0xe3b6b3,_0x56f6e0){const _0x1cf35a=_0x7d9859,_0x59e3a6={'jniNA':_0x1cf35a(0x29c),'Stpxs':'imageContext:','eAzpx':_0x1cf35a(0x1e9),'WCVxL':_0x1cf35a(0x2e3),'FFHwt':_0x1cf35a(0x2ad),'wKNPY':_0x1cf35a(0x24c),'IhUMG':'div','LVWCw':_0x1cf35a(0x2a6),'JrYPZ':_0x1cf35a(0x223),'SZLVw':function(_0x38a7e9){return _0x38a7e9();},'tAbOD':function(_0x35c88b,_0x15437a){return _0x35c88b(_0x15437a);},'XYleK':function(_0x1d8c4c,_0x1b8d65,_0x407ab3){return _0x1d8c4c(_0x1b8d65,_0x407ab3);},'VoJaS':_0x1cf35a(0x1e5),'Hvfvi':_0x1cf35a(0x2d0),'OtFii':function(_0x1dc0d7){return _0x1dc0d7();},'zFWSq':_0x1cf35a(0x2da),'JRDVY':function(_0x48f49f,_0x54d64a,_0x4fe665){return _0x48f49f(_0x54d64a,_0x4fe665);},'eBfYz':_0x1cf35a(0x1f9),'iduCh':_0x1cf35a(0x205),'ZMHBP':'Quiz\x20generation\x20failed\x20completely.\x20Please\x20try\x20again\x20later.'};console[_0x1cf35a(0x244)](_0x59e3a6[_0x1cf35a(0x1d3)],{'imageContext':_0xe3b6b3,'userPrompt':_0x56f6e0});try{console[_0x1cf35a(0x244)](_0x59e3a6[_0x1cf35a(0x281)],JSON['stringify'](_0xe3b6b3));if(!window['ai'])throw new Error(_0x59e3a6[_0x1cf35a(0x2cf)]);const _0x233d25=_0x1cf35a(0x210)+JSON[_0x1cf35a(0x232)](_0xe3b6b3)+_0x1cf35a(0x2dc);console[_0x1cf35a(0x244)](_0x59e3a6[_0x1cf35a(0x2e4)],_0x233d25);const _0x3c90b9=[{'role':_0x59e3a6[_0x1cf35a(0x231)],'content':_0x233d25},{'role':_0x59e3a6[_0x1cf35a(0x266)],'content':_0x56f6e0}],_0x36bf74=document[_0x1cf35a(0x26c)](_0x59e3a6[_0x1cf35a(0x2d4)]);_0x36bf74[_0x1cf35a(0x1f5)]=_0x59e3a6['LVWCw'],chatMessages[_0x1cf35a(0x295)](_0x36bf74),showTypingIndicator(chatMessages,_0x59e3a6[_0x1cf35a(0x2ca)]);if(!aiLanguageSession)await _0x59e3a6[_0x1cf35a(0x257)](initializeLanguageSession);const _0x52254e=await aiLanguageSession[_0x1cf35a(0x25a)](_0x233d25+_0x1cf35a(0x278)+_0x56f6e0);let _0x53c474='';for await(const _0x5eb5ca of _0x52254e){_0x53c474+=_0x5eb5ca,_0x36bf74[_0x1cf35a(0x24b)]=_0x53c474,chatMessages[_0x1cf35a(0x2e8)]=chatMessages[_0x1cf35a(0x217)];}_0x36bf74['remove']();let _0x3ce905;try{_0x3ce905=_0x59e3a6[_0x1cf35a(0x267)](safeJSONParse,_0x53c474),_0x59e3a6[_0x1cf35a(0x2bb)](addMessage,_0x59e3a6['VoJaS'],![]),addQuiz(_0x3ce905);}catch(_0x287e6b){console[_0x1cf35a(0x22d)](_0x59e3a6[_0x1cf35a(0x26e)],_0x287e6b),_0x59e3a6[_0x1cf35a(0x2bb)](addMessage,_0x53c474,![]);throw _0x287e6b;}_0x59e3a6['OtFii'](removeTypingIndicator);}catch(_0x3ac048){console[_0x1cf35a(0x22d)](_0x59e3a6[_0x1cf35a(0x236)],_0x3ac048),removeTypingIndicator(),_0x59e3a6[_0x1cf35a(0x2d5)](addMessage,_0x59e3a6[_0x1cf35a(0x270)],![]);try{const _0x4d60a3=await generateQuizWithoutAI(_0xe3b6b3,_0x56f6e0);_0x59e3a6['JRDVY'](addMessage,_0x59e3a6['iduCh'],![]),_0x59e3a6[_0x1cf35a(0x267)](addQuiz,_0x4d60a3);}catch(_0x34bdd0){console['error'](_0x1cf35a(0x2e0),_0x34bdd0),_0x59e3a6[_0x1cf35a(0x2bb)](addMessage,_0x59e3a6['ZMHBP'],![]);}}}function generateOptionsFromText(_0x492a6b){const _0x335ecc=_0x7d9859,_0x55a92b={'bgMSB':function(_0x332ca3,_0xfbdbe2){return _0x332ca3<_0xfbdbe2;},'NJovH':function(_0x3681a0,_0x314bf2){return _0x3681a0+_0x314bf2;},'aEWvO':_0x335ecc(0x1fa),'kICdU':function(_0x236176,_0xaba493){return _0x236176+_0xaba493;}},_0x6be37=_0x492a6b['split'](/[.!?]+/)[_0x335ecc(0x2bf)](_0x39bcdc=>_0x39bcdc[_0x335ecc(0x25e)]()[_0x335ecc(0x1fb)]>0x0),_0x3ee33e=_0x6be37['slice'](0x0,0x4)['map'](_0x564b03=>_0x564b03[_0x335ecc(0x25e)]());while(_0x55a92b[_0x335ecc(0x216)](_0x3ee33e['length'],0x4)){_0x3ee33e[_0x335ecc(0x247)](_0x55a92b[_0x335ecc(0x26d)](_0x55a92b[_0x335ecc(0x280)],_0x55a92b['kICdU'](_0x3ee33e['length'],0x1)));}return _0x3ee33e;}function generateCustomQuestion(_0x3c04e0,_0x5affe8){const _0x3c763f=_0x7d9859,_0x712491={'AAXtg':_0x3c763f(0x272)};return _0x3c04e0[_0x3c763f(0x1f1)]()[_0x3c763f(0x2b7)](_0x712491['AAXtg'])?_0x3c04e0:_0x3c763f(0x239)+_0x5affe8[_0x3c763f(0x265)]('\x20')[_0x3c763f(0x225)](0x0,0x3)[_0x3c763f(0x286)]('\x20')+_0x3c763f(0x2ba);}function addMessage(_0x40a76e,_0x375a0c=![]){const _0x39a96f=_0x7d9859,_0x32dad8={'lBOgo':_0x39a96f(0x2d1),'ipHuL':_0x39a96f(0x254),'WWgYA':_0x39a96f(0x222),'DMlBr':_0x39a96f(0x2ce)};console[_0x39a96f(0x244)](_0x39a96f(0x2cb)+(_0x375a0c?_0x32dad8[_0x39a96f(0x1e6)]:_0x32dad8[_0x39a96f(0x292)])+':',_0x40a76e);const _0x13c7a3=document[_0x39a96f(0x26c)]('div');_0x13c7a3[_0x39a96f(0x1f5)]='message\x20'+(_0x375a0c?_0x32dad8[_0x39a96f(0x28e)]:_0x32dad8['DMlBr']),_0x13c7a3[_0x39a96f(0x24b)]=_0x40a76e,chatMessages[_0x39a96f(0x295)](_0x13c7a3),chatMessages[_0x39a96f(0x2e8)]=chatMessages[_0x39a96f(0x217)];}function addQuiz(_0xce3605){const _0x4e02ad=_0x7d9859,_0x753b22={'mxvcy':_0x4e02ad(0x2e5),'xnAHK':_0x4e02ad(0x2a3),'gCXWI':_0x4e02ad(0x287),'lriyV':_0x4e02ad(0x2d7)};console[_0x4e02ad(0x244)](_0x753b22['mxvcy'],_0xce3605);const _0x2cbd20=document['createElement'](_0x4e02ad(0x1d2));_0x2cbd20[_0x4e02ad(0x1f5)]=_0x753b22[_0x4e02ad(0x293)];const _0x5f46eb=_0x4e02ad(0x20e)+_0xce3605['title']+_0x4e02ad(0x2c7)+_0xce3605[_0x4e02ad(0x22f)]+_0x4e02ad(0x238)+_0xce3605[_0x4e02ad(0x220)]+_0x4e02ad(0x288)+_0xce3605['timeLimit']+_0x4e02ad(0x1e4)+_0xce3605[_0x4e02ad(0x211)]+_0x4e02ad(0x2a7)+_0xce3605[_0x4e02ad(0x2b9)][_0x4e02ad(0x219)]((_0x39a1c7,_0x3d65e0)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3d65e0+0x1)+'.\x20'+_0x39a1c7[_0x4e02ad(0x228)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x39a1c7[_0x4e02ad(0x22c)]?_0x39a1c7[_0x4e02ad(0x22c)]['map']((_0x493ad2,_0x57118f)=>_0x4e02ad(0x1ef)+String[_0x4e02ad(0x229)](0x61+_0x57118f)+')\x20'+_0x493ad2)[_0x4e02ad(0x286)]('\x0a'):'')+_0x4e02ad(0x2db)+_0x39a1c7[_0x4e02ad(0x282)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20Points:\x20'+_0x39a1c7['points']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4e02ad(0x286)]('\x0a')+_0x4e02ad(0x2e7),_0x34a523=document[_0x4e02ad(0x26c)](_0x4e02ad(0x226));_0x34a523[_0x4e02ad(0x24b)]=_0x5f46eb,_0x2cbd20[_0x4e02ad(0x295)](_0x34a523);const _0x1d1fdb=document[_0x4e02ad(0x26c)](_0x753b22[_0x4e02ad(0x253)]);_0x1d1fdb[_0x4e02ad(0x1f5)]=_0x4e02ad(0x2d8),_0x1d1fdb[_0x4e02ad(0x24b)]=_0x753b22[_0x4e02ad(0x230)],_0x1d1fdb[_0x4e02ad(0x262)]=()=>{const _0x288965=_0x4e02ad;navigator[_0x288965(0x255)][_0x288965(0x297)](_0x5f46eb)[_0x288965(0x273)](()=>_0x1d1fdb[_0x288965(0x24b)]=_0x288965(0x27f))[_0x288965(0x1dc)](_0x14cf85=>console[_0x288965(0x22d)](_0x288965(0x260),_0x14cf85))['finally'](()=>setTimeout(()=>_0x1d1fdb[_0x288965(0x24b)]=_0x288965(0x2d7),0x7d0));},_0x2cbd20[_0x4e02ad(0x295)](_0x1d1fdb),chatMessages['appendChild'](_0x2cbd20),chatMessages[_0x4e02ad(0x2e8)]=chatMessages[_0x4e02ad(0x217)];}async function captureImage(){const _0xb8b450=_0x7d9859,_0x1f1bbc={'IBbNN':function(_0x4dcfb9){return _0x4dcfb9();},'NDPGK':'div','vgfcm':_0xb8b450(0x21a),'veUnW':_0xb8b450(0x2de),'TtChT':_0xb8b450(0x27c),'NPpyh':'captured-image','OpeeY':'message\x20bot-message','cPhII':_0xb8b450(0x2c1),'KOAik':function(_0x1e07f7,_0x30c096,_0x31be7c){return _0x1e07f7(_0x30c096,_0x31be7c);},'KPNwn':_0xb8b450(0x1dd),'mNHUj':function(_0x42ea51,_0x4aa4eb){return _0x42ea51===_0x4aa4eb;},'VIyEp':_0xb8b450(0x23c),'dNoQD':_0xb8b450(0x29a),'ZBFsm':'Make\x20a\x20quiz\x20suitable\x20for\x20beginners','UPaRz':_0xb8b450(0x259),'pPBUJ':function(_0x54293f,_0x2a56e7,_0x5766ae){return _0x54293f(_0x2a56e7,_0x5766ae);},'pyLHb':'Sorry,\x20I\x20couldn\x27t\x20process\x20the\x20image.\x20Please\x20try\x20again.'};console[_0xb8b450(0x244)](_0x1f1bbc[_0xb8b450(0x23b)]);try{const _0x58fd05=document[_0xb8b450(0x26c)](_0x1f1bbc[_0xb8b450(0x261)]);_0x58fd05['width']=cameraPreview[_0xb8b450(0x1f3)],_0x58fd05[_0xb8b450(0x2a2)]=cameraPreview['videoHeight'],_0x58fd05[_0xb8b450(0x271)]('2d')[_0xb8b450(0x2bd)](cameraPreview,0x0,0x0);const _0x328b93=document[_0xb8b450(0x26c)](_0x1f1bbc[_0xb8b450(0x201)]);_0x328b93['src']=_0x58fd05[_0xb8b450(0x2be)](_0xb8b450(0x1ee)),_0x328b93[_0xb8b450(0x1f5)]=_0x1f1bbc['NPpyh'];const _0x5050d4=document[_0xb8b450(0x26c)](_0x1f1bbc[_0xb8b450(0x1f2)]);_0x5050d4[_0xb8b450(0x1f5)]=_0x1f1bbc[_0xb8b450(0x1d4)],_0x5050d4['appendChild'](_0x328b93),chatMessages['appendChild'](_0x5050d4),_0x1f1bbc[_0xb8b450(0x1e1)](stopCamera);const _0x401144=await processImageUsingTesseract(_0x328b93);imageContext=_0x401144,console[_0xb8b450(0x244)](_0x1f1bbc['cPhII'],JSON[_0xb8b450(0x232)](imageContext,null,0x2)),_0x1f1bbc['KOAik'](addMessage,_0x1f1bbc[_0xb8b450(0x209)],![]);const _0x46f1cc=['Create\x20a\x20quiz\x20about\x20'+imageContext['topics'][0x0]+_0xb8b450(0x24d)+imageContext['content'],_0x1f1bbc[_0xb8b450(0x252)](imageContext[_0xb8b450(0x282)],_0x1f1bbc['VIyEp'])?_0xb8b450(0x2a4)+imageContext[_0xb8b450(0x2bc)]:_0x1f1bbc[_0xb8b450(0x22b)],_0x1f1bbc[_0xb8b450(0x29d)]];_0x46f1cc[_0xb8b450(0x245)](_0x36222d=>{const _0x3b3576=_0xb8b450,_0x40a120={'whVzr':function(_0x51eacf){const _0x13b084=_0x17e7;return _0x1f1bbc[_0x13b084(0x1e1)](_0x51eacf);}},_0x21cfc5=document[_0x3b3576(0x26c)](_0x1f1bbc[_0x3b3576(0x1f2)]);_0x21cfc5[_0x3b3576(0x1f5)]=_0x3b3576(0x1eb),_0x21cfc5[_0x3b3576(0x24b)]=_0x36222d,_0x21cfc5[_0x3b3576(0x262)]=()=>{const _0x5294ec=_0x3b3576;messageInput[_0x5294ec(0x268)]=_0x36222d,_0x40a120['whVzr'](sendMessage);},chatMessages['appendChild'](_0x21cfc5);});}catch(_0xb2add2){console[_0xb8b450(0x22d)](_0x1f1bbc[_0xb8b450(0x240)],_0xb2add2),_0x1f1bbc[_0xb8b450(0x269)](addMessage,_0x1f1bbc[_0xb8b450(0x2a8)],![]);}}async function sendMessage(){const _0x4aa813=_0x7d9859,_0x46efce={'lhgly':_0x4aa813(0x296),'AGrea':function(_0x41898b,_0x2f8eda,_0x43fadd){return _0x41898b(_0x2f8eda,_0x43fadd);},'FbBoC':function(_0x57e4c3,_0x724f0d){return _0x57e4c3(_0x724f0d);},'HxAsz':_0x4aa813(0x1d8),'UzWMO':_0x4aa813(0x29e)},_0x285773=messageInput[_0x4aa813(0x268)][_0x4aa813(0x25e)]();if(!_0x285773)return;console[_0x4aa813(0x244)](_0x46efce[_0x4aa813(0x28c)],_0x285773),_0x46efce[_0x4aa813(0x29f)](addMessage,_0x285773,!![]),messageInput[_0x4aa813(0x268)]='';if(imageContext)try{const _0x8c7eff=await _0x46efce[_0x4aa813(0x29f)](generateQuizUsingAI,imageContext,_0x285773);_0x46efce[_0x4aa813(0x29f)](addMessage,_0x4aa813(0x2eb),![]),_0x46efce[_0x4aa813(0x26f)](addQuiz,_0x8c7eff);}catch(_0xb39d18){_0x46efce['AGrea'](addMessage,_0x46efce[_0x4aa813(0x21c)],![]);}else addMessage(_0x46efce['UzWMO'],![]);}function toggleTheme(){const _0x4771cb=_0x7d9859,_0x80e017={'etABC':_0x4771cb(0x215),'Gcuul':function(_0x37d1f3,_0x2be82e){return _0x37d1f3===_0x2be82e;},'uPVgl':_0x4771cb(0x2c9),'IZRMm':_0x4771cb(0x27a)},_0x51ee91=document[_0x4771cb(0x28a)],_0x19bbb7=_0x51ee91['getAttribute'](_0x80e017['etABC']),_0x309709=_0x80e017[_0x4771cb(0x218)](_0x19bbb7,_0x80e017[_0x4771cb(0x290)])?_0x80e017[_0x4771cb(0x1d7)]:_0x4771cb(0x2c9);_0x51ee91[_0x4771cb(0x23d)](_0x80e017[_0x4771cb(0x2c3)],_0x309709),localStorage['setItem']('theme',_0x309709);}function _0x5957(){const _0x24fd59=['terminate','join','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20Time\x20Limit:\x20','[Processing]\x20No\x20OCR\x20text\x20found,\x20falling\x20back\x20to\x20image\x20analysis','documentElement','920IaMOAV','lhgly','hCWph','WWgYA','[AI]\x20Image\x20recognition\x20completed.\x20Result:','uPVgl','mediaDevices','ipHuL','xnAHK','Language\x20Arts','appendChild','[Chat]\x20Sending\x20message:','writeText','eng','Geography','Generate\x20multiple\x20choice\x20questions\x20about\x20this\x20picture','4632300RMqOjJ','[Quiz]\x20Starting\x20quiz\x20generation\x20with\x20Gemini\x20Nano...','ZBFsm','Please\x20capture\x20an\x20image\x20first\x20before\x20providing\x20quiz\x20requirements.','AGrea','4|1|3|2|0','RukWe','height','quiz-container','Generate\x20questions\x20based\x20on\x20the\x20image\x20related\x20text\x20-\x20','QskQO','message\x20bot-message\x20streaming','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20Questions:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','pyLHb','General\x20Knowledge','CZWcJ','2913JPrPUX','Student\x20should\x20identify\x20main\x20points\x20from\x20the\x20text','system','EQIvO','data','esFWG','click','pyCLR','toISOString','CoYiE','[Camera]\x20Starting\x20camera\x20initialization...','loadLanguage','includes','GbaCu','questions','...?','XYleK','content','drawImage','toDataURL','filter','ZYEHz','[Processing]\x20Image\x20processing\x20completed:','keypress','etABC','Description\x20of\x20visual\x20elements','DpCad','81JBfExF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20Grade:\x20','Windows\x20AI\x20API\x20not\x20available','dark','JrYPZ','[UI]\x20Adding\x20message:\x20','[AI]\x20Error\x20during\x20image\x20processing:','Option\x20A','bot-message','eAzpx','[Quiz]\x20Failed\x20to\x20parse\x20AI\x20response:','User','SzHIw','[Camera]\x20Error\x20accessing\x20camera:','IhUMG','JRDVY','now','Copy\x20Quiz','copy-button','cancelButton','[Quiz]\x20Error\x20in\x20quiz\x20generation\x20using\x20Gemini\x20Nano\x20AI:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20Type:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Format\x20the\x20response\x20as\x20a\x20JSON\x20quiz\x20object\x20with\x20id,\x20grade,\x20subject,\x20title,\x20timeLimit,\x20topic,\x20and\x20questions\x20array.','[Quiz]\x20Generating\x20quiz...','canvas','Option\x20D','[Quiz]\x20Fallback\x20generation\x20also\x20failed:','PtAYk','wOhlU','[Quiz]\x20Constructed\x20system\x20prompt:','WCVxL','[UI]\x20Adding\x20quiz\x20to\x20chat:','Visual\x20content\x20detected','\x0a\x20\x20\x20\x20','scrollTop','10BxPPUy','UNLWb','I\x27ve\x20generated\x20a\x20quiz\x20based\x20on\x20your\x20requirements:','PphBg','div','jniNA','OpeeY','What\x20can\x20you\x20observe\x20in\x20this\x20image?','cJLAS','IZRMm','Sorry,\x20I\x20couldn\x27t\x20generate\x20the\x20quiz.\x20Please\x20try\x20again.','[OCR]\x20Text\x20extraction\x20result:','image','Science','catch','Image\x20captured!\x20Please\x20provide\x20your\x20requirements\x20for\x20the\x20quiz.','getUserMedia','[Camera]\x20Successfully\x20got\x20media\x20stream:','[AI]\x20Windows\x20AI\x20API\x20not\x20found\x20in\x20window\x20object','IBbNN','rcSVU','Option\x20B','\x20minutes\x0a\x20\x20\x20\x20\x20\x20\x20\x20Topics:\x20','I\x27ve\x20generated\x20a\x20quiz\x20based\x20on\x20your\x20image\x20and\x20requirements:','lBOgo','qVwUt','wiGOt','window.ai\x20API\x20not\x20available','52402VQKRhV','prompt-suggestion','createImageSession','style','image/jpeg','\x20\x20\x20','mbgLv','toLowerCase','NDPGK','videoWidth','KIXDu','className','42006AormLU','[Quiz]\x20Error\x20generating\x20quiz:','message','Sorry,\x20I\x20couldn\x27t\x20generate\x20the\x20quiz\x20using\x20Gemini\x20Nano\x20AI.\x20Please\x20try\x20again.','Additional\x20option\x20','length','rahgM','2LeSOFL','recognize','vLcFV','Art','TtChT','createWorker','VpnQZ','[OCR]\x20Starting\x20text\x20extraction...','Generated\x20a\x20basic\x20quiz\x20without\x20AI\x20assistance:','JOLtV','Visual\x20Analysis','initialize','KPNwn','topics','DvhRU','[Camera]\x20Stopping\x20track:','messageInput','\x0a\x20\x20\x20\x20\x20\x20\x20\x20Title:\x20','srcObject','You\x20are\x20a\x20quiz\x20generator.\x20Create\x20a\x20quiz\x20based\x20on\x20the\x20following\x20image\x20context\x20and\x20user\x20requirements.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Image\x20context:\x20','topic','getElementById','width','xzilC','data-theme','bgMSB','scrollHeight','Gcuul','map','[Camera]\x20Capturing\x20image...','[Processing]\x20Error\x20during\x20image\x20processing:','HxAsz','VVipY','itPbw','Enter','subject','295365GhEZqL','user-message','Generating\x20quiz...','IzvGh','slice','pre','Image\x20and\x20text\x20analysis\x20complete','question','fromCharCode','toString','dNoQD','options','error','flex','grade','lriyV','FFHwt','stringify','Mathematics','GCMbJ','RAOLF','zFWSq','addEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20Subject:\x20','What\x20is\x20the\x20significance\x20of\x20','zxNXk','vgfcm','text','setAttribute','History','SudFJ','UPaRz','ahhTx','2593239RxjLUP','confidence','log','forEach','EeyIB','push','175IPGXSZ','open_ended','none','textContent','user','\x20-\x20','[AI]\x20Starting\x20image\x20processing...','mdNoT','test','label','mNHUj','gCXWI','Bot','clipboard','ypxbF','SZLVw','aoYFB','[Camera]\x20Error\x20processing\x20captured\x20image:','promptStreaming','UQORs','220888hCgHgJ','dCpOu','trim','add','Copy\x20failed:','veUnW','onclick','zxEjq','pREoJ','split','wKNPY','tAbOD','value','pPBUJ','[OCR]\x20Worker\x20initialized','[OCR]\x20Worker\x20terminated','createElement','NJovH','Hvfvi','FbBoC','eBfYz','getContext','what','then','getTracks','chatMessages','from','Error\x20accessing\x20camera:\x20','\x0a\x0aUser\x20request:\x20','[AI]\x20Performing\x20image\x20recognition...','light','Option\x20C','img','\x20Quiz','yeGTz','Copied!','aEWvO','Stpxs','type','size','UShHa'];_0x5957=function(){return _0x24fd59;};return _0x5957();}themeToggle[_0x7d9859(0x237)]('click',toggleTheme),cameraButton['addEventListener']('click',startCamera),captureButton[_0x7d9859(0x237)]('click',captureImage),cancelButton[_0x7d9859(0x237)](_0x7d9859(0x2b1),stopCamera),sendButton[_0x7d9859(0x237)](_0x7d9859(0x2b1),sendMessage),messageInput['addEventListener'](_0x7d9859(0x2c2),_0x244afe=>{const _0x3e6fcb=_0x7d9859,_0x17840d={'vLcFV':_0x3e6fcb(0x21f),'UShHa':function(_0x48dd1e){return _0x48dd1e();}};if(_0x244afe['key']===_0x17840d[_0x3e6fcb(0x1ff)])_0x17840d[_0x3e6fcb(0x284)](sendMessage);});async function generateQuizWithoutAI(_0x19f16a,_0x594b58){const _0xda2ca7=_0x7d9859,_0x2cae01={'CoYiE':_0xda2ca7(0x2dd),'wOhlU':function(_0x1eea39,_0x3ab2ef){return _0x1eea39===_0x3ab2ef;},'nVuBa':_0xda2ca7(0x23c),'Tgkwh':'Based\x20on\x20the\x20text,\x20what\x20is\x20the\x20main\x20topic\x20being\x20discussed?','dCpOu':function(_0x20a235,_0x477047){return _0x20a235(_0x477047);},'rcSVU':'What\x20are\x20the\x20key\x20points\x20mentioned\x20in\x20the\x20text?','wiGOt':_0xda2ca7(0x249),'pREoJ':_0xda2ca7(0x2ac),'VVipY':_0xda2ca7(0x1d5),'CZWcJ':_0xda2ca7(0x2c4),'DvhRU':function(_0x37fbde,_0x339b91,_0x38f63a){return _0x37fbde(_0x339b91,_0x38f63a);},'UQORs':'multiple_choice','UNLWb':'Option\x20A','esFWG':_0xda2ca7(0x27b),'PphBg':_0xda2ca7(0x2df),'EQIvO':'General','wARSE':_0xda2ca7(0x1f7)};console['log'](_0x2cae01[_0xda2ca7(0x2b4)],{'imageContext':_0x19f16a,'userPrompt':_0x594b58});try{const _0x14d662=_0x2cae01[_0xda2ca7(0x2e2)](_0x19f16a['type'],_0x2cae01['nVuBa']),_0x5a1904=_0x19f16a['content'],_0x1c42ab=_0x19f16a[_0xda2ca7(0x20a)],_0x3a0175=[];_0x14d662?(_0x3a0175['push']({'question':_0x2cae01['Tgkwh'],'type':'multiple_choice','options':_0x2cae01[_0xda2ca7(0x25d)](generateOptionsFromText,_0x5a1904),'answer':_0xda2ca7(0x2cd),'points':0x2}),_0x3a0175[_0xda2ca7(0x247)]({'question':_0x2cae01[_0xda2ca7(0x1e2)],'type':_0x2cae01[_0xda2ca7(0x1e8)],'answer':_0x2cae01[_0xda2ca7(0x264)],'points':0x2})):_0x3a0175[_0xda2ca7(0x247)]({'question':_0x2cae01[_0xda2ca7(0x21d)],'type':_0x2cae01[_0xda2ca7(0x1e8)],'answer':_0x2cae01[_0xda2ca7(0x2aa)],'points':0x2});_0x3a0175[_0xda2ca7(0x247)]({'question':_0x2cae01[_0xda2ca7(0x20b)](generateCustomQuestion,_0x594b58,_0x5a1904),'type':_0x2cae01[_0xda2ca7(0x25b)],'options':[_0x2cae01[_0xda2ca7(0x2ea)],_0xda2ca7(0x1e3),_0x2cae01[_0xda2ca7(0x2b0)],_0x2cae01[_0xda2ca7(0x2ec)]],'answer':_0x2cae01[_0xda2ca7(0x2ea)],'points':0x2});const _0x106b2f={'id':Date[_0xda2ca7(0x2d6)]()[_0xda2ca7(0x22a)](),'title':_0x1c42ab[0x0]+_0xda2ca7(0x27d),'subject':_0x1c42ab[0x0],'grade':_0x2cae01[_0xda2ca7(0x2ae)],'timeLimit':0xf,'topic':_0x1c42ab[_0xda2ca7(0x286)](',\x20'),'questions':_0x3a0175};return _0x106b2f;}catch(_0x38ba7d){console['error'](_0x2cae01['wARSE'],_0x38ba7d);throw _0x38ba7d;}}