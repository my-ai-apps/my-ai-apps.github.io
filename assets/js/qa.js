
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
(function(_0x30d797,_0x4ed9d6){const _0x146b29=_0x67c2,_0x1361dd=_0x30d797();while(!![]){try{const _0x5db1ad=parseInt(_0x146b29(0xe8))/0x1+parseInt(_0x146b29(0xe3))/0x2*(-parseInt(_0x146b29(0xe2))/0x3)+parseInt(_0x146b29(0xf0))/0x4*(parseInt(_0x146b29(0x10c))/0x5)+parseInt(_0x146b29(0x103))/0x6+parseInt(_0x146b29(0xfe))/0x7+-parseInt(_0x146b29(0xe4))/0x8+parseInt(_0x146b29(0xda))/0x9*(-parseInt(_0x146b29(0x111))/0xa);if(_0x5db1ad===_0x4ed9d6)break;else _0x1361dd['push'](_0x1361dd['shift']());}catch(_0x22a0a7){_0x1361dd['push'](_0x1361dd['shift']());}}}(_0x5983,0xcec35));import{marked}from'https://cdn.jsdelivr.net/npm/marked@13.0.3/lib/marked.esm.js';import _0x416599 from'https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.es.mjs';import{displayError,Logger}from'./common.js';function _0x5983(){const _0x4f0998=['className','VZRGU','settingsButton','TSAVw','Failed\x20to\x20initialize\x20AI.\x20Please\x20refresh\x20the\x20page.','role','.input-container','SByyx','scrollHeight','JGiab','questionLoaded','toENn','handleSilence','<i\x20class=\x22fas\x20fa-pause\x22></i>','recording','UViJn','parseQuizQuestions','playPauseButton','lTweI','MOSgM','elvfN','NcISZ','Invalid\x20quiz\x20format.','UzIWd','KLdej','4|0|3|2|1','addEventListener','replace','appendChild','scrollTop','NWmRw','createElement','guupT','isPaused','cDORK','Ksqdc','cDAcD','HZPjs','length','ERRlC','classList','trim','innerHTML','value','querySelector','45FGyBTQ','DgZVZ','nextQuestion','textContent','quizCompleted','add','error','ElcdO','15JKUGtt','131742dSPMNF','2181648cuwrmV','WumOs','content','none','499764Uwjyuq','jEYRD','messageInput','.countdown','VadOB','question','returnedToChat','MlPbf','222412NxMBjI','errorMessage','autoAdvanceTimeout','assistant','Please\x20enter\x20quiz\x20questions\x20and\x20answers.','messagesContainer','FfXWE','uLIcP','index','qkrEz','forEach','buFhw','quizStarted','Returned\x20to\x20chat\x20interface','5217506BDuSCL','autoAdvancePrompt','ZEsLP','flex','Eacao','4683408uOlyBH','catch','<div\x20class=\x22typing-indicator\x22><span></span><span></span><span></span></div>','DoxQi','ktFeO','zBuwF','init','Quiz\x20completed:','micButton','95hJyyYV','<em>$1</em>','log','chatContainer','ozHRq','3266370nxrZpw','<br>','style','remove','xSDKy','anuXA','startQuiz','PHKwT','getElementById','startQuizButton','loader','<strong>$1</strong>','lzhzH','display','sendButton'];_0x5983=function(){return _0x4f0998;};return _0x5983();}import{aiAdapter}from'./aiAdapter.js';function _0x67c2(_0x17c01f,_0x504cd5){const _0x598340=_0x5983();return _0x67c2=function(_0x67c265,_0x49ec9e){_0x67c265=_0x67c265-0xad;let _0xfa6fde=_0x598340[_0x67c265];return _0xfa6fde;},_0x67c2(_0x17c01f,_0x504cd5);}import{SpeechProcessor}from'./speechProcessor.js';import{QuizManager}from'./quizManager.js';((async()=>{const _0x66c016=_0x67c2,_0x5bac81={'Ksqdc':'Failed\x20to\x20initialize\x20AI:','xSDKy':function(_0x183294,_0x3a70a7){return _0x183294(_0x3a70a7);},'qZnhg':_0x66c016(0xb1),'zBuwF':_0x66c016(0xf4),'Eacao':_0x66c016(0xc3),'elvfN':'click','ozHRq':_0x66c016(0xfc),'ktFeO':_0x66c016(0xb7),'TSAVw':_0x66c016(0xde),'hkHuN':_0x66c016(0xee),'NcISZ':'div','MOSgM':'message\x20assistant\x20typing','icFqH':_0x66c016(0x105),'ZEsLP':'typingIndicator','VZRGU':_0x66c016(0x11c),'KLdej':_0x66c016(0x10d),'cDAcD':_0x66c016(0x112),'UzIWd':'<pre><code>$1</code></pre>','sEfOe':_0x66c016(0x101),'lzhzH':function(_0x41ca0f,_0x90287c){return _0x41ca0f===_0x90287c;},'DoxQi':'user','buFhw':function(_0x2a0dd0){return _0x2a0dd0();},'PHKwT':'<i\x20class=\x22fas\x20fa-play\x22></i>','NWmRw':_0x66c016(0xc6),'UViJn':function(_0x6ba60f){return _0x6ba60f();},'FfXWE':function(_0x12756a){return _0x12756a();},'BgFPf':_0x66c016(0xeb),'anuXA':_0x66c016(0xe7),'VadOB':function(_0x232f2a,_0x2f2178){return _0x232f2a>=_0x2f2178;},'uLIcP':function(_0x10afe8,_0x3c9431){return _0x10afe8(_0x3c9431);},'guupT':function(_0x42b939,_0x4fb2dc,_0x4a075e){return _0x42b939(_0x4fb2dc,_0x4a075e);},'dLRnX':function(_0x1f13fd,_0x1283f0,_0xe652f7){return _0x1f13fd(_0x1283f0,_0xe652f7);},'HZPjs':_0x66c016(0x10f),'gGynq':_0x66c016(0xea),'SByyx':_0x66c016(0x10b),'ERRlC':_0x66c016(0x11b),'yvkMk':_0x66c016(0xaf),'cDORK':'quizInput','qkrEz':_0x66c016(0xbe),'ElcdO':_0x66c016(0xff),'jEYRD':'DOMContentLoaded'};let _0x3722c6,_0x5e58b9=null;const _0x5e529d=document[_0x66c016(0x119)]('welcomeScreen'),_0x3621e8=document[_0x66c016(0x119)](_0x5bac81[_0x66c016(0xd2)]),_0x4e31ad=document[_0x66c016(0x119)](_0x66c016(0xf5)),_0x5ae99d=document['getElementById'](_0x5bac81['gGynq']),_0x534b70=document[_0x66c016(0x119)](_0x66c016(0x11f)),_0x3d5356=document[_0x66c016(0x119)](_0x5bac81[_0x66c016(0xb4)]),_0x437085=document[_0x66c016(0x119)](_0x66c016(0xf1)),_0xde44b1=document[_0x66c016(0x119)](_0x5bac81[_0x66c016(0xd4)]),_0x580533=document[_0x66c016(0x119)]('newChatButton'),_0x3a374e=document[_0x66c016(0x119)](_0x5bac81['yvkMk']),_0x3d72b9=document[_0x66c016(0xd9)](_0x66c016(0xb3)),_0x317382=document[_0x66c016(0x119)](_0x5bac81[_0x66c016(0xcf)]),_0x581a61=document[_0x66c016(0x119)](_0x66c016(0x11a)),_0x149fb8=document[_0x66c016(0x119)](_0x5bac81[_0x66c016(0xf9)]),_0x253bb9=document[_0x66c016(0x119)](_0x5bac81[_0x66c016(0xe1)]);document[_0x66c016(0xc7)](_0x5bac81[_0x66c016(0xe9)],()=>{const _0x347a96=_0x66c016,_0x908c53={'lTweI':_0x5bac81[_0x347a96(0xd0)],'MlPbf':function(_0x1ece68,_0x5713a1){const _0x44733e=_0x347a96;return _0x5bac81[_0x44733e(0x115)](_0x1ece68,_0x5713a1);},'UaZcJ':_0x5bac81['qZnhg'],'qZxRA':_0x5bac81[_0x347a96(0x108)],'JGiab':function(_0x5c1e8e,_0x57bdb1){return _0x5c1e8e===_0x57bdb1;},'WumOs':_0x5bac81[_0x347a96(0x102)]};_0x149fb8?.[_0x347a96(0xc7)](_0x5bac81[_0x347a96(0xc1)],_0x170ff6);const _0xcb9b4f=new BaseConversationManager();_0x3722c6=new QuizManager({'showAutoAdvancePrompt':()=>_0x4c4b84()});let _0x101707;function _0x35155d(){const _0x57320f=_0x347a96;_0x101707=new SpeechProcessor({'onResult':(_0x7d984c,_0x3aec7d)=>{_0x3722c6['updateUserAnswer'](_0x7d984c,_0x3aec7d);},'onError':_0x175629=>displayError(_0x175629),'onSilence':_0x325ba9=>_0x3722c6[_0x57320f(0xb9)](_0x325ba9),'onRecordingStart':()=>_0x3d5356?.['classList'][_0x57320f(0xdf)](_0x57320f(0xbb)),'onRecordingStop':()=>_0x3d5356?.[_0x57320f(0xd5)]['remove'](_0x57320f(0xbb)),'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}aiAdapter['init']()['then'](()=>{console['log']('AI\x20BrowserLanguage\x20Session\x20initialized\x20successfully');})[_0x347a96(0x104)](_0x24256e=>{const _0x34f3d5=_0x347a96;console[_0x34f3d5(0xe0)](_0x908c53[_0x34f3d5(0xbf)],_0x24256e),_0x908c53[_0x34f3d5(0xef)](displayError,_0x908c53['UaZcJ']);}),_0x3722c6[_0x347a96(0x109)](),_0x581a61?.[_0x347a96(0xc7)]('click',()=>{const _0x99f8bb=_0x347a96,_0xc3df1b=_0x317382[_0x99f8bb(0xd8)][_0x99f8bb(0xd6)]();if(!_0xc3df1b){_0x908c53[_0x99f8bb(0xef)](displayError,_0x908c53['qZxRA']);return;}const _0x559504=_0x3722c6[_0x99f8bb(0xbd)](_0xc3df1b);if(!_0x559504||_0x908c53[_0x99f8bb(0xb6)](_0x559504[_0x99f8bb(0xd3)],0x0)){_0x908c53[_0x99f8bb(0xef)](displayError,_0x908c53[_0x99f8bb(0xe5)]);return;}_0x3722c6[_0x99f8bb(0x117)](_0x559504);}),_0x3722c6['on'](_0x5bac81[_0x347a96(0x110)],_0x1e17b2=>console[_0x347a96(0x10e)]('Quiz\x20started\x20with\x20'+_0x1e17b2[_0x347a96(0xd3)]+'\x20questions')),_0x3722c6['on'](_0x5bac81[_0x347a96(0x107)],_0x288d1f=>console[_0x347a96(0x10e)]('Loaded\x20question\x20'+(_0x288d1f[_0x347a96(0xf8)]+0x1)+':\x20'+_0x288d1f[_0x347a96(0xed)]['question'])),_0x3722c6['on'](_0x5bac81[_0x347a96(0xb0)],_0x591744=>console[_0x347a96(0x10e)](_0x347a96(0x10a),_0x591744)),_0x3722c6['on'](_0x5bac81['hkHuN'],()=>console[_0x347a96(0x10e)](_0x347a96(0xfd))),_0x35155d();});function _0x4654ff(){const _0xd2875a=_0x66c016;if(!_0x4e31ad)return;const _0x195627=document[_0xd2875a(0xcc)](_0x5bac81[_0xd2875a(0xc2)]);_0x195627['className']=_0x5bac81[_0xd2875a(0xc0)],_0x195627['id']='typingIndicator',_0x195627[_0xd2875a(0xd7)]=_0x5bac81['icFqH'],_0x4e31ad[_0xd2875a(0xc9)](_0x195627),_0x4e31ad[_0xd2875a(0xca)]=_0x4e31ad[_0xd2875a(0xb5)];}function _0x3ecbfa(){const _0x8b32b6=_0x66c016;document['getElementById'](_0x5bac81['ZEsLP'])?.[_0x8b32b6(0x114)]();}function _0x5ce4e8(_0x5bf20d){const _0x1c7048=_0x66c016;return _0x5bf20d[_0x1c7048(0xc8)](/\*\*(.*?)\*\*/g,_0x5bac81[_0x1c7048(0xae)])[_0x1c7048(0xc8)](/\*(.*?)\*/g,_0x5bac81[_0x1c7048(0xc5)])['replace'](/\n/g,_0x5bac81[_0x1c7048(0xd1)])[_0x1c7048(0xc8)](/```([\s\S]*?)```/g,_0x5bac81[_0x1c7048(0xc4)]);}function _0x15538d(){const _0x2283ed=_0x66c016;if(_0x5e529d)_0x5e529d['style'][_0x2283ed(0x11e)]=_0x2283ed(0xe7);if(_0x3621e8)_0x3621e8['style'][_0x2283ed(0x11e)]=_0x5bac81['sEfOe'];if(_0x3d72b9)_0x3d72b9[_0x2283ed(0x113)][_0x2283ed(0x11e)]=_0x5bac81['sEfOe'];if(_0x5ae99d)_0x5ae99d['focus']();}function _0x192a2f(_0x491962){const _0x5e6d0d=_0x66c016;if(!_0x4e31ad)return;const _0x7b128e=document[_0x5e6d0d(0x119)](_0x5bac81[_0x5e6d0d(0x100)]);_0x4e31ad[_0x5e6d0d(0xd7)]='',_0x491962[_0x5e6d0d(0xfa)](_0x11d051=>{const _0x2e842e=_0x5e6d0d,_0x2196d9=document['createElement'](_0x5bac81[_0x2e842e(0xc2)]);_0x2196d9[_0x2e842e(0xad)]='message\x20'+(_0x5bac81[_0x2e842e(0x11d)](_0x11d051[_0x2e842e(0xb2)],_0x5bac81[_0x2e842e(0x106)])?_0x5bac81['DoxQi']:_0x2e842e(0xf3)),_0x2196d9[_0x2e842e(0xd7)]=_0x5bac81[_0x2e842e(0x115)](_0x5ce4e8,_0x11d051[_0x2e842e(0xe6)]),_0x4e31ad[_0x2e842e(0xc9)](_0x2196d9);});if(_0x7b128e)_0x4e31ad[_0x5e6d0d(0xc9)](_0x7b128e);_0x4e31ad[_0x5e6d0d(0xca)]=_0x4e31ad[_0x5e6d0d(0xb5)];}function _0x170ff6(){const _0xdb1137=_0x66c016;_0x3722c6[_0xdb1137(0xce)]=!_0x3722c6[_0xdb1137(0xce)],_0x117684();if(!_0x3722c6[_0xdb1137(0xce)])_0x5bac81[_0xdb1137(0xfb)](_0x5405e6);else _0x5bac81[_0xdb1137(0x115)](clearInterval,_0x5e58b9),clearTimeout(_0x3722c6[_0xdb1137(0xf2)]);}function _0x117684(){const _0x495cc9=_0x66c016;_0x149fb8[_0x495cc9(0xd7)]=_0x3722c6['isPaused']?_0x5bac81[_0x495cc9(0x118)]:_0x495cc9(0xba);}function _0x4c4b84(){const _0x223d6f=_0x66c016,_0x1a8b47=_0x5bac81[_0x223d6f(0xcb)]['split']('|');let _0x5ea504=0x0;while(!![]){switch(_0x1a8b47[_0x5ea504++]){case'0':_0x253bb9[_0x223d6f(0x113)][_0x223d6f(0x11e)]=_0x5bac81['sEfOe'];continue;case'1':_0x5bac81[_0x223d6f(0xbc)](_0x5405e6);continue;case'2':_0x5bac81[_0x223d6f(0xf6)](_0x117684);continue;case'3':_0x3722c6[_0x223d6f(0xce)]=![];continue;case'4':_0x253bb9[_0x223d6f(0xd9)](_0x5bac81['BgFPf'])['textContent']='2';continue;}break;}}function _0x5405e6(){const _0x5ccbe7=_0x66c016,_0x3c977f={'toENn':function(_0xa9b3df,_0x2629ca){const _0x5010f4=_0x67c2;return _0x5bac81[_0x5010f4(0xec)](_0xa9b3df,_0x2629ca);},'DgZVZ':_0x5ccbe7(0xeb)};let _0x22a776=0x1;_0x5bac81[_0x5ccbe7(0xf7)](clearInterval,_0x5e58b9),clearTimeout(_0x3722c6[_0x5ccbe7(0xf2)]),_0x5e58b9=_0x5bac81[_0x5ccbe7(0xcd)](setInterval,()=>{const _0x598bab=_0x5ccbe7;!_0x3722c6[_0x598bab(0xce)]&&(_0x22a776--,_0x3c977f[_0x598bab(0xb8)](_0x22a776,0x0)?_0x253bb9[_0x598bab(0xd9)](_0x3c977f[_0x598bab(0xdb)])[_0x598bab(0xdd)]=_0x22a776:clearInterval(_0x5e58b9));},0x3e8),_0x3722c6[_0x5ccbe7(0xf2)]=_0x5bac81['dLRnX'](setTimeout,()=>{const _0x4b38e7=_0x5ccbe7;!_0x3722c6['isPaused']&&(_0x253bb9[_0x4b38e7(0x113)][_0x4b38e7(0x11e)]=_0x5bac81[_0x4b38e7(0x116)],_0x3722c6[_0x4b38e7(0xdc)]());},0x3e8);}})());