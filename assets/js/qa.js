
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
(function(_0x5dcdec,_0x3dc84a){const _0x548b01=_0x46a5,_0x5c0356=_0x5dcdec();while(!![]){try{const _0x24ecb9=parseInt(_0x548b01(0x1f3))/0x1+parseInt(_0x548b01(0x1ee))/0x2*(parseInt(_0x548b01(0x20a))/0x3)+parseInt(_0x548b01(0x203))/0x4*(parseInt(_0x548b01(0x1b7))/0x5)+-parseInt(_0x548b01(0x1ea))/0x6*(-parseInt(_0x548b01(0x207))/0x7)+parseInt(_0x548b01(0x21d))/0x8+-parseInt(_0x548b01(0x1c3))/0x9*(parseInt(_0x548b01(0x1c5))/0xa)+-parseInt(_0x548b01(0x1bf))/0xb*(parseInt(_0x548b01(0x1c4))/0xc);if(_0x24ecb9===_0x3dc84a)break;else _0x5c0356['push'](_0x5c0356['shift']());}catch(_0x50719c){_0x5c0356['push'](_0x5c0356['shift']());}}}(_0x4720,0x7ed56));import{marked}from'https://cdn.jsdelivr.net/npm/marked@13.0.3/lib/marked.esm.js';import _0xfc1d69 from'https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.es.mjs';import{BaseConversationManager}from'./BaseConversationManager.js';import{displayError,Logger}from'./common.js';import{aiLanguageSession,initializeLanguageSession}from'./aiCommon.js';import{SpeechProcessor}from'./speechProcessor.js';function _0x46a5(_0x4c2d96,_0x51017d){const _0x47205d=_0x4720();return _0x46a5=function(_0x46a5d8,_0x15d65b){_0x46a5d8=_0x46a5d8-0x1b1;let _0x5fb448=_0x47205d[_0x46a5d8];return _0x5fb448;},_0x46a5(_0x4c2d96,_0x51017d);}import{QuizManager}from'./quizManager.js';function _0x4720(){const _0xe7c534=['Returned\x20to\x20chat\x20interface','MTTfw','div','<i\x20class=\x22fas\x20fa-pause\x22></i>','SCvUi','error','value','index','chatContainer','className','7542624TQhOuk','sendButton','click','Kldkx','tqPer','replace','flex','.countdown','uMXnO','questionLoaded','classList','<br>','qdNKc','YvWZn','3371565AQjiXz','Quiz\x20completed:','none','playPauseButton','then','addEventListener','ooPHm','scrollHeight','1864467kEftGb','assistant','recording','lZrFw','1431pnUGzq','144RSLlkq','11510sTcVcn','jUhUg','eXwRL','message\x20assistant\x20typing','ZJhRG','IwlLe','cLTuT','isPaused','QcWjs','trim','quizStarted','YbSKk','BQFWj','GAfEC','<em>$1</em>','parseQuizQuestions','scrollTop','Quiz\x20started\x20with\x20','appendChild','message\x20','startQuizButton','Invalid\x20quiz\x20format.','display','Please\x20enter\x20quiz\x20questions\x20and\x20answers.','remove','question','innerHTML','nextQuestion','Loaded\x20question\x20','messageInput','quizCompleted','AI\x20Language\x20Session\x20initialized\x20successfully','querySelector','vvGYN','createElement','HKCth','log','6zCxZZE','.input-container','MWptR','Mksgr','75694xbSRnH','startQuiz','iKpaV','autoAdvanceTimeout','typingIndicator','658680APQfLF','Failed\x20to\x20initialize\x20AI:','FLeWx','<pre><code>$1</code></pre>','DOMContentLoaded','AoVbP','style','getElementById','focus','Failed\x20to\x20initialize\x20AI.\x20Please\x20refresh\x20the\x20page.','RFAvR','LrMMv','add','\x20questions','2|1|0|4|3','gwpPZ','4pRrXfK','content','YkrJQ','cRJEi','1370131XsiEvf','init','LTZGx','21TdqsAZ','lOnxq','quizInput','user','hPREP','errorMessage','newChatButton','split','QTWnw'];_0x4720=function(){return _0xe7c534;};return _0x4720();}((async()=>{const _0x2cb018=_0x46a5,_0x18a1f3={'VLvOQ':_0x2cb018(0x1f4),'jUhUg':function(_0x46e9ba,_0x1b8daa){return _0x46e9ba(_0x1b8daa);},'cLTuT':_0x2cb018(0x1fc),'BQFWj':_0x2cb018(0x1dc),'IwlLe':function(_0x572f44,_0x14f2e3){return _0x572f44===_0x14f2e3;},'lZrFw':_0x2cb018(0x1da),'qnNHu':_0x2cb018(0x1e4),'AoVbP':_0x2cb018(0x21f),'qdNKc':_0x2cb018(0x1cf),'KBzOZ':_0x2cb018(0x1b2),'hPREP':_0x2cb018(0x1e3),'Kldkx':'returnedToChat','MTTfw':function(_0x4e8234){return _0x4e8234();},'YbSKk':_0x2cb018(0x215),'Mksgr':_0x2cb018(0x1c8),'QcWjs':_0x2cb018(0x1f2),'uMXnO':_0x2cb018(0x1d3),'QTWnw':_0x2cb018(0x1b9),'ItbwJ':_0x2cb018(0x20d),'eXwRL':_0x2cb018(0x216),'LrMMv':_0x2cb018(0x201),'gwpPZ':_0x2cb018(0x223),'tqPer':function(_0x2f97df){return _0x2f97df();},'iKpaV':function(_0x282284){return _0x282284();},'HKCth':_0x2cb018(0x224),'FLeWx':function(_0x1da249,_0x5331e8){return _0x1da249(_0x5331e8);},'ioteP':function(_0x388ea6,_0x46b6ac){return _0x388ea6(_0x46b6ac);},'Wctmt':function(_0x1c80e3,_0x550c9a,_0x590400){return _0x1c80e3(_0x550c9a,_0x590400);},'zpSWu':function(_0x133ad7,_0x3a640e,_0x4bd090){return _0x133ad7(_0x3a640e,_0x4bd090);},'ooPHm':_0x2cb018(0x1e2),'DGLql':'micButton','MWptR':_0x2cb018(0x20f),'LTZGx':'loader','RFAvR':_0x2cb018(0x210),'vvGYN':'settingsButton','YvWZn':_0x2cb018(0x20c),'SCvUi':_0x2cb018(0x1ba),'azwKD':'autoAdvancePrompt','VxrBN':_0x2cb018(0x1f7)};let _0x2105ca,_0x3c7977=null;const _0xafb432=document['getElementById']('welcomeScreen'),_0xc04662=document[_0x2cb018(0x1fa)](_0x2cb018(0x21b)),_0x1c14f1=document[_0x2cb018(0x1fa)]('messagesContainer'),_0x5ac4db=document[_0x2cb018(0x1fa)](_0x18a1f3[_0x2cb018(0x1bd)]),_0x295011=document[_0x2cb018(0x1fa)](_0x2cb018(0x21e)),_0x47b324=document[_0x2cb018(0x1fa)](_0x18a1f3['DGLql']),_0x3e5d8c=document[_0x2cb018(0x1fa)](_0x18a1f3[_0x2cb018(0x1ec)]),_0x5245be=document['getElementById'](_0x18a1f3[_0x2cb018(0x209)]),_0x484b5c=document[_0x2cb018(0x1fa)](_0x18a1f3[_0x2cb018(0x1fd)]),_0xd46c2a=document['getElementById'](_0x18a1f3[_0x2cb018(0x1e6)]),_0x5c5ac6=document[_0x2cb018(0x1e5)](_0x2cb018(0x1eb)),_0x69b19f=document[_0x2cb018(0x1fa)](_0x18a1f3[_0x2cb018(0x1b6)]),_0x39c527=document['getElementById'](_0x2cb018(0x1d9)),_0x54626b=document[_0x2cb018(0x1fa)](_0x18a1f3[_0x2cb018(0x217)]),_0x7e527a=document[_0x2cb018(0x1fa)](_0x18a1f3['azwKD']);document[_0x2cb018(0x1bc)](_0x18a1f3['VxrBN'],()=>{const _0x277736=_0x2cb018,_0xcdaa49={'YkrJQ':_0x18a1f3['qnNHu']};_0x54626b?.['addEventListener'](_0x18a1f3[_0x277736(0x1f8)],_0x138ca1);const _0x1eb242=new BaseConversationManager();_0x2105ca=new QuizManager({'showAutoAdvancePrompt':()=>_0x262750()});let _0xa07b29;function _0x5b8cc8(){const _0x1fc798=_0x277736;_0xa07b29=new SpeechProcessor({'onResult':(_0x5f1594,_0x3bc8c9)=>{_0x2105ca['updateUserAnswer'](_0x5f1594,_0x3bc8c9);},'onError':_0x33d6bf=>displayError(_0x33d6bf),'onSilence':_0x32dc24=>_0x2105ca['handleSilence'](_0x32dc24),'onRecordingStart':()=>_0x47b324?.[_0x1fc798(0x1b3)][_0x1fc798(0x1ff)](_0x1fc798(0x1c1)),'onRecordingStop':()=>_0x47b324?.[_0x1fc798(0x1b3)][_0x1fc798(0x1dd)](_0x1fc798(0x1c1)),'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}initializeLanguageSession()[_0x277736(0x1bb)](()=>{const _0x215fa6=_0x277736;console[_0x215fa6(0x1e9)](_0xcdaa49[_0x215fa6(0x205)]);})['catch'](_0x1a0951=>{const _0x150ffb=_0x277736;console[_0x150ffb(0x218)](_0x18a1f3['VLvOQ'],_0x1a0951),_0x18a1f3[_0x150ffb(0x1c6)](displayError,_0x18a1f3[_0x150ffb(0x1cb)]);}),_0x2105ca[_0x277736(0x208)](),_0x39c527?.[_0x277736(0x1bc)](_0x18a1f3[_0x277736(0x1f8)],()=>{const _0x172481=_0x277736,_0x1191bd=_0x69b19f[_0x172481(0x219)][_0x172481(0x1ce)]();if(!_0x1191bd){_0x18a1f3[_0x172481(0x1c6)](displayError,_0x18a1f3[_0x172481(0x1d1)]);return;}const _0x30c6c3=_0x2105ca[_0x172481(0x1d4)](_0x1191bd);if(!_0x30c6c3||_0x18a1f3[_0x172481(0x1ca)](_0x30c6c3['length'],0x0)){_0x18a1f3[_0x172481(0x1c6)](displayError,_0x18a1f3[_0x172481(0x1c2)]);return;}_0x2105ca[_0x172481(0x1ef)](_0x30c6c3);}),_0x2105ca['on'](_0x18a1f3[_0x277736(0x1b5)],_0x5e7a5f=>console[_0x277736(0x1e9)](_0x277736(0x1d6)+_0x5e7a5f['length']+_0x277736(0x200))),_0x2105ca['on'](_0x18a1f3['KBzOZ'],_0x4a8b21=>console[_0x277736(0x1e9)](_0x277736(0x1e1)+(_0x4a8b21[_0x277736(0x21a)]+0x1)+':\x20'+_0x4a8b21['question'][_0x277736(0x1de)])),_0x2105ca['on'](_0x18a1f3[_0x277736(0x20e)],_0x331424=>console[_0x277736(0x1e9)](_0x277736(0x1b8),_0x331424)),_0x2105ca['on'](_0x18a1f3[_0x277736(0x220)],()=>console['log'](_0x277736(0x213))),_0x18a1f3[_0x277736(0x214)](_0x5b8cc8);});function _0x3de630(){const _0x20cdd9=_0x2cb018;if(!_0x1c14f1)return;const _0x4a45f2=document['createElement'](_0x18a1f3[_0x20cdd9(0x1d0)]);_0x4a45f2[_0x20cdd9(0x21c)]=_0x18a1f3[_0x20cdd9(0x1ed)],_0x4a45f2['id']=_0x18a1f3[_0x20cdd9(0x1cd)],_0x4a45f2[_0x20cdd9(0x1df)]='<div\x20class=\x22typing-indicator\x22><span></span><span></span><span></span></div>',_0x1c14f1[_0x20cdd9(0x1d7)](_0x4a45f2),_0x1c14f1[_0x20cdd9(0x1d5)]=_0x1c14f1[_0x20cdd9(0x1be)];}function _0x28f0a5(){const _0x455beb=_0x2cb018;document[_0x455beb(0x1fa)](_0x18a1f3['QcWjs'])?.['remove']();}function _0x1e8724(_0x48026e){const _0x5bdf2b=_0x2cb018;return _0x48026e[_0x5bdf2b(0x222)](/\*\*(.*?)\*\*/g,'<strong>$1</strong>')[_0x5bdf2b(0x222)](/\*(.*?)\*/g,_0x18a1f3[_0x5bdf2b(0x1b1)])[_0x5bdf2b(0x222)](/\n/g,_0x5bdf2b(0x1b4))[_0x5bdf2b(0x222)](/```([\s\S]*?)```/g,_0x5bdf2b(0x1f6));}function _0x3776b4(){const _0x3884d6=_0x2cb018;if(_0xafb432)_0xafb432['style'][_0x3884d6(0x1db)]=_0x18a1f3[_0x3884d6(0x212)];if(_0xc04662)_0xc04662['style'][_0x3884d6(0x1db)]=_0x3884d6(0x223);if(_0x5c5ac6)_0x5c5ac6[_0x3884d6(0x1f9)]['display']=_0x3884d6(0x223);if(_0x5ac4db)_0x5ac4db[_0x3884d6(0x1fb)]();}function _0x267f3b(_0x146a83){const _0x2fbce7=_0x2cb018,_0x5da9a5={'ZJhRG':_0x18a1f3[_0x2fbce7(0x1d0)],'lOnxq':_0x18a1f3['ItbwJ']};if(!_0x1c14f1)return;const _0x2675c0=document[_0x2fbce7(0x1fa)](_0x18a1f3[_0x2fbce7(0x1cd)]);_0x1c14f1['innerHTML']='',_0x146a83['forEach'](_0x6dae03=>{const _0x48d65c=_0x2fbce7,_0x57891d=document[_0x48d65c(0x1e7)](_0x5da9a5[_0x48d65c(0x1c9)]);_0x57891d[_0x48d65c(0x21c)]=_0x48d65c(0x1d8)+(_0x6dae03['role']===_0x5da9a5[_0x48d65c(0x20b)]?_0x5da9a5[_0x48d65c(0x20b)]:_0x48d65c(0x1c0)),_0x57891d['innerHTML']=_0x1e8724(_0x6dae03[_0x48d65c(0x204)]),_0x1c14f1[_0x48d65c(0x1d7)](_0x57891d);});if(_0x2675c0)_0x1c14f1[_0x2fbce7(0x1d7)](_0x2675c0);_0x1c14f1[_0x2fbce7(0x1d5)]=_0x1c14f1[_0x2fbce7(0x1be)];}function _0x138ca1(){const _0x21d1d1=_0x2cb018;_0x2105ca['isPaused']=!_0x2105ca['isPaused'],_0x18a1f3['MTTfw'](_0x248604);if(!_0x2105ca['isPaused'])_0x18a1f3[_0x21d1d1(0x214)](_0x4aa46a);else _0x18a1f3[_0x21d1d1(0x1c6)](clearInterval,_0x3c7977),clearTimeout(_0x2105ca[_0x21d1d1(0x1f1)]);}function _0x248604(){const _0x40a997=_0x2cb018;_0x54626b['innerHTML']=_0x2105ca[_0x40a997(0x1cc)]?'<i\x20class=\x22fas\x20fa-play\x22></i>':_0x18a1f3[_0x40a997(0x1c7)];}function _0x262750(){const _0xd62610=_0x2cb018,_0x2c7ad7=_0x18a1f3[_0xd62610(0x1fe)][_0xd62610(0x211)]('|');let _0x7e000c=0x0;while(!![]){switch(_0x2c7ad7[_0x7e000c++]){case'0':_0x2105ca[_0xd62610(0x1cc)]=![];continue;case'1':_0x7e527a[_0xd62610(0x1f9)][_0xd62610(0x1db)]=_0x18a1f3[_0xd62610(0x202)];continue;case'2':_0x7e527a['querySelector'](_0xd62610(0x224))['textContent']='2';continue;case'3':_0x18a1f3[_0xd62610(0x221)](_0x4aa46a);continue;case'4':_0x18a1f3[_0xd62610(0x1f0)](_0x248604);continue;}break;}}function _0x4aa46a(){const _0x2a4c5b=_0x2cb018,_0x2251f2={'GAfEC':_0x18a1f3[_0x2a4c5b(0x1e8)],'cRJEi':function(_0x497391,_0x41edfd){const _0x1a3a1f=_0x2a4c5b;return _0x18a1f3[_0x1a3a1f(0x1c6)](_0x497391,_0x41edfd);}};let _0x440b2a=0x1;_0x18a1f3[_0x2a4c5b(0x1f5)](clearInterval,_0x3c7977),_0x18a1f3['ioteP'](clearTimeout,_0x2105ca[_0x2a4c5b(0x1f1)]),_0x3c7977=_0x18a1f3['Wctmt'](setInterval,()=>{const _0x10b00f=_0x2a4c5b;!_0x2105ca[_0x10b00f(0x1cc)]&&(_0x440b2a--,_0x440b2a>=0x0?_0x7e527a['querySelector'](_0x2251f2[_0x10b00f(0x1d2)])['textContent']=_0x440b2a:_0x2251f2[_0x10b00f(0x206)](clearInterval,_0x3c7977));},0x3e8),_0x2105ca[_0x2a4c5b(0x1f1)]=_0x18a1f3['zpSWu'](setTimeout,()=>{const _0x1bef5b=_0x2a4c5b;!_0x2105ca[_0x1bef5b(0x1cc)]&&(_0x7e527a[_0x1bef5b(0x1f9)][_0x1bef5b(0x1db)]=_0x1bef5b(0x1b9),_0x2105ca[_0x1bef5b(0x1e0)]());},0x3e8);}})());