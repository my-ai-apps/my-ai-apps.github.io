
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
(function(_0x3bf3aa,_0x374a98){const _0x3f8ee3=_0x1ceb,_0x34df28=_0x3bf3aa();while(!![]){try{const _0x175914=parseInt(_0x3f8ee3(0x1d8))/0x1+parseInt(_0x3f8ee3(0x1d5))/0x2+-parseInt(_0x3f8ee3(0x236))/0x3+-parseInt(_0x3f8ee3(0x230))/0x4*(-parseInt(_0x3f8ee3(0x206))/0x5)+parseInt(_0x3f8ee3(0x1fe))/0x6*(-parseInt(_0x3f8ee3(0x1de))/0x7)+-parseInt(_0x3f8ee3(0x1df))/0x8+parseInt(_0x3f8ee3(0x1f7))/0x9*(parseInt(_0x3f8ee3(0x1da))/0xa);if(_0x175914===_0x374a98)break;else _0x34df28['push'](_0x34df28['shift']());}catch(_0xf06d23){_0x34df28['push'](_0x34df28['shift']());}}}(_0x2a71,0x18a80));function _0x1ceb(_0x4443f5,_0x3dafb3){const _0x2a714e=_0x2a71();return _0x1ceb=function(_0x1ceb3b,_0x5006b7){_0x1ceb3b=_0x1ceb3b-0x1d3;let _0x232790=_0x2a714e[_0x1ceb3b];return _0x232790;},_0x1ceb(_0x4443f5,_0x3dafb3);}import{marked}from'https://cdn.jsdelivr.net/npm/marked@13.0.3/lib/marked.esm.js';import _0x165485 from'https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.es.mjs';function _0x2a71(){const _0x10b36f=['889nHHgfK','454064uDPOGR','playPauseButton','WDVGA','message\x20','KprmP','handleSilence','innerHTML','error','none','Quiz\x20completed:','question','Failed\x20to\x20initialize\x20AI:','<div\x20class=\x22typing-indicator\x22><span></span><span></span><span></span></div>','log','RFWLC','sHyxK','updateUserAnswer','startQuizButton','thKDA','MozUF','assistant','JkFun','<em>$1</em>','<i\x20class=\x22fas\x20fa-pause\x22></i>','135fyKxkq','byzDX','div','catch','appendChild','scrollHeight','autoAdvanceTimeout','5802UhGzbi','content','PPIhm','yrqjn','UZpsV','focus','getElementById','remove','180nNgcYh','Failed\x20to\x20initialize\x20AI.\x20Please\x20refresh\x20the\x20page.','UEDGq','then','ZaVbH','welcomeScreen','Qnjaq','wXmpF','QCTgt','Ntboa','<strong>$1</strong>','TudOW','addEventListener','trim','dEJmy','typingIndicator','Quiz\x20started\x20with\x20','sendButton','DOMContentLoaded','querySelector','quizStarted','loader','createElement','micButton','rXbic','quizInput','<br>','user','OxrpQ','settingsButton','click','XkYZv','replace','recording','GTfoN','nextQuestion','lWNJe','scrollTop','TpAuV','<pre><code>$1</code></pre>','Please\x20enter\x20quiz\x20questions\x20and\x20answers.','questionLoaded','13512GsIxyU','qZJqD','parseQuizQuestions','Invalid\x20quiz\x20format.','isPaused','style','116385finnwG','classList','yuzNi','display','messagesContainer','Egxmo','mYIGv','QumZV','startQuiz','forEach','length','returnedToChat','nOLBj','textContent','177524MYLAai','init','xJGUe','84969MSQVdz','\x20questions','16010yCoqPd','kNEHk','className','quizCompleted'];_0x2a71=function(){return _0x10b36f;};return _0x2a71();}import{BaseConversationManager}from'./BaseConversationManager.js';import{displayError,Logger}from'./common.js';import{aiLanguageSession,initializeLanguageSession}from'./aiCommon.js';import{SpeechProcessor}from'./speechProcessor.js';import{QuizManager}from'./quizManager.js';((async()=>{const _0x3c019d=_0x1ceb,_0x48e625={'xJGUe':_0x3c019d(0x1ea),'PPIhm':function(_0x4051bd,_0x462d27){return _0x4051bd(_0x462d27);},'lcAth':_0x3c019d(0x207),'Ntboa':_0x3c019d(0x224),'ivDuZ':function(_0x1c61ef){return _0x1c61ef();},'KprmP':_0x3c019d(0x21a),'AWOMf':_0x3c019d(0x22f),'mqEkq':_0x3c019d(0x1dd),'JkFun':_0x3c019d(0x241),'lWNJe':'div','mIfHG':'message\x20assistant\x20typing','yrqjn':_0x3c019d(0x215),'qZJqD':_0x3c019d(0x1eb),'kNEHk':_0x3c019d(0x210),'VtDpi':_0x3c019d(0x220),'dEJmy':_0x3c019d(0x1e7),'wXmpF':'flex','WDVGA':function(_0x53e4bc,_0x5812ab){return _0x53e4bc===_0x5812ab;},'ImAoJ':_0x3c019d(0x221),'rXbic':function(_0x1d3612){return _0x1d3612();},'TudOW':function(_0x2ecf5c){return _0x2ecf5c();},'UEDGq':function(_0xfbe97,_0x43bb44){return _0xfbe97(_0x43bb44);},'OxrpQ':function(_0x1ba687,_0x34ed31){return _0x1ba687(_0x34ed31);},'XkYZv':'<i\x20class=\x22fas\x20fa-play\x22></i>','sHyxK':_0x3c019d(0x1f6),'TpAuV':'.countdown','wyrNt':function(_0x3cafe0){return _0x3cafe0();},'RFWLC':function(_0x570697,_0x401d02){return _0x570697(_0x401d02);},'moKhf':function(_0xc15041,_0x114a32){return _0xc15041(_0x114a32);},'MozUF':function(_0x2054fa,_0x804978,_0x1064b2){return _0x2054fa(_0x804978,_0x1064b2);},'thKDA':_0x3c019d(0x20b),'byzDX':'chatContainer','OBnxW':'messageInput','KoNpL':_0x3c019d(0x217),'YHCNe':_0x3c019d(0x21d),'gainL':'errorMessage','mYIGv':'newChatButton','mqoBK':_0x3c019d(0x223),'lQNlx':'.input-container','Egxmo':_0x3c019d(0x21f),'QCTgt':_0x3c019d(0x1f0),'nOLBj':_0x3c019d(0x1e0),'TxlUt':'autoAdvancePrompt'};let _0x289c91,_0x18387b=null;const _0x58f9b9=document[_0x3c019d(0x204)](_0x48e625[_0x3c019d(0x1f1)]),_0x38e720=document['getElementById'](_0x48e625[_0x3c019d(0x1f8)]),_0x354968=document[_0x3c019d(0x204)](_0x3c019d(0x23a)),_0x9bdbfb=document[_0x3c019d(0x204)](_0x48e625['OBnxW']),_0x2c1b04=document['getElementById'](_0x48e625['KoNpL']),_0x1a84aa=document[_0x3c019d(0x204)](_0x48e625['YHCNe']),_0x588a15=document[_0x3c019d(0x204)](_0x48e625['gainL']),_0x3882c7=document['getElementById'](_0x3c019d(0x21b)),_0x17fe90=document[_0x3c019d(0x204)](_0x48e625[_0x3c019d(0x23c)]),_0x45ee5e=document['getElementById'](_0x48e625['mqoBK']),_0x4879da=document[_0x3c019d(0x219)](_0x48e625['lQNlx']),_0x2d6559=document[_0x3c019d(0x204)](_0x48e625[_0x3c019d(0x23b)]),_0x252666=document[_0x3c019d(0x204)](_0x48e625[_0x3c019d(0x20e)]),_0x5efd6a=document[_0x3c019d(0x204)](_0x48e625[_0x3c019d(0x1d3)]),_0x221ee2=document['getElementById'](_0x48e625['TxlUt']);document[_0x3c019d(0x212)](_0x3c019d(0x218),()=>{const _0x3b15e3=_0x3c019d,_0x474a50={'yuzNi':function(_0x1511a8,_0x3a82c5){return _0x1511a8(_0x3a82c5);},'ovEWC':_0x3b15e3(0x22e),'GTfoN':function(_0x1b3b34,_0x430dc7){return _0x1b3b34===_0x430dc7;}};_0x5efd6a?.[_0x3b15e3(0x212)](_0x48e625[_0x3b15e3(0x20f)],_0x390944);const _0x4f17f6=new BaseConversationManager();_0x289c91=new QuizManager({'showAutoAdvancePrompt':()=>_0x4c8100()});let _0x43c179;function _0x4f9130(){const _0x730d17=_0x3b15e3;_0x43c179=new SpeechProcessor({'onResult':(_0x4b2740,_0x2c2898)=>{const _0x126691=_0x1ceb;_0x289c91[_0x126691(0x1ef)](_0x4b2740,_0x2c2898);},'onError':_0x222d28=>displayError(_0x222d28),'onSilence':_0x1c9a48=>_0x289c91[_0x730d17(0x1e4)](_0x1c9a48),'onRecordingStart':()=>_0x1a84aa?.[_0x730d17(0x237)]['add'](_0x730d17(0x227)),'onRecordingStop':()=>_0x1a84aa?.[_0x730d17(0x237)][_0x730d17(0x205)]('recording'),'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}_0x48e625['ivDuZ'](initializeLanguageSession)[_0x3b15e3(0x209)](()=>{const _0x5b7f04=_0x3b15e3;console[_0x5b7f04(0x1ec)]('AI\x20Language\x20Session\x20initialized\x20successfully');})[_0x3b15e3(0x1fa)](_0x4b35cf=>{const _0x7281cd=_0x3b15e3;console[_0x7281cd(0x1e6)](_0x48e625[_0x7281cd(0x1d7)],_0x4b35cf),_0x48e625[_0x7281cd(0x200)](displayError,_0x48e625['lcAth']);}),_0x289c91[_0x3b15e3(0x1d6)](),_0x252666?.[_0x3b15e3(0x212)](_0x48e625[_0x3b15e3(0x20f)],()=>{const _0x8bfab7=_0x3b15e3,_0x1ded52=_0x2d6559['value'][_0x8bfab7(0x213)]();if(!_0x1ded52){_0x474a50[_0x8bfab7(0x238)](displayError,_0x474a50['ovEWC']);return;}const _0x51fca1=_0x289c91[_0x8bfab7(0x232)](_0x1ded52);if(!_0x51fca1||_0x474a50[_0x8bfab7(0x228)](_0x51fca1[_0x8bfab7(0x240)],0x0)){_0x474a50[_0x8bfab7(0x238)](displayError,_0x8bfab7(0x233));return;}_0x289c91[_0x8bfab7(0x23e)](_0x51fca1);}),_0x289c91['on'](_0x48e625[_0x3b15e3(0x1e3)],_0x40988d=>console[_0x3b15e3(0x1ec)](_0x3b15e3(0x216)+_0x40988d[_0x3b15e3(0x240)]+_0x3b15e3(0x1d9))),_0x289c91['on'](_0x48e625['AWOMf'],_0x2bfd7b=>console['log']('Loaded\x20question\x20'+(_0x2bfd7b['index']+0x1)+':\x20'+_0x2bfd7b[_0x3b15e3(0x1e9)][_0x3b15e3(0x1e9)])),_0x289c91['on'](_0x48e625['mqEkq'],_0x53f968=>console['log'](_0x3b15e3(0x1e8),_0x53f968)),_0x289c91['on'](_0x48e625[_0x3b15e3(0x1f4)],()=>console[_0x3b15e3(0x1ec)]('Returned\x20to\x20chat\x20interface')),_0x4f9130();});function _0x57fe84(){const _0x5774cb=_0x3c019d;if(!_0x354968)return;const _0x3d9e8f=document[_0x5774cb(0x21c)](_0x48e625[_0x5774cb(0x22a)]);_0x3d9e8f[_0x5774cb(0x1dc)]=_0x48e625['mIfHG'],_0x3d9e8f['id']=_0x48e625['yrqjn'],_0x3d9e8f['innerHTML']=_0x48e625[_0x5774cb(0x231)],_0x354968[_0x5774cb(0x1fb)](_0x3d9e8f),_0x354968[_0x5774cb(0x22b)]=_0x354968[_0x5774cb(0x1fc)];}function _0x2fe53a(){const _0x4ec9b4=_0x3c019d;document[_0x4ec9b4(0x204)](_0x48e625[_0x4ec9b4(0x201)])?.[_0x4ec9b4(0x205)]();}function _0x5e013c(_0x2c0097){const _0xd3f17e=_0x3c019d;return _0x2c0097[_0xd3f17e(0x226)](/\*\*(.*?)\*\*/g,_0x48e625[_0xd3f17e(0x1db)])['replace'](/\*(.*?)\*/g,_0xd3f17e(0x1f5))[_0xd3f17e(0x226)](/\n/g,_0x48e625['VtDpi'])[_0xd3f17e(0x226)](/```([\s\S]*?)```/g,_0xd3f17e(0x22d));}function _0x4f317d(){const _0x2c2cbe=_0x3c019d;if(_0x58f9b9)_0x58f9b9[_0x2c2cbe(0x235)][_0x2c2cbe(0x239)]=_0x48e625[_0x2c2cbe(0x214)];if(_0x38e720)_0x38e720['style'][_0x2c2cbe(0x239)]=_0x48e625[_0x2c2cbe(0x20d)];if(_0x4879da)_0x4879da[_0x2c2cbe(0x235)][_0x2c2cbe(0x239)]=_0x48e625[_0x2c2cbe(0x20d)];if(_0x9bdbfb)_0x9bdbfb[_0x2c2cbe(0x203)]();}function _0xaf5e2c(_0x11b4c6){const _0x545383=_0x3c019d,_0x3e0392={'ZaVbH':_0x545383(0x1f9),'gNcDm':function(_0x1897f1,_0x5eb37e){const _0x507c8f=_0x545383;return _0x48e625[_0x507c8f(0x1e1)](_0x1897f1,_0x5eb37e);},'UZpsV':_0x48e625['ImAoJ'],'QumZV':_0x545383(0x1f3),'Qnjaq':function(_0x1b4aab,_0xf6e478){const _0x251bac=_0x545383;return _0x48e625[_0x251bac(0x200)](_0x1b4aab,_0xf6e478);}};if(!_0x354968)return;const _0x117122=document[_0x545383(0x204)](_0x48e625[_0x545383(0x201)]);_0x354968[_0x545383(0x1e5)]='',_0x11b4c6[_0x545383(0x23f)](_0x42d6d8=>{const _0x5c7e9f=_0x545383,_0x170f91=document[_0x5c7e9f(0x21c)](_0x3e0392[_0x5c7e9f(0x20a)]);_0x170f91[_0x5c7e9f(0x1dc)]=_0x5c7e9f(0x1e2)+(_0x3e0392['gNcDm'](_0x42d6d8['role'],_0x3e0392[_0x5c7e9f(0x202)])?_0x5c7e9f(0x221):_0x3e0392[_0x5c7e9f(0x23d)]),_0x170f91[_0x5c7e9f(0x1e5)]=_0x3e0392[_0x5c7e9f(0x20c)](_0x5e013c,_0x42d6d8[_0x5c7e9f(0x1ff)]),_0x354968[_0x5c7e9f(0x1fb)](_0x170f91);});if(_0x117122)_0x354968[_0x545383(0x1fb)](_0x117122);_0x354968[_0x545383(0x22b)]=_0x354968[_0x545383(0x1fc)];}function _0x390944(){const _0xa3bd42=_0x3c019d;_0x289c91[_0xa3bd42(0x234)]=!_0x289c91['isPaused'],_0x48e625[_0xa3bd42(0x21e)](_0x4c3ae4);if(!_0x289c91[_0xa3bd42(0x234)])_0x48e625[_0xa3bd42(0x211)](_0x463d45);else _0x48e625[_0xa3bd42(0x208)](clearInterval,_0x18387b),_0x48e625[_0xa3bd42(0x222)](clearTimeout,_0x289c91[_0xa3bd42(0x1fd)]);}function _0x4c3ae4(){const _0x147429=_0x3c019d;_0x5efd6a[_0x147429(0x1e5)]=_0x289c91[_0x147429(0x234)]?_0x48e625[_0x147429(0x225)]:_0x48e625[_0x147429(0x1ee)];}function _0x4c8100(){const _0x35b936=_0x3c019d;_0x221ee2['querySelector'](_0x48e625[_0x35b936(0x22c)])[_0x35b936(0x1d4)]='2',_0x221ee2[_0x35b936(0x235)][_0x35b936(0x239)]=_0x48e625[_0x35b936(0x20d)],_0x289c91[_0x35b936(0x234)]=![],_0x48e625['wyrNt'](_0x4c3ae4),_0x48e625['rXbic'](_0x463d45);}function _0x463d45(){const _0x3cb170=_0x3c019d;let _0x1e94e1=0x1;_0x48e625[_0x3cb170(0x1ed)](clearInterval,_0x18387b),_0x48e625['moKhf'](clearTimeout,_0x289c91['autoAdvanceTimeout']),_0x18387b=_0x48e625[_0x3cb170(0x1f2)](setInterval,()=>{const _0x561926=_0x3cb170;!_0x289c91[_0x561926(0x234)]&&(_0x1e94e1--,_0x1e94e1>=0x0?_0x221ee2[_0x561926(0x219)]('.countdown')['textContent']=_0x1e94e1:_0x48e625[_0x561926(0x200)](clearInterval,_0x18387b));},0x3e8),_0x289c91[_0x3cb170(0x1fd)]=setTimeout(()=>{const _0x2f7ac7=_0x3cb170;!_0x289c91[_0x2f7ac7(0x234)]&&(_0x221ee2[_0x2f7ac7(0x235)]['display']=_0x48e625['dEJmy'],_0x289c91[_0x2f7ac7(0x229)]());},0x3e8);}})());