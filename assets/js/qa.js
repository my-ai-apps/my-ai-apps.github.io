
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
(function(_0x2fe816,_0xe98b71){const _0x4aa7c9=_0x595b,_0x119c02=_0x2fe816();while(!![]){try{const _0x5ebd47=-parseInt(_0x4aa7c9(0x130))/0x1*(-parseInt(_0x4aa7c9(0x186))/0x2)+parseInt(_0x4aa7c9(0x165))/0x3+parseInt(_0x4aa7c9(0x17c))/0x4*(parseInt(_0x4aa7c9(0x12f))/0x5)+parseInt(_0x4aa7c9(0x158))/0x6*(-parseInt(_0x4aa7c9(0x180))/0x7)+parseInt(_0x4aa7c9(0x194))/0x8*(-parseInt(_0x4aa7c9(0x156))/0x9)+parseInt(_0x4aa7c9(0x173))/0xa+parseInt(_0x4aa7c9(0x12c))/0xb*(-parseInt(_0x4aa7c9(0x19d))/0xc);if(_0x5ebd47===_0xe98b71)break;else _0x119c02['push'](_0x119c02['shift']());}catch(_0x264dda){_0x119c02['push'](_0x119c02['shift']());}}}(_0x1722,0xc96ba));function _0x1722(){const _0x5e0be0=['bYHAX','scrollTop','RVcnf','log','OdZMy','none','returnedToChat','question','2|0|4|3|1','28552VVOwFa','remove','UvHwA','VWmIn','unqYn','autoAdvancePrompt','quizInput','recording','nextQuestion','1324824mHIUaS','Failed\x20to\x20initialize\x20AI.\x20Please\x20refresh\x20the\x20page.','loader','assistant','textContent','value','Xwbel','55mdoIkc','div','index','65570eQbiDq','769fJfkbF','isPaused','click','appendChild','.countdown','user','ikfcR','questionLoaded','Quiz\x20completed:','HRBbF','getElementById','ctdSN','msllW','querySelector','buFFX','Loaded\x20question\x20','qosaP','startQuiz','Udczp','handleSilence','trim','message\x20','sendButton','messagesContainer','autoAdvanceTimeout','createElement','Invalid\x20quiz\x20format.','updateUserAnswer','RHtBC','dQMRz','Quiz\x20started\x20with\x20','split','qxGOp','kejNW','display','messageInput','playPauseButton','micButton','603bVixwv','AI\x20Language\x20Session\x20initialized\x20successfully','134304CQkgwq','className','focus','replace','OFHUl','addEventListener','Failed\x20to\x20initialize\x20AI:','scrollHeight','length','style','chatContainer','gjhHq','catch','137130anVgMm','startQuizButton','forEach','add','ZYFiK','Dpzzu','<strong>$1</strong>','SNNaF','<div\x20class=\x22typing-indicator\x22><span></span><span></span><span></span></div>','flex','aSLWc','IRrXG','RBvUV','GWEBb','9771120KrvbOH','<br>','HNAnZ','role','Qiboz','RjOrA','message\x20assistant\x20typing','classList','innerHTML','96kZUmyY','hgWwb','welcomeScreen','AiSVG','371vetIhi','QPdcd','content','ubIjE','quizCompleted','zxqqF','3810jqYydS','typingIndicator','Returned\x20to\x20chat\x20interface','lCEiX','settingsButton'];_0x1722=function(){return _0x5e0be0;};return _0x1722();}function _0x595b(_0x17bff7,_0xe77af3){const _0x17229e=_0x1722();return _0x595b=function(_0x595b69,_0x419adb){_0x595b69=_0x595b69-0x129;let _0xea843a=_0x17229e[_0x595b69];return _0xea843a;},_0x595b(_0x17bff7,_0xe77af3);}import{marked}from'https://cdn.jsdelivr.net/npm/marked@13.0.3/lib/marked.esm.js';import _0x37c41c from'https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.es.mjs';import{BaseConversationManager}from'./BaseConversationManager.js';import{displayError,Logger}from'./common.js';import{aiLanguageSession,initializeLanguageSession}from'./aiCommon.js';import{SpeechProcessor}from'./speechProcessor.js';import{QuizManager}from'./quizManager.js';((async()=>{const _0x1f972c=_0x595b,_0x5edc97={'ZYFiK':_0x1f972c(0x157),'Udczp':_0x1f972c(0x15e),'buFFX':function(_0xc41edb,_0x54bd1b){return _0xc41edb(_0x54bd1b);},'QSfOr':_0x1f972c(0x19e),'DvjFU':function(_0x398093,_0x17fcc6){return _0x398093(_0x17fcc6);},'ubIjE':function(_0x579123,_0x2877bc){return _0x579123===_0x2877bc;},'zxqqF':function(_0x4b2a34,_0x4a828c){return _0x4b2a34(_0x4a828c);},'RZpVj':_0x1f972c(0x14a),'bYHAX':_0x1f972c(0x132),'RHtBC':function(_0x448a0b){return _0x448a0b();},'qxGOp':'quizStarted','bdSxH':_0x1f972c(0x184),'SGuey':_0x1f972c(0x191),'kejNW':function(_0x5da3d7){return _0x5da3d7();},'GWEBb':_0x1f972c(0x12d),'OdZMy':'typingIndicator','Qiboz':_0x1f972c(0x16d),'oThMj':_0x1f972c(0x16b),'ikfcR':'<em>$1</em>','ctdSN':_0x1f972c(0x190),'Xwbel':'flex','SNNaF':'user','AiSVG':function(_0x1af2ff,_0x1f3343){return _0x1af2ff(_0x1f3343);},'Dpzzu':function(_0x1aa168,_0x2202aa){return _0x1aa168(_0x2202aa);},'VWmIn':'<i\x20class=\x22fas\x20fa-play\x22></i>','IRrXG':'<i\x20class=\x22fas\x20fa-pause\x22></i>','RjOrA':_0x1f972c(0x193),'RBvUV':_0x1f972c(0x134),'HRBbF':function(_0x43ced6,_0x48a396){return _0x43ced6(_0x48a396);},'qosaP':function(_0x11ec24,_0x232ff7,_0x1aa0ed){return _0x11ec24(_0x232ff7,_0x1aa0ed);},'OFHUl':_0x1f972c(0x17e),'hgWwb':_0x1f972c(0x162),'msllW':_0x1f972c(0x147),'lCEiX':_0x1f972c(0x153),'YsMFN':_0x1f972c(0x155),'RVcnf':'newChatButton','QPdcd':_0x1f972c(0x18a),'aSLWc':_0x1f972c(0x166),'UhKsW':_0x1f972c(0x154),'UvHwA':_0x1f972c(0x199),'dQMRz':'DOMContentLoaded'};let _0xebe62b,_0x4d713a=null;const _0x38852a=document[_0x1f972c(0x13a)](_0x5edc97[_0x1f972c(0x15c)]),_0x207895=document[_0x1f972c(0x13a)](_0x5edc97[_0x1f972c(0x17d)]),_0x216021=document[_0x1f972c(0x13a)](_0x5edc97[_0x1f972c(0x13c)]),_0x560ef7=document[_0x1f972c(0x13a)](_0x5edc97[_0x1f972c(0x189)]),_0x213213=document['getElementById'](_0x1f972c(0x146)),_0x3e450d=document[_0x1f972c(0x13a)](_0x5edc97['YsMFN']),_0x58f9f8=document['getElementById']('errorMessage'),_0x389b50=document[_0x1f972c(0x13a)](_0x1f972c(0x19f)),_0x2a7b7a=document[_0x1f972c(0x13a)](_0x5edc97[_0x1f972c(0x18d)]),_0x4ebd44=document['getElementById'](_0x5edc97[_0x1f972c(0x181)]),_0x40e7c2=document['querySelector']('.input-container'),_0x3f25b3=document[_0x1f972c(0x13a)](_0x1f972c(0x19a)),_0xfab942=document[_0x1f972c(0x13a)](_0x5edc97[_0x1f972c(0x16f)]),_0x4b3045=document[_0x1f972c(0x13a)](_0x5edc97['UhKsW']),_0x4e8b0f=document[_0x1f972c(0x13a)](_0x5edc97[_0x1f972c(0x196)]);document['addEventListener'](_0x5edc97[_0x1f972c(0x14d)],()=>{const _0x474564=_0x1f972c;_0x4b3045?.[_0x474564(0x15d)](_0x5edc97['bYHAX'],_0x30cd24);const _0x4372f7=new BaseConversationManager();_0xebe62b=new QuizManager({'showAutoAdvancePrompt':()=>_0x4f580e()});let _0x274efd;function _0x227074(){const _0x27f80c=_0x474564;_0x274efd=new SpeechProcessor({'onResult':(_0x5ab73f,_0x1de3a7)=>{const _0x54b0ea=_0x595b;_0xebe62b[_0x54b0ea(0x14b)](_0x5ab73f,_0x1de3a7);},'onError':_0x3d79c1=>displayError(_0x3d79c1),'onSilence':_0x2f4a46=>_0xebe62b[_0x27f80c(0x143)](_0x2f4a46),'onRecordingStart':()=>_0x3e450d?.['classList'][_0x27f80c(0x168)](_0x27f80c(0x19b)),'onRecordingStop':()=>_0x3e450d?.[_0x27f80c(0x17a)][_0x27f80c(0x195)](_0x27f80c(0x19b)),'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}_0x5edc97[_0x474564(0x14c)](initializeLanguageSession)['then'](()=>{const _0x47827c=_0x474564;console[_0x47827c(0x18e)](_0x5edc97[_0x47827c(0x169)]);})[_0x474564(0x164)](_0x187ad9=>{const _0x310882=_0x474564;console['error'](_0x5edc97[_0x310882(0x142)],_0x187ad9),_0x5edc97[_0x310882(0x13e)](displayError,_0x5edc97['QSfOr']);}),_0xebe62b['init'](),_0xfab942?.['addEventListener'](_0x5edc97[_0x474564(0x18b)],()=>{const _0x227682=_0x474564,_0x3dd030=_0x3f25b3[_0x227682(0x12a)][_0x227682(0x144)]();if(!_0x3dd030){_0x5edc97['DvjFU'](displayError,'Please\x20enter\x20quiz\x20questions\x20and\x20answers.');return;}const _0x5ce726=_0xebe62b['parseQuizQuestions'](_0x3dd030);if(!_0x5ce726||_0x5edc97[_0x227682(0x183)](_0x5ce726['length'],0x0)){_0x5edc97[_0x227682(0x185)](displayError,_0x5edc97['RZpVj']);return;}_0xebe62b[_0x227682(0x141)](_0x5ce726);}),_0xebe62b['on'](_0x5edc97[_0x474564(0x150)],_0x530797=>console[_0x474564(0x18e)](_0x474564(0x14e)+_0x530797[_0x474564(0x160)]+'\x20questions')),_0xebe62b['on'](_0x474564(0x137),_0x44eddc=>console[_0x474564(0x18e)](_0x474564(0x13f)+(_0x44eddc[_0x474564(0x12e)]+0x1)+':\x20'+_0x44eddc[_0x474564(0x192)][_0x474564(0x192)])),_0xebe62b['on'](_0x5edc97['bdSxH'],_0x5d56f8=>console[_0x474564(0x18e)](_0x474564(0x138),_0x5d56f8)),_0xebe62b['on'](_0x5edc97['SGuey'],()=>console[_0x474564(0x18e)](_0x474564(0x188))),_0x5edc97[_0x474564(0x151)](_0x227074);});function _0x54065d(){const _0x108db5=_0x1f972c;if(!_0x216021)return;const _0x5e4c53=document[_0x108db5(0x149)](_0x5edc97[_0x108db5(0x172)]);_0x5e4c53[_0x108db5(0x159)]=_0x108db5(0x179),_0x5e4c53['id']=_0x5edc97[_0x108db5(0x18f)],_0x5e4c53[_0x108db5(0x17b)]=_0x5edc97[_0x108db5(0x177)],_0x216021[_0x108db5(0x133)](_0x5e4c53),_0x216021[_0x108db5(0x18c)]=_0x216021['scrollHeight'];}function _0x14b0ad(){const _0x2e0903=_0x1f972c;document[_0x2e0903(0x13a)](_0x2e0903(0x187))?.[_0x2e0903(0x195)]();}function _0x12d066(_0x3ae69f){const _0x179a3e=_0x1f972c;return _0x3ae69f[_0x179a3e(0x15b)](/\*\*(.*?)\*\*/g,_0x5edc97['oThMj'])['replace'](/\*(.*?)\*/g,_0x5edc97[_0x179a3e(0x136)])['replace'](/\n/g,_0x179a3e(0x174))[_0x179a3e(0x15b)](/```([\s\S]*?)```/g,'<pre><code>$1</code></pre>');}function _0xd31803(){const _0x8c07d6=_0x1f972c;if(_0x38852a)_0x38852a[_0x8c07d6(0x161)][_0x8c07d6(0x152)]=_0x5edc97[_0x8c07d6(0x13b)];if(_0x207895)_0x207895[_0x8c07d6(0x161)][_0x8c07d6(0x152)]=_0x8c07d6(0x16e);if(_0x40e7c2)_0x40e7c2[_0x8c07d6(0x161)][_0x8c07d6(0x152)]=_0x5edc97['Xwbel'];if(_0x560ef7)_0x560ef7[_0x8c07d6(0x15a)]();}function _0x530473(_0x28f61a){const _0x57f9de=_0x1f972c;if(!_0x216021)return;const _0x25d217=document[_0x57f9de(0x13a)](_0x5edc97[_0x57f9de(0x18f)]);_0x216021[_0x57f9de(0x17b)]='',_0x28f61a[_0x57f9de(0x167)](_0x2447ed=>{const _0x4ffa19=_0x57f9de,_0x4e11ab=document[_0x4ffa19(0x149)](_0x5edc97[_0x4ffa19(0x172)]);_0x4e11ab['className']=_0x4ffa19(0x145)+(_0x2447ed[_0x4ffa19(0x176)]===_0x4ffa19(0x135)?_0x5edc97[_0x4ffa19(0x16c)]:_0x4ffa19(0x1a0)),_0x4e11ab[_0x4ffa19(0x17b)]=_0x5edc97[_0x4ffa19(0x17f)](_0x12d066,_0x2447ed[_0x4ffa19(0x182)]),_0x216021[_0x4ffa19(0x133)](_0x4e11ab);});if(_0x25d217)_0x216021[_0x57f9de(0x133)](_0x25d217);_0x216021[_0x57f9de(0x18c)]=_0x216021[_0x57f9de(0x15f)];}function _0x30cd24(){const _0x4df9d0=_0x1f972c;_0xebe62b[_0x4df9d0(0x131)]=!_0xebe62b[_0x4df9d0(0x131)],_0x10f343();if(!_0xebe62b[_0x4df9d0(0x131)])_0x5edc97[_0x4df9d0(0x14c)](_0x5290a6);else clearInterval(_0x4d713a),_0x5edc97[_0x4df9d0(0x16a)](clearTimeout,_0xebe62b[_0x4df9d0(0x148)]);}function _0x10f343(){const _0x277d82=_0x1f972c;_0x4b3045['innerHTML']=_0xebe62b[_0x277d82(0x131)]?_0x5edc97[_0x277d82(0x197)]:_0x5edc97[_0x277d82(0x170)];}function _0x4f580e(){const _0x4ada94=_0x1f972c,_0x388c2c=_0x5edc97[_0x4ada94(0x178)][_0x4ada94(0x14f)]('|');let _0xbbef25=0x0;while(!![]){switch(_0x388c2c[_0xbbef25++]){case'0':_0x4e8b0f[_0x4ada94(0x161)][_0x4ada94(0x152)]=_0x5edc97[_0x4ada94(0x12b)];continue;case'1':_0x5edc97[_0x4ada94(0x151)](_0x5290a6);continue;case'2':_0x4e8b0f[_0x4ada94(0x13d)](_0x5edc97[_0x4ada94(0x171)])[_0x4ada94(0x129)]='2';continue;case'3':_0x5edc97[_0x4ada94(0x151)](_0x10f343);continue;case'4':_0xebe62b[_0x4ada94(0x131)]=![];continue;}break;}}function _0x5290a6(){const _0x231ddc=_0x1f972c,_0x1f4767={'unqYn':function(_0x54edeb,_0x178675){return _0x54edeb>=_0x178675;},'gjhHq':_0x5edc97[_0x231ddc(0x171)],'HNAnZ':function(_0x5c99ca,_0x19e141){return _0x5c99ca(_0x19e141);}};let _0x53ebb3=0x1;_0x5edc97[_0x231ddc(0x139)](clearInterval,_0x4d713a),_0x5edc97[_0x231ddc(0x16a)](clearTimeout,_0xebe62b['autoAdvanceTimeout']),_0x4d713a=setInterval(()=>{const _0x124da2=_0x231ddc;!_0xebe62b[_0x124da2(0x131)]&&(_0x53ebb3--,_0x1f4767[_0x124da2(0x198)](_0x53ebb3,0x0)?_0x4e8b0f[_0x124da2(0x13d)](_0x1f4767[_0x124da2(0x163)])[_0x124da2(0x129)]=_0x53ebb3:_0x1f4767[_0x124da2(0x175)](clearInterval,_0x4d713a));},0x3e8),_0xebe62b[_0x231ddc(0x148)]=_0x5edc97[_0x231ddc(0x140)](setTimeout,()=>{const _0x460f12=_0x231ddc;!_0xebe62b[_0x460f12(0x131)]&&(_0x4e8b0f['style'][_0x460f12(0x152)]=_0x460f12(0x190),_0xebe62b[_0x460f12(0x19c)]());},0x3e8);}})());