
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
(function(_0x4a9726,_0x273a9a){const _0x3d5b5a=_0x319a,_0x5d4121=_0x4a9726();while(!![]){try{const _0x2f5625=parseInt(_0x3d5b5a(0x1bf))/0x1+parseInt(_0x3d5b5a(0x19f))/0x2+parseInt(_0x3d5b5a(0x19d))/0x3*(parseInt(_0x3d5b5a(0x18e))/0x4)+-parseInt(_0x3d5b5a(0x157))/0x5+parseInt(_0x3d5b5a(0x16c))/0x6*(parseInt(_0x3d5b5a(0x179))/0x7)+-parseInt(_0x3d5b5a(0x1cb))/0x8+parseInt(_0x3d5b5a(0x16f))/0x9;if(_0x2f5625===_0x273a9a)break;else _0x5d4121['push'](_0x5d4121['shift']());}catch(_0x5cf116){_0x5d4121['push'](_0x5d4121['shift']());}}}(_0x5476,0xb1bfb));import{marked}from'https://cdn.jsdelivr.net/npm/marked@13.0.3/lib/marked.esm.js';import _0x544131 from'https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.es.mjs';import{BaseConversationManager}from'./BaseConversationManager.js';import{displayError,Logger}from'./common.js';import{aiLanguageSession,initializeLanguageSession}from'./aiCommon.js';function _0x319a(_0x5ce5b1,_0x46a7fe){const _0x547664=_0x5476();return _0x319a=function(_0x319a66,_0x5f2184){_0x319a66=_0x319a66-0x157;let _0x5d0357=_0x547664[_0x319a66];return _0x5d0357;},_0x319a(_0x5ce5b1,_0x46a7fe);}import{SpeechProcessor}from'./speechProcessor.js';import{QuizManager}from'./quizManager.js';((async()=>{const _0x371f60=_0x319a,_0x1e9440={'wroOZ':'AI\x20Language\x20Session\x20initialized\x20successfully','AtsYb':_0x371f60(0x16e),'KsKrq':_0x371f60(0x1ce),'pABKO':function(_0xaa94f0,_0x13adb9){return _0xaa94f0===_0x13adb9;},'sqfZn':function(_0x146165,_0x55c082){return _0x146165(_0x55c082);},'EaPMy':_0x371f60(0x1ac),'wALHk':_0x371f60(0x1c6),'PIxJT':_0x371f60(0x164),'TLgIy':'questionLoaded','abWyU':_0x371f60(0x1bc),'jMlfr':function(_0x1e6511){return _0x1e6511();},'lEEZN':_0x371f60(0x1a4),'ipjyh':_0x371f60(0x193),'dLVuA':_0x371f60(0x19a),'pWzul':'<strong>$1</strong>','NXhUE':_0x371f60(0x1be),'LlVZB':_0x371f60(0x166),'UuZas':'<pre><code>$1</code></pre>','FaYbL':'none','ZaHoI':_0x371f60(0x1c5),'SepgU':_0x371f60(0x1b2),'GccYE':function(_0x36a4e8,_0x4cd5cf){return _0x36a4e8(_0x4cd5cf);},'BuMqd':function(_0x703823){return _0x703823();},'rGsYu':_0x371f60(0x188),'TFQnS':_0x371f60(0x17e),'oGRBD':_0x371f60(0x1b4),'krAop':function(_0x11e109,_0x366ff9){return _0x11e109>=_0x366ff9;},'inRaH':function(_0x43a4eb,_0x3835f2,_0x271dc0){return _0x43a4eb(_0x3835f2,_0x271dc0);},'Gugue':'welcomeScreen','eVrYc':_0x371f60(0x161),'qWlPY':_0x371f60(0x187),'uOlxM':_0x371f60(0x1c3),'QiBPk':_0x371f60(0x19c),'nSHWE':_0x371f60(0x1b3),'UExtG':_0x371f60(0x18d),'tvuKk':_0x371f60(0x1ab),'AtVKj':_0x371f60(0x173),'hlcTJ':_0x371f60(0x184),'IBPpx':'.input-container','MAKcx':_0x371f60(0x1cc),'JrlIZ':'startQuizButton','uiWkp':'playPauseButton','AGhVp':_0x371f60(0x15c)};let _0x5b230b,_0x141998=null;const _0x1616c=document[_0x371f60(0x1bd)](_0x1e9440[_0x371f60(0x1b9)]),_0x386880=document[_0x371f60(0x1bd)](_0x1e9440['eVrYc']),_0x119492=document[_0x371f60(0x1bd)](_0x1e9440[_0x371f60(0x1b1)]),_0x37a8a3=document['getElementById'](_0x1e9440[_0x371f60(0x174)]),_0x4e5e9d=document[_0x371f60(0x1bd)](_0x1e9440[_0x371f60(0x1ae)]),_0x5c1ce7=document[_0x371f60(0x1bd)](_0x1e9440[_0x371f60(0x15d)]),_0x2cf2d1=document[_0x371f60(0x1bd)](_0x1e9440['UExtG']),_0x244717=document['getElementById'](_0x1e9440[_0x371f60(0x1a8)]),_0x43ee47=document[_0x371f60(0x1bd)](_0x1e9440['AtVKj']),_0x5f0936=document[_0x371f60(0x1bd)](_0x1e9440['hlcTJ']),_0x46d42f=document[_0x371f60(0x1c1)](_0x1e9440['IBPpx']),_0xee6b38=document[_0x371f60(0x1bd)](_0x1e9440[_0x371f60(0x159)]),_0x453080=document['getElementById'](_0x1e9440[_0x371f60(0x17c)]),_0x50abed=document[_0x371f60(0x1bd)](_0x1e9440[_0x371f60(0x19b)]),_0x291345=document[_0x371f60(0x1bd)](_0x1e9440[_0x371f60(0x1ad)]);document[_0x371f60(0x170)](_0x371f60(0x1c8),()=>{const _0x243659=_0x371f60,_0x1319ba={'DQESl':_0x1e9440['AtsYb'],'jKzSm':function(_0x4a69d6,_0x528c1f){return _0x4a69d6(_0x528c1f);},'CnBnM':_0x1e9440[_0x243659(0x167)],'faOrv':function(_0x14089a,_0x527304){const _0x457835=_0x243659;return _0x1e9440[_0x457835(0x19e)](_0x14089a,_0x527304);},'GxZPx':function(_0x3dad22,_0x4f9fe3){const _0x427fbc=_0x243659;return _0x1e9440[_0x427fbc(0x162)](_0x3dad22,_0x4f9fe3);},'gUiUp':_0x1e9440['EaPMy']};_0x50abed?.['addEventListener'](_0x1e9440[_0x243659(0x18f)],_0x4f1d06);const _0x9d149a=new BaseConversationManager();_0x5b230b=new QuizManager({'showAutoAdvancePrompt':()=>_0x4f7945()});let _0x449b1a;function _0x4a7d14(){const _0x5183b1=_0x243659;_0x449b1a=new SpeechProcessor({'onResult':(_0xe5e7de,_0x372c1a)=>{const _0x47afff=_0x319a;_0x5b230b[_0x47afff(0x197)](_0xe5e7de,_0x372c1a);},'onError':_0x2b5a33=>displayError(_0x2b5a33),'onSilence':_0x30567e=>_0x5b230b['handleSilence'](_0x30567e),'onRecordingStart':()=>_0x5c1ce7?.[_0x5183b1(0x1c2)][_0x5183b1(0x163)](_0x5183b1(0x1a5)),'onRecordingStop':()=>_0x5c1ce7?.[_0x5183b1(0x1c2)]['remove'](_0x5183b1(0x1a5)),'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}initializeLanguageSession()[_0x243659(0x1b0)](()=>{const _0x4baed8=_0x243659;console[_0x4baed8(0x1b5)](_0x1e9440[_0x4baed8(0x171)]);})[_0x243659(0x18a)](_0x56724b=>{const _0x13318c=_0x243659;console[_0x13318c(0x176)](_0x1319ba[_0x13318c(0x169)],_0x56724b),_0x1319ba[_0x13318c(0x1af)](displayError,_0x1319ba[_0x13318c(0x190)]);}),_0x5b230b[_0x243659(0x1bb)](),_0x453080?.[_0x243659(0x170)](_0x243659(0x1c6),()=>{const _0x34a943=_0x243659,_0x2ede7d=_0xee6b38['value']['trim']();if(!_0x2ede7d){displayError(_0x34a943(0x189));return;}const _0x1743c0=_0x5b230b[_0x34a943(0x1ba)](_0x2ede7d);if(!_0x1743c0||_0x1319ba[_0x34a943(0x1c9)](_0x1743c0['length'],0x0)){_0x1319ba[_0x34a943(0x175)](displayError,_0x1319ba[_0x34a943(0x191)]);return;}_0x5b230b[_0x34a943(0x18b)](_0x1743c0);}),_0x5b230b['on'](_0x1e9440[_0x243659(0x1c0)],_0x36286a=>console['log'](_0x243659(0x17a)+_0x36286a[_0x243659(0x1a2)]+_0x243659(0x15e))),_0x5b230b['on'](_0x1e9440['TLgIy'],_0x13d684=>console[_0x243659(0x1b5)]('Loaded\x20question\x20'+(_0x13d684[_0x243659(0x180)]+0x1)+':\x20'+_0x13d684['question']['question'])),_0x5b230b['on'](_0x243659(0x182),_0x385b7b=>console['log'](_0x243659(0x1a0),_0x385b7b)),_0x5b230b['on'](_0x1e9440[_0x243659(0x183)],()=>console['log'](_0x243659(0x177))),_0x1e9440[_0x243659(0x196)](_0x4a7d14);});function _0x4a6d18(){const _0xc742e6=_0x371f60;if(!_0x119492)return;const _0x54eebb=document[_0xc742e6(0x172)]('div');_0x54eebb[_0xc742e6(0x16b)]=_0x1e9440[_0xc742e6(0x17f)],_0x54eebb['id']=_0x1e9440[_0xc742e6(0x15f)],_0x54eebb[_0xc742e6(0x1cd)]=_0x1e9440['dLVuA'],_0x119492[_0xc742e6(0x168)](_0x54eebb),_0x119492[_0xc742e6(0x1c4)]=_0x119492[_0xc742e6(0x194)];}function _0x21449d(){const _0x3133f1=_0x371f60;document['getElementById']('typingIndicator')?.[_0x3133f1(0x18c)]();}function _0x5c41c7(_0x4e0042){const _0x3ef93c=_0x371f60;return _0x4e0042[_0x3ef93c(0x1b8)](/\*\*(.*?)\*\*/g,_0x1e9440[_0x3ef93c(0x199)])[_0x3ef93c(0x1b8)](/\*(.*?)\*/g,_0x1e9440['NXhUE'])[_0x3ef93c(0x1b8)](/\n/g,_0x1e9440[_0x3ef93c(0x1c7)])[_0x3ef93c(0x1b8)](/```([\s\S]*?)```/g,_0x1e9440[_0x3ef93c(0x15a)]);}function _0x5e8bd6(){const _0x2289b5=_0x371f60;if(_0x1616c)_0x1616c['style'][_0x2289b5(0x1b6)]=_0x1e9440[_0x2289b5(0x195)];if(_0x386880)_0x386880[_0x2289b5(0x15b)][_0x2289b5(0x1b6)]=_0x1e9440[_0x2289b5(0x185)];if(_0x46d42f)_0x46d42f[_0x2289b5(0x15b)][_0x2289b5(0x1b6)]='flex';if(_0x37a8a3)_0x37a8a3[_0x2289b5(0x1a6)]();}function _0x48d36f(_0x4ca8c3){const _0x2a99fe=_0x371f60;if(!_0x119492)return;const _0x1eb621=document[_0x2a99fe(0x1bd)](_0x1e9440['ipjyh']);_0x119492[_0x2a99fe(0x1cd)]='',_0x4ca8c3[_0x2a99fe(0x181)](_0x3ad52f=>{const _0x4a35c0=_0x2a99fe,_0x550073=document[_0x4a35c0(0x172)](_0x4a35c0(0x186));_0x550073[_0x4a35c0(0x16b)]='message\x20'+(_0x3ad52f[_0x4a35c0(0x158)]===_0x1e9440[_0x4a35c0(0x1a9)]?_0x1e9440['SepgU']:_0x4a35c0(0x1b7)),_0x550073['innerHTML']=_0x1e9440['GccYE'](_0x5c41c7,_0x3ad52f[_0x4a35c0(0x1aa)]),_0x119492[_0x4a35c0(0x168)](_0x550073);});if(_0x1eb621)_0x119492[_0x2a99fe(0x168)](_0x1eb621);_0x119492[_0x2a99fe(0x1c4)]=_0x119492[_0x2a99fe(0x194)];}function _0x4f1d06(){const _0xe88a92=_0x371f60;_0x5b230b[_0xe88a92(0x1a3)]=!_0x5b230b[_0xe88a92(0x1a3)],_0x1e9440[_0xe88a92(0x165)](_0x304f5b);if(!_0x5b230b['isPaused'])_0x2ba75a();else _0x1e9440[_0xe88a92(0x178)](clearInterval,_0x141998),clearTimeout(_0x5b230b[_0xe88a92(0x192)]);}function _0x304f5b(){const _0xbc9331=_0x371f60;_0x50abed[_0xbc9331(0x1cd)]=_0x5b230b[_0xbc9331(0x1a3)]?_0x1e9440[_0xbc9331(0x160)]:_0x1e9440[_0xbc9331(0x198)];}function _0x4f7945(){const _0x4303e8=_0x371f60,_0x21f452=_0x1e9440[_0x4303e8(0x16d)][_0x4303e8(0x1a7)]('|');let _0x40a238=0x0;while(!![]){switch(_0x21f452[_0x40a238++]){case'0':_0x291345['style']['display']=_0x1e9440['ZaHoI'];continue;case'1':_0x291345[_0x4303e8(0x1c1)](_0x4303e8(0x1ca))[_0x4303e8(0x17d)]='2';continue;case'2':_0x1e9440[_0x4303e8(0x165)](_0x2ba75a);continue;case'3':_0x304f5b();continue;case'4':_0x5b230b[_0x4303e8(0x1a3)]=![];continue;}break;}}function _0x2ba75a(){const _0x1a91ea=_0x371f60,_0x1cd156={'Dwhcx':function(_0x2551b0,_0x470a28){const _0x2e531a=_0x319a;return _0x1e9440[_0x2e531a(0x17b)](_0x2551b0,_0x470a28);}};let _0x11fdda=0x1;clearInterval(_0x141998),_0x1e9440[_0x1a91ea(0x178)](clearTimeout,_0x5b230b[_0x1a91ea(0x192)]),_0x141998=_0x1e9440[_0x1a91ea(0x16a)](setInterval,()=>{const _0x228bac=_0x1a91ea;!_0x5b230b[_0x228bac(0x1a3)]&&(_0x11fdda--,_0x1cd156['Dwhcx'](_0x11fdda,0x0)?_0x291345['querySelector'](_0x228bac(0x1ca))[_0x228bac(0x17d)]=_0x11fdda:clearInterval(_0x141998));},0x3e8),_0x5b230b[_0x1a91ea(0x192)]=setTimeout(()=>{const _0x1b37ff=_0x1a91ea;!_0x5b230b[_0x1b37ff(0x1a3)]&&(_0x291345[_0x1b37ff(0x15b)][_0x1b37ff(0x1b6)]=_0x1e9440[_0x1b37ff(0x195)],_0x5b230b[_0x1b37ff(0x1a1)]());},0x3e8);}})());function _0x5476(){const _0xbf3ce2=['1393038DNRcZx','PIxJT','querySelector','classList','messageInput','scrollTop','flex','click','LlVZB','DOMContentLoaded','faOrv','.countdown','5163320ShMYvW','quizInput','innerHTML','Failed\x20to\x20initialize\x20AI.\x20Please\x20refresh\x20the\x20page.','6952810JSiUSk','role','MAKcx','UuZas','style','autoAdvancePrompt','nSHWE','\x20questions','ipjyh','rGsYu','chatContainer','sqfZn','add','quizStarted','BuMqd','<br>','KsKrq','appendChild','DQESl','inRaH','className','24ZQaCoB','oGRBD','Failed\x20to\x20initialize\x20AI:','4364253hpKQHH','addEventListener','wroOZ','createElement','newChatButton','uOlxM','GxZPx','error','Returned\x20to\x20chat\x20interface','GccYE','874902QbdbrT','Quiz\x20started\x20with\x20','krAop','JrlIZ','textContent','<i\x20class=\x22fas\x20fa-pause\x22></i>','lEEZN','index','forEach','quizCompleted','abWyU','settingsButton','ZaHoI','div','messagesContainer','<i\x20class=\x22fas\x20fa-play\x22></i>','Please\x20enter\x20quiz\x20questions\x20and\x20answers.','catch','startQuiz','remove','errorMessage','1108BjFPdw','wALHk','CnBnM','gUiUp','autoAdvanceTimeout','typingIndicator','scrollHeight','FaYbL','jMlfr','updateUserAnswer','TFQnS','pWzul','<div\x20class=\x22typing-indicator\x22><span></span><span></span><span></span></div>','uiWkp','sendButton','723vYYoMm','pABKO','638760GRceIE','Quiz\x20completed:','nextQuestion','length','isPaused','message\x20assistant\x20typing','recording','focus','split','tvuKk','SepgU','content','loader','Invalid\x20quiz\x20format.','AGhVp','QiBPk','jKzSm','then','qWlPY','user','micButton','1|0|4|3|2','log','display','assistant','replace','Gugue','parseQuizQuestions','init','returnedToChat','getElementById','<em>$1</em>'];_0x5476=function(){return _0xbf3ce2;};return _0x5476();}