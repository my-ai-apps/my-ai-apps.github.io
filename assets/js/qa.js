
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
(function(_0x512ceb,_0x3bdf48){const _0x24a201=_0x1ddc,_0x543dfc=_0x512ceb();while(!![]){try{const _0x18a806=-parseInt(_0x24a201(0xe6))/0x1+parseInt(_0x24a201(0xdd))/0x2+parseInt(_0x24a201(0x13b))/0x3+-parseInt(_0x24a201(0x13f))/0x4+-parseInt(_0x24a201(0xf5))/0x5*(-parseInt(_0x24a201(0xde))/0x6)+-parseInt(_0x24a201(0xf3))/0x7*(parseInt(_0x24a201(0xd9))/0x8)+parseInt(_0x24a201(0x10e))/0x9*(parseInt(_0x24a201(0x125))/0xa);if(_0x18a806===_0x3bdf48)break;else _0x543dfc['push'](_0x543dfc['shift']());}catch(_0x3d3133){_0x543dfc['push'](_0x543dfc['shift']());}}}(_0x171b,0xe1e28));import{marked}from'https://cdn.jsdelivr.net/npm/marked@13.0.3/lib/marked.esm.js';import _0x18789d from'https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.es.mjs';import{BaseConversationManager}from'./BaseConversationManager.js';import{displayError,Logger}from'./common.js';import{aiAdapter}from'./aiAdapter.js';import{SpeechProcessor}from'./speechProcessor.js';import{QuizManager}from'./quizManager.js';function _0x171b(){const _0x89c317=['length','3|2|1|0|4','PwdOy','welcomeScreen','zmsag','iKhzt','yXROG','1634244jBlyXC','typingIndicator','fyEke','sdxdp','getElementById','style','log','classList','zoydN','messagesContainer','<em>$1</em>','aSBUp','trim','175259jhWAka','oGneF','4255hIgSWc','catch','Quiz\x20completed:','AI\x20BrowserLanguage\x20Session\x20initialized\x20successfully','xixSa','yoYxg','isPaused','innerHTML','index','nQtAr','question','createElement','<div\x20class=\x22typing-indicator\x22><span></span><span></span><span></span></div>','scrollTop','mIXYj','scrollHeight','PFArt','assistant','.input-container','pqVni','className','XIuDr','updateUserAnswer','Failed\x20to\x20initialize\x20AI.\x20Please\x20refresh\x20the\x20page.','messageInput','5693427lkZklM','autoAdvanceTimeout','ZEmxh','EWfhV','parseQuizQuestions','Loaded\x20question\x20','PxVVN','zLwvv','pEtFp','wGYoN','dRAVx','startQuizButton','<br>','vQjpL','SXkGU','bWHsD','message\x20','tAXQt','<strong>$1</strong>','zohZd','addEventListener','chatContainer','remove','10YCmSrF','quizInput','Invalid\x20quiz\x20format.','lAHYw','user','questionLoaded','message\x20assistant\x20typing','Failed\x20to\x20initialize\x20AI:','errorMessage','aJHrF','kcwNm','focus','fgAzd','PpnNb','.countdown','returnedToChat','lAEan','DOMContentLoaded','nextQuestion','quizStarted','loader','role','4437681pBDVQo','MZqFo','FWuCv','add','601860gMByJo','Quiz\x20started\x20with\x20','recording','<i\x20class=\x22fas\x20fa-pause\x22></i>','querySelector','click','<i\x20class=\x22fas\x20fa-play\x22></i>','display','xwORb','newChatButton','flex','gPLfT','value','\x20questions','appendChild','settingsButton','264JTWkcp','replace','none','<pre><code>$1</code></pre>','2242736TSXIDx','2136XaGZrZ'];_0x171b=function(){return _0x89c317;};return _0x171b();}function _0x1ddc(_0x41ec14,_0x4effd4){const _0x171bc8=_0x171b();return _0x1ddc=function(_0x1ddc94,_0x2933f8){_0x1ddc94=_0x1ddc94-0xcd;let _0x16fdc8=_0x171bc8[_0x1ddc94];return _0x16fdc8;},_0x1ddc(_0x41ec14,_0x4effd4);}((async()=>{const _0x2b1378=_0x1ddc,_0x5ef6c8={'pqVni':'Please\x20enter\x20quiz\x20questions\x20and\x20answers.','aJHrF':function(_0x4fd34c,_0x256c78){return _0x4fd34c===_0x256c78;},'sDMOo':function(_0x45631d,_0x1c63d3){return _0x45631d(_0x1c63d3);},'fyEke':_0x2b1378(0x12c),'vQjpL':function(_0x500347,_0x258ede){return _0x500347(_0x258ede);},'dRAVx':_0x2b1378(0xce),'bWHsD':_0x2b1378(0x138),'ZEmxh':_0x2b1378(0x12a),'kcwNm':_0x2b1378(0x134),'vchgh':function(_0x46c51c){return _0x46c51c();},'pEtFp':'div','PwdOy':_0x2b1378(0x12b),'xixSa':_0x2b1378(0xe7),'PpnNb':_0x2b1378(0x101),'lAEan':_0x2b1378(0x120),'XIuDr':_0x2b1378(0xf0),'wGYoN':_0x2b1378(0x11a),'sdxdp':_0x2b1378(0xdb),'XJGai':'flex','nQtAr':function(_0x24e57b,_0x1f3284){return _0x24e57b===_0x1f3284;},'fgAzd':_0x2b1378(0x129),'zohZd':_0x2b1378(0x106),'zLwvv':function(_0x1f36e8){return _0x1f36e8();},'EWfhV':function(_0x3593f2){return _0x3593f2();},'MZqFo':function(_0x10512e,_0x5f41f7){return _0x10512e(_0x5f41f7);},'OjCjc':function(_0xf59f7f,_0x5a89d3){return _0xf59f7f(_0x5a89d3);},'yXROG':_0x2b1378(0xcf),'lAHYw':_0x2b1378(0x142),'fXBLY':_0x2b1378(0xe0),'NwUuf':'.countdown','FWuCv':function(_0x27d2c4,_0x199235){return _0x27d2c4(_0x199235);},'Btgsb':function(_0x5d3ecf,_0x451b29,_0x52ae26){return _0x5d3ecf(_0x451b29,_0x52ae26);},'HMCMF':function(_0x6a0add,_0x11d2ee,_0x492cfe){return _0x6a0add(_0x11d2ee,_0x492cfe);},'BYngA':_0x2b1378(0xe2),'XSlOv':_0x2b1378(0x123),'dvyeu':_0x2b1378(0xef),'sukeD':_0x2b1378(0x10d),'mIXYj':'sendButton','PxVVN':'micButton','xwORb':_0x2b1378(0x12d),'vpKBC':_0x2b1378(0x139),'gPLfT':_0x2b1378(0x107),'NctOk':_0x2b1378(0x119),'zmsag':'playPauseButton','oGneF':'autoAdvancePrompt','SXkGU':_0x2b1378(0x136)};let _0xd60dec,_0x3bc4b8=null;const _0x4edeed=document[_0x2b1378(0xea)](_0x5ef6c8['BYngA']),_0x5d6222=document[_0x2b1378(0xea)](_0x5ef6c8['XSlOv']),_0x1316a6=document[_0x2b1378(0xea)](_0x5ef6c8['dvyeu']),_0x3dfea2=document[_0x2b1378(0xea)](_0x5ef6c8['sukeD']),_0x503634=document[_0x2b1378(0xea)](_0x5ef6c8[_0x2b1378(0x103)]),_0x2197be=document[_0x2b1378(0xea)](_0x5ef6c8[_0x2b1378(0x114)]),_0x1db207=document['getElementById'](_0x5ef6c8[_0x2b1378(0xd1)]),_0x250ac6=document['getElementById'](_0x5ef6c8['vpKBC']),_0x2e1cd2=document[_0x2b1378(0xea)](_0x2b1378(0xd2)),_0x14adf8=document[_0x2b1378(0xea)](_0x2b1378(0xd8)),_0x4af801=document[_0x2b1378(0xcd)](_0x5ef6c8[_0x2b1378(0xd4)]),_0x5a1cd0=document[_0x2b1378(0xea)](_0x2b1378(0x126)),_0x4d5356=document['getElementById'](_0x5ef6c8['NctOk']),_0x75e295=document['getElementById'](_0x5ef6c8[_0x2b1378(0xe3)]),_0x50c9f6=document['getElementById'](_0x5ef6c8[_0x2b1378(0xf4)]);document[_0x2b1378(0x122)](_0x5ef6c8[_0x2b1378(0x11c)],()=>{const _0x4e0882=_0x2b1378,_0x11b7d3={'EfgKA':_0x5ef6c8[_0x4e0882(0xe8)],'bmbsQ':function(_0x57f6ff,_0x5a32ab){const _0x2ee7cf=_0x4e0882;return _0x5ef6c8[_0x2ee7cf(0x11b)](_0x57f6ff,_0x5a32ab);},'yoYxg':_0x4e0882(0x10c)};_0x75e295?.[_0x4e0882(0x122)](_0x4e0882(0xce),_0x22358f);const _0x527a8a=new BaseConversationManager();_0xd60dec=new QuizManager({'showAutoAdvancePrompt':()=>_0x4dbfe0()});let _0x33061b;function _0x1995f9(){const _0x33a1fc=_0x4e0882;_0x33061b=new SpeechProcessor({'onResult':(_0x53c9e9,_0x314692)=>{const _0x4f500a=_0x1ddc;_0xd60dec[_0x4f500a(0x10b)](_0x53c9e9,_0x314692);},'onError':_0x286f91=>displayError(_0x286f91),'onSilence':_0x38059c=>_0xd60dec['handleSilence'](_0x38059c),'onRecordingStart':()=>_0x2197be?.[_0x33a1fc(0xed)][_0x33a1fc(0x13e)](_0x33a1fc(0x141)),'onRecordingStop':()=>_0x2197be?.[_0x33a1fc(0xed)]['remove'](_0x33a1fc(0x141)),'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}aiAdapter['init']()['then'](()=>{const _0x5d6b6c=_0x4e0882;console[_0x5d6b6c(0xec)](_0x5d6b6c(0xf8));})[_0x4e0882(0xf6)](_0x160913=>{const _0x1ce07b=_0x4e0882;console['error'](_0x11b7d3['EfgKA'],_0x160913),_0x11b7d3['bmbsQ'](displayError,_0x11b7d3[_0x1ce07b(0xfa)]);}),_0xd60dec['init'](),_0x4d5356?.['addEventListener'](_0x5ef6c8[_0x4e0882(0x118)],()=>{const _0x420ef9=_0x4e0882,_0x523f6f=_0x5a1cd0[_0x420ef9(0xd5)][_0x420ef9(0xf2)]();if(!_0x523f6f){displayError(_0x5ef6c8[_0x420ef9(0x108)]);return;}const _0x34a5e6=_0xd60dec[_0x420ef9(0x112)](_0x523f6f);if(!_0x34a5e6||_0x5ef6c8[_0x420ef9(0x12e)](_0x34a5e6[_0x420ef9(0xdf)],0x0)){_0x5ef6c8['sDMOo'](displayError,_0x420ef9(0x127));return;}_0xd60dec['startQuiz'](_0x34a5e6);}),_0xd60dec['on'](_0x5ef6c8[_0x4e0882(0x11d)],_0x256377=>console[_0x4e0882(0xec)](_0x4e0882(0x140)+_0x256377[_0x4e0882(0xdf)]+_0x4e0882(0xd6))),_0xd60dec['on'](_0x5ef6c8[_0x4e0882(0x110)],_0x53e4f5=>console['log'](_0x4e0882(0x113)+(_0x53e4f5[_0x4e0882(0xfd)]+0x1)+':\x20'+_0x53e4f5['question'][_0x4e0882(0xff)])),_0xd60dec['on']('quizCompleted',_0x484e5d=>console['log'](_0x4e0882(0xf7),_0x484e5d)),_0xd60dec['on'](_0x5ef6c8[_0x4e0882(0x12f)],()=>console['log']('Returned\x20to\x20chat\x20interface')),_0x5ef6c8['vchgh'](_0x1995f9);});function _0x13c01(){const _0x1c0fa8=_0x2b1378;if(!_0x1316a6)return;const _0x3ced95=document[_0x1c0fa8(0x100)](_0x5ef6c8['pEtFp']);_0x3ced95[_0x1c0fa8(0x109)]=_0x5ef6c8[_0x1c0fa8(0xe1)],_0x3ced95['id']=_0x5ef6c8[_0x1c0fa8(0xf9)],_0x3ced95[_0x1c0fa8(0xfc)]=_0x5ef6c8[_0x1c0fa8(0x132)],_0x1316a6[_0x1c0fa8(0xd7)](_0x3ced95),_0x1316a6[_0x1c0fa8(0x102)]=_0x1316a6[_0x1c0fa8(0x104)];}function _0x4b32e8(){const _0x51a6b2=_0x2b1378;document['getElementById'](_0x5ef6c8['xixSa'])?.[_0x51a6b2(0x124)]();}function _0x338045(_0x3bc93c){const _0x3c0139=_0x2b1378;return _0x3bc93c[_0x3c0139(0xda)](/\*\*(.*?)\*\*/g,_0x5ef6c8[_0x3c0139(0x135)])['replace'](/\*(.*?)\*/g,_0x5ef6c8[_0x3c0139(0x10a)])[_0x3c0139(0xda)](/\n/g,_0x5ef6c8[_0x3c0139(0x117)])['replace'](/```([\s\S]*?)```/g,_0x3c0139(0xdc));}function _0xd7ec1f(){const _0x5ee772=_0x2b1378;if(_0x4edeed)_0x4edeed[_0x5ee772(0xeb)]['display']=_0x5ef6c8[_0x5ee772(0xe9)];if(_0x5d6222)_0x5d6222[_0x5ee772(0xeb)][_0x5ee772(0xd0)]=_0x5ee772(0xd3);if(_0x4af801)_0x4af801[_0x5ee772(0xeb)][_0x5ee772(0xd0)]=_0x5ef6c8['XJGai'];if(_0x3dfea2)_0x3dfea2[_0x5ee772(0x130)]();}function _0x25a491(_0xd60afa){const _0x6782f8=_0x2b1378,_0x1ea1a2={'iKhzt':_0x5ef6c8[_0x6782f8(0x116)],'PFArt':function(_0x325290,_0x2fceef){const _0x2d13db=_0x6782f8;return _0x5ef6c8[_0x2d13db(0xfe)](_0x325290,_0x2fceef);},'aSBUp':_0x5ef6c8[_0x6782f8(0x131)],'zoydN':_0x5ef6c8[_0x6782f8(0x121)]};if(!_0x1316a6)return;const _0x59029e=document['getElementById'](_0x6782f8(0xe7));_0x1316a6['innerHTML']='',_0xd60afa['forEach'](_0x461b35=>{const _0x27647e=_0x6782f8,_0x35db71=document[_0x27647e(0x100)](_0x1ea1a2[_0x27647e(0xe4)]);_0x35db71[_0x27647e(0x109)]=_0x27647e(0x11e)+(_0x1ea1a2[_0x27647e(0x105)](_0x461b35[_0x27647e(0x13a)],_0x1ea1a2[_0x27647e(0xf1)])?_0x1ea1a2[_0x27647e(0xf1)]:_0x1ea1a2[_0x27647e(0xee)]),_0x35db71[_0x27647e(0xfc)]=_0x338045(_0x461b35['content']),_0x1316a6['appendChild'](_0x35db71);});if(_0x59029e)_0x1316a6[_0x6782f8(0xd7)](_0x59029e);_0x1316a6[_0x6782f8(0x102)]=_0x1316a6['scrollHeight'];}function _0x22358f(){const _0x137e29=_0x2b1378;_0xd60dec[_0x137e29(0xfb)]=!_0xd60dec[_0x137e29(0xfb)],_0x5ef6c8[_0x137e29(0x115)](_0x3f4af2);if(!_0xd60dec[_0x137e29(0xfb)])_0x5ef6c8[_0x137e29(0x111)](_0x2bffb9);else _0x5ef6c8[_0x137e29(0x13c)](clearInterval,_0x3bc4b8),_0x5ef6c8['OjCjc'](clearTimeout,_0xd60dec[_0x137e29(0x10f)]);}function _0x3f4af2(){const _0x55929d=_0x2b1378;_0x75e295['innerHTML']=_0xd60dec[_0x55929d(0xfb)]?_0x5ef6c8[_0x55929d(0xe5)]:_0x5ef6c8[_0x55929d(0x128)];}function _0x4dbfe0(){const _0x4ae464=_0x2b1378,_0x36b27d=_0x5ef6c8['fXBLY']['split']('|');let _0x7b9df1=0x0;while(!![]){switch(_0x36b27d[_0x7b9df1++]){case'0':_0x3f4af2();continue;case'1':_0xd60dec[_0x4ae464(0xfb)]=![];continue;case'2':_0x50c9f6[_0x4ae464(0xeb)][_0x4ae464(0xd0)]=_0x4ae464(0xd3);continue;case'3':_0x50c9f6[_0x4ae464(0xcd)](_0x4ae464(0x133))['textContent']='2';continue;case'4':_0x5ef6c8[_0x4ae464(0x115)](_0x2bffb9);continue;}break;}}function _0x2bffb9(){const _0x42c975=_0x2b1378,_0x52fca2={'tAXQt':_0x5ef6c8[_0x42c975(0xe9)]};let _0x2f01e3=0x1;_0x5ef6c8[_0x42c975(0x13d)](clearInterval,_0x3bc4b8),_0x5ef6c8[_0x42c975(0x13d)](clearTimeout,_0xd60dec[_0x42c975(0x10f)]),_0x3bc4b8=_0x5ef6c8['Btgsb'](setInterval,()=>{const _0x4f5f68=_0x42c975;!_0xd60dec[_0x4f5f68(0xfb)]&&(_0x2f01e3--,_0x2f01e3>=0x0?_0x50c9f6[_0x4f5f68(0xcd)](_0x5ef6c8['NwUuf'])['textContent']=_0x2f01e3:clearInterval(_0x3bc4b8));},0x3e8),_0xd60dec[_0x42c975(0x10f)]=_0x5ef6c8['HMCMF'](setTimeout,()=>{const _0x54613f=_0x42c975;!_0xd60dec['isPaused']&&(_0x50c9f6[_0x54613f(0xeb)]['display']=_0x52fca2[_0x54613f(0x11f)],_0xd60dec[_0x54613f(0x137)]());},0x3e8);}})());