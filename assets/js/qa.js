
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
(function(_0x3de7c9,_0x5be0c7){const _0x2da14b=_0x2546,_0x3264d9=_0x3de7c9();while(!![]){try{const _0x34ef5b=parseInt(_0x2da14b(0xaf))/0x1+parseInt(_0x2da14b(0xcd))/0x2+parseInt(_0x2da14b(0x11f))/0x3+-parseInt(_0x2da14b(0x103))/0x4+parseInt(_0x2da14b(0x105))/0x5*(-parseInt(_0x2da14b(0xfc))/0x6)+-parseInt(_0x2da14b(0xfd))/0x7*(-parseInt(_0x2da14b(0x11c))/0x8)+-parseInt(_0x2da14b(0xf8))/0x9;if(_0x34ef5b===_0x5be0c7)break;else _0x3264d9['push'](_0x3264d9['shift']());}catch(_0x54b2e1){_0x3264d9['push'](_0x3264d9['shift']());}}}(_0x41c7,0x2932f));import{marked}from'https://cdn.jsdelivr.net/npm/marked@13.0.3/lib/marked.esm.js';import _0x39a633 from'https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.es.mjs';import{BaseConversationManager}from'./BaseConversationManager.js';import{displayError,Logger}from'./common.js';import{aiLanguageSession,initializeLanguageSession}from'./aiCommon.js';import{SpeechProcessor}from'./speechProcessor.js';import{QuizManager}from'./quizManager.js';function _0x2546(_0x803d68,_0x215742){const _0x41c708=_0x41c7();return _0x2546=function(_0x254676,_0x1fc3d5){_0x254676=_0x254676-0xae;let _0x1dfaa6=_0x41c708[_0x254676];return _0x1dfaa6;},_0x2546(_0x803d68,_0x215742);}((async()=>{const _0x54c7fe=_0x2546,_0x47bda6={'fIjos':_0x54c7fe(0xe7),'mMcWm':_0x54c7fe(0x10c),'iEStb':_0x54c7fe(0xe1),'QuRYk':_0x54c7fe(0xea),'jgzJx':'click','QeYoM':function(_0x25debd){return _0x25debd();},'uIrkP':_0x54c7fe(0x118),'zejXr':'returnedToChat','fSOWS':'div','lMGfL':_0x54c7fe(0xb3),'SSyLR':_0x54c7fe(0xe0),'tYwVu':_0x54c7fe(0xc6),'CUQTg':_0x54c7fe(0xe3),'EIbZx':'<br>','ADTaW':_0x54c7fe(0xd7),'SXDBa':_0x54c7fe(0xfb),'uUfYt':_0x54c7fe(0xcc),'zIoVG':function(_0xcfd893,_0x424eef){return _0xcfd893(_0x424eef);},'WrlCM':_0x54c7fe(0xdc),'uAyWg':_0x54c7fe(0xe2),'NyLJJ':_0x54c7fe(0xf6),'JfQiu':'.countdown','DfTEq':function(_0x39fbc1,_0xb27f04){return _0x39fbc1>=_0xb27f04;},'OCCiB':function(_0xababc8,_0x5731d6){return _0xababc8(_0x5731d6);},'UfcqF':function(_0x170c65,_0x1d3542){return _0x170c65(_0x1d3542);},'bBXCF':function(_0x5c7d95,_0x1375fe,_0x4dd827){return _0x5c7d95(_0x1375fe,_0x4dd827);},'wqMgk':_0x54c7fe(0xc5),'Zocvj':_0x54c7fe(0xd4),'QGbgA':_0x54c7fe(0x117),'ZZoKY':_0x54c7fe(0xf4),'VmRub':'newChatButton','DphHd':_0x54c7fe(0xee),'hRuyB':'.input-container','EBFRF':_0x54c7fe(0x11b),'lltkZ':_0x54c7fe(0xb2),'eGAIj':'autoAdvancePrompt','MDHpy':'DOMContentLoaded'};let _0x3e5908,_0x3d1c5c=null;const _0x55a1db=document[_0x54c7fe(0x124)](_0x54c7fe(0x122)),_0x37d6e6=document[_0x54c7fe(0x124)](_0x54c7fe(0x10a)),_0x4c5e52=document[_0x54c7fe(0x124)](_0x47bda6[_0x54c7fe(0xca)]),_0x3167ac=document[_0x54c7fe(0x124)](_0x47bda6[_0x54c7fe(0x115)]),_0x488000=document[_0x54c7fe(0x124)](_0x47bda6[_0x54c7fe(0x112)]),_0x56b46a=document['getElementById'](_0x54c7fe(0xe8)),_0x1537ad=document['getElementById'](_0x54c7fe(0x126)),_0x2811e6=document[_0x54c7fe(0x124)](_0x47bda6[_0x54c7fe(0xd8)]),_0x4765ad=document[_0x54c7fe(0x124)](_0x47bda6[_0x54c7fe(0xd5)]),_0x2fc582=document[_0x54c7fe(0x124)](_0x47bda6[_0x54c7fe(0xe6)]),_0x4ccf3b=document[_0x54c7fe(0xd1)](_0x47bda6['hRuyB']),_0x1068da=document[_0x54c7fe(0x124)]('quizInput'),_0x192f27=document['getElementById'](_0x47bda6[_0x54c7fe(0xb1)]),_0x629832=document[_0x54c7fe(0x124)](_0x47bda6['lltkZ']),_0x26c7de=document[_0x54c7fe(0x124)](_0x47bda6[_0x54c7fe(0xce)]);document[_0x54c7fe(0x109)](_0x47bda6['MDHpy'],()=>{const _0x4137c5=_0x54c7fe,_0x3b2a27={'oUAOb':_0x47bda6[_0x4137c5(0xbe)],'oWFzn':_0x47bda6[_0x4137c5(0x121)],'RJOlb':function(_0x14d133,_0x3aacd1){return _0x14d133(_0x3aacd1);},'UYiLh':_0x47bda6[_0x4137c5(0x10f)],'UkITm':function(_0x188775,_0x19537d){return _0x188775===_0x19537d;},'xjCnX':_0x47bda6[_0x4137c5(0x10b)]};_0x629832?.[_0x4137c5(0x109)](_0x47bda6[_0x4137c5(0xd9)],_0x1b81e3);const _0xe807d2=new BaseConversationManager();_0x3e5908=new QuizManager({'showAutoAdvancePrompt':()=>_0x1f40a6()});let _0x443359;function _0x4c10d6(){const _0x18d2b4=_0x4137c5;_0x443359=new SpeechProcessor({'onResult':(_0x1f29ba,_0x3579aa)=>{_0x3e5908['updateUserAnswer'](_0x1f29ba,_0x3579aa);},'onError':_0x33d2b9=>displayError(_0x33d2b9),'onSilence':_0x12e46c=>_0x3e5908[_0x18d2b4(0x108)](_0x12e46c),'onRecordingStart':()=>_0x56b46a?.[_0x18d2b4(0xb9)][_0x18d2b4(0xda)](_0x18d2b4(0xe9)),'onRecordingStop':()=>_0x56b46a?.[_0x18d2b4(0xb9)][_0x18d2b4(0x101)](_0x18d2b4(0xe9)),'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}_0x47bda6[_0x4137c5(0x110)](initializeLanguageSession)[_0x4137c5(0xed)](()=>{const _0x477ecc=_0x4137c5;console['log'](_0x3b2a27[_0x477ecc(0xf1)]);})[_0x4137c5(0xff)](_0x1eca85=>{const _0x5af821=_0x4137c5;console[_0x5af821(0x11a)](_0x3b2a27['oWFzn'],_0x1eca85),_0x3b2a27[_0x5af821(0xcb)](displayError,_0x5af821(0xbb));}),_0x3e5908[_0x4137c5(0xdf)](),_0x192f27?.[_0x4137c5(0x109)](_0x4137c5(0xc4),()=>{const _0x2811a8=_0x4137c5,_0x1303ef=_0x1068da[_0x2811a8(0xbc)][_0x2811a8(0xc3)]();if(!_0x1303ef){_0x3b2a27['RJOlb'](displayError,_0x3b2a27[_0x2811a8(0xec)]);return;}const _0x2555b8=_0x3e5908[_0x2811a8(0xd6)](_0x1303ef);if(!_0x2555b8||_0x3b2a27[_0x2811a8(0xfe)](_0x2555b8[_0x2811a8(0xbf)],0x0)){displayError(_0x3b2a27['xjCnX']);return;}_0x3e5908[_0x2811a8(0xf7)](_0x2555b8);}),_0x3e5908['on'](_0x4137c5(0xde),_0x5a61f2=>console['log']('Quiz\x20started\x20with\x20'+_0x5a61f2[_0x4137c5(0xbf)]+_0x4137c5(0x102))),_0x3e5908['on'](_0x47bda6['uIrkP'],_0x2ed096=>console[_0x4137c5(0xd0)]('Loaded\x20question\x20'+(_0x2ed096[_0x4137c5(0xb8)]+0x1)+':\x20'+_0x2ed096[_0x4137c5(0xb4)][_0x4137c5(0xb4)])),_0x3e5908['on'](_0x4137c5(0xd3),_0x3ade8e=>console['log'](_0x4137c5(0x125),_0x3ade8e)),_0x3e5908['on'](_0x47bda6['zejXr'],()=>console[_0x4137c5(0xd0)](_0x4137c5(0xc1))),_0x47bda6[_0x4137c5(0x110)](_0x4c10d6);});function _0x391087(){const _0xce86ab=_0x54c7fe;if(!_0x4c5e52)return;const _0x3e1947=document['createElement'](_0x47bda6[_0xce86ab(0x11e)]);_0x3e1947[_0xce86ab(0xcf)]=_0x47bda6['lMGfL'],_0x3e1947['id']=_0x47bda6[_0xce86ab(0xe5)],_0x3e1947['innerHTML']=_0x47bda6[_0xce86ab(0xf0)],_0x4c5e52['appendChild'](_0x3e1947),_0x4c5e52['scrollTop']=_0x4c5e52[_0xce86ab(0xb0)];}function _0x72a945(){const _0x2ef379=_0x54c7fe;document[_0x2ef379(0x124)](_0x47bda6[_0x2ef379(0xe5)])?.['remove']();}function _0x6b6d6d(_0x532f0a){const _0x10c7cd=_0x54c7fe;return _0x532f0a[_0x10c7cd(0x100)](/\*\*(.*?)\*\*/g,_0x47bda6[_0x10c7cd(0xc0)])['replace'](/\*(.*?)\*/g,_0x10c7cd(0xc2))[_0x10c7cd(0x100)](/\n/g,_0x47bda6[_0x10c7cd(0xf2)])[_0x10c7cd(0x100)](/```([\s\S]*?)```/g,_0x47bda6[_0x10c7cd(0x123)]);}function _0x57ada7(){const _0x136d60=_0x54c7fe;if(_0x55a1db)_0x55a1db['style'][_0x136d60(0xb6)]=_0x47bda6['SXDBa'];if(_0x37d6e6)_0x37d6e6[_0x136d60(0xc9)]['display']=_0x47bda6[_0x136d60(0x119)];if(_0x4ccf3b)_0x4ccf3b[_0x136d60(0xc9)][_0x136d60(0xb6)]=_0x136d60(0xcc);if(_0x3167ac)_0x3167ac[_0x136d60(0xbd)]();}function _0x304696(_0x26542e){const _0x3d369c=_0x54c7fe,_0x15552f={'PpmRG':_0x47bda6[_0x3d369c(0x11e)],'eKLnc':function(_0x31a3f1,_0x128c5b){return _0x31a3f1===_0x128c5b;},'zbWfy':_0x3d369c(0xf5),'OoBpt':_0x3d369c(0xf9),'JMyHL':function(_0x5ad5cc,_0x14143c){return _0x5ad5cc(_0x14143c);}};if(!_0x4c5e52)return;const _0x2d942d=document['getElementById']('typingIndicator');_0x4c5e52[_0x3d369c(0xe4)]='',_0x26542e[_0x3d369c(0x114)](_0x461ef7=>{const _0x385620=_0x3d369c,_0x492dbc=document[_0x385620(0xeb)](_0x15552f[_0x385620(0xef)]);_0x492dbc[_0x385620(0xcf)]=_0x385620(0xb7)+(_0x15552f[_0x385620(0x11d)](_0x461ef7[_0x385620(0x116)],_0x15552f[_0x385620(0xba)])?_0x15552f[_0x385620(0xba)]:_0x15552f[_0x385620(0x111)]),_0x492dbc[_0x385620(0xe4)]=_0x15552f[_0x385620(0x106)](_0x6b6d6d,_0x461ef7[_0x385620(0x10d)]),_0x4c5e52['appendChild'](_0x492dbc);});if(_0x2d942d)_0x4c5e52['appendChild'](_0x2d942d);_0x4c5e52['scrollTop']=_0x4c5e52[_0x3d369c(0xb0)];}function _0x1b81e3(){const _0x521a96=_0x54c7fe;_0x3e5908[_0x521a96(0x113)]=!_0x3e5908[_0x521a96(0x113)],_0x5308c5();if(!_0x3e5908['isPaused'])_0x47bda6[_0x521a96(0x110)](_0x3a968b);else clearInterval(_0x3d1c5c),_0x47bda6[_0x521a96(0xf3)](clearTimeout,_0x3e5908[_0x521a96(0x10e)]);}function _0x5308c5(){const _0x47801c=_0x54c7fe;_0x629832[_0x47801c(0xe4)]=_0x3e5908[_0x47801c(0x113)]?_0x47bda6[_0x47801c(0xdd)]:_0x47bda6[_0x47801c(0xc7)];}function _0x1f40a6(){const _0x462bdd=_0x54c7fe,_0x183fd4=_0x47bda6[_0x462bdd(0xfa)]['split']('|');let _0x58bf73=0x0;while(!![]){switch(_0x183fd4[_0x58bf73++]){case'0':_0x26c7de[_0x462bdd(0xd1)](_0x47bda6[_0x462bdd(0xb5)])['textContent']='2';continue;case'1':_0x5308c5();continue;case'2':_0x3e5908[_0x462bdd(0x113)]=![];continue;case'3':_0x3a968b();continue;case'4':_0x26c7de[_0x462bdd(0xc9)][_0x462bdd(0xb6)]=_0x47bda6[_0x462bdd(0x119)];continue;}break;}}function _0x3a968b(){const _0x2aa0c8=_0x54c7fe,_0x8cb42={'IFfEX':function(_0x46525b,_0x435acc){return _0x47bda6['DfTEq'](_0x46525b,_0x435acc);},'tJwub':_0x47bda6[_0x2aa0c8(0xb5)],'xIJuo':function(_0x4a7ca2,_0x5e3f53){return _0x47bda6['OCCiB'](_0x4a7ca2,_0x5e3f53);}};let _0x140dd6=0x1;_0x47bda6[_0x2aa0c8(0xc8)](clearInterval,_0x3d1c5c),_0x47bda6[_0x2aa0c8(0x107)](clearTimeout,_0x3e5908['autoAdvanceTimeout']),_0x3d1c5c=_0x47bda6['bBXCF'](setInterval,()=>{const _0x196fbc=_0x2aa0c8;!_0x3e5908['isPaused']&&(_0x140dd6--,_0x8cb42[_0x196fbc(0x104)](_0x140dd6,0x0)?_0x26c7de['querySelector'](_0x8cb42[_0x196fbc(0xdb)])[_0x196fbc(0xd2)]=_0x140dd6:_0x8cb42[_0x196fbc(0x120)](clearInterval,_0x3d1c5c));},0x3e8),_0x3e5908[_0x2aa0c8(0x10e)]=setTimeout(()=>{const _0x136780=_0x2aa0c8;!_0x3e5908['isPaused']&&(_0x26c7de[_0x136780(0xc9)]['display']=_0x47bda6['SXDBa'],_0x3e5908[_0x136780(0xae)]());},0x3e8);}})());function _0x41c7(){const _0x4f82ec=['78BlsHik','7lxmkOd','UkITm','catch','replace','remove','\x20questions','644804rnKPHc','IFfEX','28915hhcbAg','JMyHL','OCCiB','handleSilence','addEventListener','chatContainer','QuRYk','Failed\x20to\x20initialize\x20AI:','content','autoAdvanceTimeout','iEStb','QeYoM','OoBpt','QGbgA','isPaused','forEach','Zocvj','role','sendButton','questionLoaded','uUfYt','error','startQuizButton','1352888ljTeVB','eKLnc','fSOWS','216696nYVKCg','xIJuo','mMcWm','welcomeScreen','ADTaW','getElementById','Quiz\x20completed:','errorMessage','nextQuestion','7797IbRrcL','scrollHeight','EBFRF','playPauseButton','message\x20assistant\x20typing','question','JfQiu','display','message\x20','index','classList','zbWfy','Failed\x20to\x20initialize\x20AI.\x20Please\x20refresh\x20the\x20page.','value','focus','fIjos','length','CUQTg','Returned\x20to\x20chat\x20interface','<em>$1</em>','trim','click','messagesContainer','<div\x20class=\x22typing-indicator\x22><span></span><span></span><span></span></div>','uAyWg','UfcqF','style','wqMgk','RJOlb','flex','610524XMngVC','eGAIj','className','log','querySelector','textContent','quizCompleted','messageInput','VmRub','parseQuizQuestions','<pre><code>$1</code></pre>','ZZoKY','jgzJx','add','tJwub','<i\x20class=\x22fas\x20fa-play\x22></i>','WrlCM','quizStarted','init','typingIndicator','Please\x20enter\x20quiz\x20questions\x20and\x20answers.','<i\x20class=\x22fas\x20fa-pause\x22></i>','<strong>$1</strong>','innerHTML','SSyLR','DphHd','AI\x20Language\x20Session\x20initialized\x20successfully','micButton','recording','Invalid\x20quiz\x20format.','createElement','UYiLh','then','settingsButton','PpmRG','tYwVu','oUAOb','EIbZx','zIoVG','loader','user','0|4|2|1|3','startQuiz','1343439hIWzNl','assistant','NyLJJ','none'];_0x41c7=function(){return _0x4f82ec;};return _0x41c7();}