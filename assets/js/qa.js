
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
(function(_0x5a44fe,_0x4bdfe3){const _0x4e9622=_0x1755,_0x576bb9=_0x5a44fe();while(!![]){try{const _0x4e0710=-parseInt(_0x4e9622(0xe1))/0x1+parseInt(_0x4e9622(0x104))/0x2+parseInt(_0x4e9622(0xbb))/0x3+parseInt(_0x4e9622(0xc2))/0x4*(-parseInt(_0x4e9622(0xfe))/0x5)+-parseInt(_0x4e9622(0xab))/0x6*(parseInt(_0x4e9622(0x109))/0x7)+-parseInt(_0x4e9622(0xde))/0x8*(parseInt(_0x4e9622(0xb7))/0x9)+parseInt(_0x4e9622(0xd3))/0xa*(parseInt(_0x4e9622(0x11c))/0xb);if(_0x4e0710===_0x4bdfe3)break;else _0x576bb9['push'](_0x576bb9['shift']());}catch(_0x118df3){_0x576bb9['push'](_0x576bb9['shift']());}}}(_0x1c9e,0x3bd32));import{marked}from'https://cdn.jsdelivr.net/npm/marked@13.0.3/lib/marked.esm.js';import _0x57aeeb from'https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.es.mjs';import{displayError,Logger}from'./common.js';import{aiAdapter}from'./aiAdapter.js';import{SpeechProcessor}from'./speechProcessor.js';import{QuizManager}from'./quizManager.js';function _0x1755(_0x3edeeb,_0x156843){const _0x1c9eda=_0x1c9e();return _0x1755=function(_0x17556d,_0x4720f6){_0x17556d=_0x17556d-0xa3;let _0x521ec4=_0x1c9eda[_0x17556d];return _0x521ec4;},_0x1755(_0x3edeeb,_0x156843);}((async()=>{const _0x583e27=_0x1755,_0x87c8c4={'JsNgZ':_0x583e27(0x11b),'Mvhhj':_0x583e27(0xce),'XNJpj':function(_0x45789f,_0x29521c){return _0x45789f===_0x29521c;},'Xersf':function(_0x15c5d5,_0x3298ea){return _0x15c5d5(_0x3298ea);},'tiWKn':'Failed\x20to\x20initialize\x20AI:','ZDqaX':_0x583e27(0xf4),'RsyEt':_0x583e27(0xc3),'tyEYH':_0x583e27(0xea),'okNZZ':_0x583e27(0xc0),'aQGzN':function(_0x1c5089){return _0x1c5089();},'VTPdD':'message\x20assistant\x20typing','JkyBG':'typingIndicator','VlfQj':_0x583e27(0xd1),'bWAOE':_0x583e27(0x105),'ZNdOb':_0x583e27(0x114),'pKrvk':'flex','Jjurv':'div','PMUwr':_0x583e27(0xc4),'qxdRq':function(_0xab880a,_0x68d91b){return _0xab880a(_0x68d91b);},'JRKjx':_0x583e27(0xf1),'YCmTn':_0x583e27(0xb2),'RMmaj':function(_0x1419d4){return _0x1419d4();},'oVyGa':function(_0x4469f9,_0x20a057){return _0x4469f9>=_0x20a057;},'BLiDo':_0x583e27(0xed),'yXoWL':function(_0x17a6e4,_0x88ac78){return _0x17a6e4(_0x88ac78);},'oItrm':function(_0x531dbe,_0x4e38c8,_0x117e3e){return _0x531dbe(_0x4e38c8,_0x117e3e);},'hWUWB':_0x583e27(0xaf),'AiDFu':_0x583e27(0xcc),'Gcuzx':'messagesContainer','jtJhI':_0x583e27(0xdf),'bTdWI':_0x583e27(0xf0),'JLpIt':_0x583e27(0xff),'BXGQE':_0x583e27(0x11e),'xGHvn':_0x583e27(0xb8),'HYSgx':'.input-container','ZtKmx':_0x583e27(0xf3),'CqiLa':'playPauseButton','GTAbK':_0x583e27(0xd8)};let _0x3e882d,_0x24d85f=null;const _0x426692=document['getElementById'](_0x87c8c4[_0x583e27(0xf6)]),_0x1f4bda=document[_0x583e27(0xfd)](_0x87c8c4[_0x583e27(0xe2)]),_0x1c5d7e=document['getElementById'](_0x87c8c4[_0x583e27(0xe0)]),_0x1f9417=document['getElementById'](_0x87c8c4['jtJhI']),_0x43e3ce=document[_0x583e27(0xfd)](_0x583e27(0xcd)),_0xb6a8eb=document['getElementById'](_0x87c8c4[_0x583e27(0xad)]),_0x417900=document[_0x583e27(0xfd)](_0x87c8c4[_0x583e27(0x102)]),_0x1055a8=document[_0x583e27(0xfd)](_0x87c8c4[_0x583e27(0xd2)]),_0x2e79dc=document['getElementById'](_0x87c8c4[_0x583e27(0xa3)]),_0x2b5748=document[_0x583e27(0xfd)]('settingsButton'),_0x591e22=document[_0x583e27(0xfa)](_0x87c8c4[_0x583e27(0xb9)]),_0x2e944b=document[_0x583e27(0xfd)](_0x87c8c4[_0x583e27(0x10f)]),_0x4389b0=document[_0x583e27(0xfd)](_0x583e27(0x10c)),_0x5b9bf4=document[_0x583e27(0xfd)](_0x87c8c4['CqiLa']),_0x2c4bde=document[_0x583e27(0xfd)](_0x583e27(0xd0));document[_0x583e27(0xa8)](_0x87c8c4[_0x583e27(0x10a)],()=>{const _0x48bd94=_0x583e27,_0x4c9db0={'DvXJs':_0x87c8c4[_0x48bd94(0x116)],'dKDRX':function(_0xe91440,_0xfc78c9){const _0x4a6223=_0x48bd94;return _0x87c8c4[_0x4a6223(0xf2)](_0xe91440,_0xfc78c9);},'KeQwz':_0x87c8c4[_0x48bd94(0xdd)]};_0x5b9bf4?.[_0x48bd94(0xa8)](_0x87c8c4[_0x48bd94(0xa7)],_0x47e98a);const _0x3f2997=new BaseConversationManager();_0x3e882d=new QuizManager({'showAutoAdvancePrompt':()=>_0x3539de()});let _0x3f1a8e;function _0x2b7abd(){const _0x5048bd=_0x48bd94;_0x3f1a8e=new SpeechProcessor({'onResult':(_0x11a151,_0x3b1d6e)=>{const _0x33a26a=_0x1755;_0x3e882d[_0x33a26a(0xc7)](_0x11a151,_0x3b1d6e);},'onError':_0x21501e=>displayError(_0x21501e),'onSilence':_0x5f5cb4=>_0x3e882d[_0x5048bd(0xb0)](_0x5f5cb4),'onRecordingStart':()=>_0xb6a8eb?.['classList'][_0x5048bd(0xb6)](_0x5048bd(0x101)),'onRecordingStop':()=>_0xb6a8eb?.[_0x5048bd(0x118)][_0x5048bd(0xb3)](_0x5048bd(0x101)),'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}aiAdapter[_0x48bd94(0x100)]()['then'](()=>{const _0x33e68e=_0x48bd94;console['log'](_0x87c8c4[_0x33e68e(0xc1)]);})[_0x48bd94(0xe4)](_0x554d0d=>{const _0x52660b=_0x48bd94;console[_0x52660b(0xdb)](_0x4c9db0[_0x52660b(0xa6)],_0x554d0d),_0x4c9db0[_0x52660b(0xd9)](displayError,_0x4c9db0[_0x52660b(0xca)]);}),_0x3e882d['init'](),_0x4389b0?.[_0x48bd94(0xa8)]('click',()=>{const _0x55826f=_0x48bd94,_0x5ec024=_0x2e944b[_0x55826f(0xcb)][_0x55826f(0x112)]();if(!_0x5ec024){displayError(_0x87c8c4[_0x55826f(0x103)]);return;}const _0xb47179=_0x3e882d[_0x55826f(0xd5)](_0x5ec024);if(!_0xb47179||_0x87c8c4[_0x55826f(0xc9)](_0xb47179[_0x55826f(0xa4)],0x0)){_0x87c8c4['Xersf'](displayError,_0x55826f(0x10d));return;}_0x3e882d['startQuiz'](_0xb47179);}),_0x3e882d['on'](_0x48bd94(0xfb),_0x462ed8=>console[_0x48bd94(0x11d)](_0x48bd94(0x117)+_0x462ed8['length']+_0x48bd94(0x111))),_0x3e882d['on'](_0x87c8c4[_0x48bd94(0xe7)],_0x282e7b=>console['log']('Loaded\x20question\x20'+(_0x282e7b[_0x48bd94(0xaa)]+0x1)+':\x20'+_0x282e7b[_0x48bd94(0xeb)][_0x48bd94(0xeb)])),_0x3e882d['on'](_0x48bd94(0xae),_0x51485c=>console['log']('Quiz\x20completed:',_0x51485c)),_0x3e882d['on'](_0x87c8c4[_0x48bd94(0xa5)],()=>console[_0x48bd94(0x11d)](_0x48bd94(0xda))),_0x87c8c4[_0x48bd94(0xf8)](_0x2b7abd);});function _0x477d35(){const _0x18ea40=_0x583e27;if(!_0x1c5d7e)return;const _0x55d805=document[_0x18ea40(0xbe)]('div');_0x55d805['className']=_0x87c8c4[_0x18ea40(0xec)],_0x55d805['id']=_0x87c8c4[_0x18ea40(0xb5)],_0x55d805[_0x18ea40(0xb4)]=_0x87c8c4['VlfQj'],_0x1c5d7e[_0x18ea40(0xa9)](_0x55d805),_0x1c5d7e[_0x18ea40(0xee)]=_0x1c5d7e['scrollHeight'];}function _0x407ae9(){const _0x3a4af5=_0x583e27;document[_0x3a4af5(0xfd)](_0x87c8c4['JkyBG'])?.[_0x3a4af5(0xb3)]();}function _0x10bee1(_0x4edc73){const _0xabac00=_0x583e27;return _0x4edc73['replace'](/\*\*(.*?)\*\*/g,_0xabac00(0xe9))[_0xabac00(0xd6)](/\*(.*?)\*/g,_0x87c8c4[_0xabac00(0xf5)])[_0xabac00(0xd6)](/\n/g,_0xabac00(0xe8))[_0xabac00(0xd6)](/```([\s\S]*?)```/g,_0x87c8c4['ZNdOb']);}function _0x30e58c(){const _0xc01c9c=_0x583e27;if(_0x426692)_0x426692[_0xc01c9c(0x11a)][_0xc01c9c(0xef)]=_0xc01c9c(0xed);if(_0x1f4bda)_0x1f4bda[_0xc01c9c(0x11a)][_0xc01c9c(0xef)]=_0x87c8c4[_0xc01c9c(0xe3)];if(_0x591e22)_0x591e22[_0xc01c9c(0x11a)][_0xc01c9c(0xef)]=_0x87c8c4[_0xc01c9c(0xe3)];if(_0x1f9417)_0x1f9417[_0xc01c9c(0xd4)]();}function _0x417b25(_0x597db3){const _0x1e622b=_0x583e27,_0x342551={'JIJfT':_0x87c8c4[_0x1e622b(0x108)],'IPmAc':_0x87c8c4[_0x1e622b(0xc5)],'RaGiX':_0x1e622b(0xbc),'zwyTe':function(_0x1e498e,_0xb9d0e3){const _0x13a915=_0x1e622b;return _0x87c8c4[_0x13a915(0xf2)](_0x1e498e,_0xb9d0e3);}};if(!_0x1c5d7e)return;const _0x15b448=document[_0x1e622b(0xfd)](_0x87c8c4[_0x1e622b(0xb5)]);_0x1c5d7e[_0x1e622b(0xb4)]='',_0x597db3[_0x1e622b(0xe6)](_0x29ddbf=>{const _0x44cb97=_0x1e622b,_0x58ac85=document[_0x44cb97(0xbe)](_0x342551[_0x44cb97(0xdc)]);_0x58ac85[_0x44cb97(0xbd)]=_0x44cb97(0xf7)+(_0x29ddbf[_0x44cb97(0x113)]===_0x342551[_0x44cb97(0xb1)]?_0x342551['IPmAc']:_0x342551[_0x44cb97(0xbf)]),_0x58ac85['innerHTML']=_0x342551[_0x44cb97(0xcf)](_0x10bee1,_0x29ddbf[_0x44cb97(0x10e)]),_0x1c5d7e[_0x44cb97(0xa9)](_0x58ac85);});if(_0x15b448)_0x1c5d7e['appendChild'](_0x15b448);_0x1c5d7e['scrollTop']=_0x1c5d7e[_0x1e622b(0x107)];}function _0x47e98a(){const _0x46f7d5=_0x583e27;_0x3e882d['isPaused']=!_0x3e882d['isPaused'],_0x87c8c4[_0x46f7d5(0xf8)](_0x198e69);if(!_0x3e882d[_0x46f7d5(0x10b)])_0x87c8c4[_0x46f7d5(0xf8)](_0x2b3c4c);else clearInterval(_0x24d85f),_0x87c8c4['qxdRq'](clearTimeout,_0x3e882d[_0x46f7d5(0xc8)]);}function _0x198e69(){const _0x3bb402=_0x583e27;_0x5b9bf4[_0x3bb402(0xb4)]=_0x3e882d[_0x3bb402(0x10b)]?_0x87c8c4[_0x3bb402(0x119)]:_0x3bb402(0xd7);}function _0x3539de(){const _0x438856=_0x583e27;_0x2c4bde[_0x438856(0xfa)](_0x87c8c4[_0x438856(0x115)])[_0x438856(0x110)]='2',_0x2c4bde[_0x438856(0x11a)]['display']=_0x87c8c4['pKrvk'],_0x3e882d['isPaused']=![],_0x87c8c4[_0x438856(0xe5)](_0x198e69),_0x2b3c4c();}function _0x2b3c4c(){const _0x583989=_0x583e27,_0x47da76={'UCVXJ':function(_0x3f7c4f,_0x4c1cb5){const _0x5a0ce5=_0x1755;return _0x87c8c4[_0x5a0ce5(0xf9)](_0x3f7c4f,_0x4c1cb5);},'dNIGT':_0x87c8c4['YCmTn'],'OXSbO':_0x87c8c4[_0x583989(0xfc)]};let _0xd6c320=0x1;clearInterval(_0x24d85f),_0x87c8c4[_0x583989(0xba)](clearTimeout,_0x3e882d[_0x583989(0xc8)]),_0x24d85f=_0x87c8c4['oItrm'](setInterval,()=>{const _0x23c2d2=_0x583989;!_0x3e882d['isPaused']&&(_0xd6c320--,_0x47da76['UCVXJ'](_0xd6c320,0x0)?_0x2c4bde[_0x23c2d2(0xfa)](_0x47da76[_0x23c2d2(0x106)])['textContent']=_0xd6c320:clearInterval(_0x24d85f));},0x3e8),_0x3e882d[_0x583989(0xc8)]=_0x87c8c4[_0x583989(0xac)](setTimeout,()=>{const _0x1671c6=_0x583989;!_0x3e882d[_0x1671c6(0x10b)]&&(_0x2c4bde[_0x1671c6(0x11a)][_0x1671c6(0xef)]=_0x47da76['OXSbO'],_0x3e882d[_0x1671c6(0xc6)]());},0x3e8);}})());function _0x1c9e(){const _0x10f01e=['dNIGT','scrollHeight','Jjurv','19033ZzXVrX','GTAbK','isPaused','startQuizButton','Invalid\x20quiz\x20format.','content','ZtKmx','textContent','\x20questions','trim','role','<pre><code>$1</code></pre>','YCmTn','tiWKn','Quiz\x20started\x20with\x20','classList','JRKjx','style','AI\x20BrowserLanguage\x20Session\x20initialized\x20successfully','5796417ILbmoY','log','loader','xGHvn','length','okNZZ','DvXJs','RsyEt','addEventListener','appendChild','index','1068OFPkNd','oItrm','bTdWI','quizCompleted','welcomeScreen','handleSilence','IPmAc','.countdown','remove','innerHTML','JkyBG','add','1395lXSUaX','newChatButton','HYSgx','yXoWL','1336905jUNKtV','assistant','className','createElement','RaGiX','returnedToChat','JsNgZ','4osxFnG','click','user','PMUwr','nextQuestion','updateUserAnswer','autoAdvanceTimeout','XNJpj','KeQwz','value','chatContainer','sendButton','Please\x20enter\x20quiz\x20questions\x20and\x20answers.','zwyTe','autoAdvancePrompt','<div\x20class=\x22typing-indicator\x22><span></span><span></span><span></span></div>','BXGQE','10jAfkDd','focus','parseQuizQuestions','replace','<i\x20class=\x22fas\x20fa-pause\x22></i>','DOMContentLoaded','dKDRX','Returned\x20to\x20chat\x20interface','error','JIJfT','ZDqaX','23432UiazNT','messageInput','Gcuzx','3946BQgeiJ','AiDFu','pKrvk','catch','RMmaj','forEach','tyEYH','<br>','<strong>$1</strong>','questionLoaded','question','VTPdD','none','scrollTop','display','micButton','<i\x20class=\x22fas\x20fa-play\x22></i>','Xersf','quizInput','Failed\x20to\x20initialize\x20AI.\x20Please\x20refresh\x20the\x20page.','bWAOE','hWUWB','message\x20','aQGzN','oVyGa','querySelector','quizStarted','BLiDo','getElementById','833555kVhqyJ','errorMessage','init','recording','JLpIt','Mvhhj','762188NZIMOX','<em>$1</em>'];_0x1c9e=function(){return _0x10f01e;};return _0x1c9e();}