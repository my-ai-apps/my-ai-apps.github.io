
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
(function(_0xcdb35e,_0x42f024){const _0x17175b=_0x9f31,_0x5545f9=_0xcdb35e();while(!![]){try{const _0x159bc7=parseInt(_0x17175b(0x12a))/0x1*(-parseInt(_0x17175b(0x119))/0x2)+parseInt(_0x17175b(0x15a))/0x3+parseInt(_0x17175b(0x150))/0x4+parseInt(_0x17175b(0x148))/0x5+-parseInt(_0x17175b(0x154))/0x6*(parseInt(_0x17175b(0x128))/0x7)+parseInt(_0x17175b(0x122))/0x8+-parseInt(_0x17175b(0x147))/0x9*(-parseInt(_0x17175b(0x134))/0xa);if(_0x159bc7===_0x42f024)break;else _0x5545f9['push'](_0x5545f9['shift']());}catch(_0x25b37a){_0x5545f9['push'](_0x5545f9['shift']());}}}(_0x4fc9,0xdb4a9));function _0x9f31(_0x58b114,_0x5cbef4){const _0x4fc984=_0x4fc9();return _0x9f31=function(_0x9f3188,_0x53c647){_0x9f3188=_0x9f3188-0xe5;let _0x1cbbe1=_0x4fc984[_0x9f3188];return _0x1cbbe1;},_0x9f31(_0x58b114,_0x5cbef4);}function _0x4fc9(){const _0x4d794e=['Quiz\x20started\x20with\x20','371gifcBU','<br>','3ijmhzs','assistant','welcomeScreen','message\x20','replace','<em>$1</em>','startQuiz','messageInput','playPauseButton','question','163910qOULHo','<i\x20class=\x22fas\x20fa-play\x22></i>','value','focus','textContent','Failed\x20to\x20initialize\x20AI.\x20Please\x20refresh\x20the\x20page.','DTPCo','WXXrd','forEach','gAVBK','scrollHeight','<i\x20class=\x22fas\x20fa-pause\x22></i>','LEFSU','quizInput','uzQaF','scrollTop','style','startQuizButton','OaoFr','99AFJqJl','7774350ZbKPgt','oWgwg','Knyrj','rmoyx','RsTvc','zjUSx','typingIndicator','quizCompleted','1677504stNeMq','trim','length','1|0|3|2|4','41298wqNENT','ecYhr','<div\x20class=\x22typing-indicator\x22><span></span><span></span><span></span></div>','KvfBQ','lITaD','user','665511enajbk','.input-container','questionLoaded','none','remove','createElement','waetS','updateUserAnswer','uHplh','handleSilence','quizStarted','YRjbP','display','className','getElementById','VqHNk','error','micButton','autoAdvanceTimeout','querySelector','log','rhnkm','flex','hWKOR','JzwbY','settingsButton','messagesContainer','ytIJD','VzAPm','TsNbA','oCsIj','split','catch','uqrxp','errorMessage','.countdown','addEventListener','chatContainer','Quiz\x20completed:','add','PhaeR','LiKDC','hCqGc','innerHTML','Loaded\x20question\x20','FiKvP','recording','appendChild','init','isPaused','bIZzF','VCOkt','UJkjF','vkWrY','jNsGF','795950mPtGeg','newChatButton','then','div','index','content','message\x20assistant\x20typing','gkszl','DrWuy','644456JzhAta','uFtbg','Returned\x20to\x20chat\x20interface','classList','<strong>$1</strong>'];_0x4fc9=function(){return _0x4d794e;};return _0x4fc9();}import{marked}from'https://cdn.jsdelivr.net/npm/marked@13.0.3/lib/marked.esm.js';import _0x58ea3a from'https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.es.mjs';import{displayError,Logger}from'./common.js';import{aiAdapter}from'./aiAdapter.js';import{SpeechProcessor}from'./speechProcessor.js';import{QuizManager}from'./quizManager.js';((async()=>{const _0x2e89df=_0x9f31,_0x566de0={'gAVBK':'Failed\x20to\x20initialize\x20AI:','WXXrd':function(_0x18afb0,_0x374589){return _0x18afb0(_0x374589);},'zjUSx':_0x2e89df(0x139),'uHplh':'Please\x20enter\x20quiz\x20questions\x20and\x20answers.','uqrxp':function(_0x1bb5e7,_0x3e8057){return _0x1bb5e7(_0x3e8057);},'DTPCo':'Invalid\x20quiz\x20format.','LiKDC':'AI\x20BrowserLanguage\x20Session\x20initialized\x20successfully','PhaeR':'click','VCOkt':_0x2e89df(0xec),'wLfEW':_0x2e89df(0x14f),'ytIJD':function(_0x40c7ae){return _0x40c7ae();},'vWOrY':_0x2e89df(0x11c),'oCsIj':_0x2e89df(0x11f),'bIZzF':_0x2e89df(0x14e),'ZDYSc':_0x2e89df(0x156),'VzAPm':_0x2e89df(0x126),'LEFSU':_0x2e89df(0x12f),'vkWrY':_0x2e89df(0x129),'uFtbg':'<pre><code>$1</code></pre>','YRjbP':'none','waetS':_0x2e89df(0xf8),'VqHNk':function(_0x34ad5a,_0x11c55f){return _0x34ad5a===_0x11c55f;},'jNsGF':_0x2e89df(0x159),'FiKvP':function(_0x247935,_0x3702aa){return _0x247935(_0x3702aa);},'oWgwg':function(_0x16a58b,_0x540049){return _0x16a58b(_0x540049);},'uzQaF':_0x2e89df(0x135),'qYwOL':_0x2e89df(0x105),'JzwbY':function(_0x554603){return _0x554603();},'xewVr':function(_0xb56683){return _0xb56683();},'MaeYs':function(_0x1b664b,_0x409eee){return _0x1b664b>=_0x409eee;},'DrWuy':_0x2e89df(0x12c),'hWKOR':_0x2e89df(0xfc),'rhnkm':_0x2e89df(0x131),'zvYFH':_0x2e89df(0x11a),'RsTvc':_0x2e89df(0xfb),'hCqGc':_0x2e89df(0x15b),'rmoyx':_0x2e89df(0x145),'OaoFr':_0x2e89df(0x132),'KvfBQ':'autoAdvancePrompt'};let _0x38e542,_0x8a8014=null;const _0x2750ff=document[_0x2e89df(0xf0)](_0x566de0[_0x2e89df(0x121)]),_0x51827f=document[_0x2e89df(0xf0)](_0x2e89df(0x107)),_0x42eb25=document[_0x2e89df(0xf0)](_0x566de0[_0x2e89df(0xf9)]),_0x3f29a9=document['getElementById'](_0x566de0[_0x2e89df(0xf7)]),_0x14d17c=document[_0x2e89df(0xf0)]('sendButton'),_0x328f76=document[_0x2e89df(0xf0)](_0x2e89df(0xf3)),_0x5c03b5=document[_0x2e89df(0xf0)](_0x2e89df(0x104)),_0xb49be1=document[_0x2e89df(0xf0)]('loader'),_0x950bde=document[_0x2e89df(0xf0)](_0x566de0['zvYFH']),_0x2b83db=document[_0x2e89df(0xf0)](_0x566de0[_0x2e89df(0x14c)]),_0x36c686=document[_0x2e89df(0xf5)](_0x566de0[_0x2e89df(0x10c)]),_0x4ad2bc=document[_0x2e89df(0xf0)](_0x2e89df(0x141)),_0x578b2c=document[_0x2e89df(0xf0)](_0x566de0[_0x2e89df(0x14b)]),_0x1ca4dc=document['getElementById'](_0x566de0[_0x2e89df(0x146)]),_0x4a164d=document[_0x2e89df(0xf0)](_0x566de0[_0x2e89df(0x157)]);document[_0x2e89df(0x106)]('DOMContentLoaded',()=>{const _0x2f315b=_0x2e89df,_0x5cb032={'Knyrj':_0x566de0[_0x2f315b(0x10b)]};_0x1ca4dc?.[_0x2f315b(0x106)](_0x566de0[_0x2f315b(0x10a)],_0xdcacf2);const _0x37d261=new BaseConversationManager();_0x38e542=new QuizManager({'showAutoAdvancePrompt':()=>_0x3dd606()});let _0x51eaa2;function _0x2f5b49(){const _0x1ef995=_0x2f315b;_0x51eaa2=new SpeechProcessor({'onResult':(_0x400909,_0x15ccf5)=>{const _0x197db6=_0x9f31;_0x38e542[_0x197db6(0xe9)](_0x400909,_0x15ccf5);},'onError':_0x54b18c=>displayError(_0x54b18c),'onSilence':_0x2565fe=>_0x38e542[_0x1ef995(0xeb)](_0x2565fe),'onRecordingStart':()=>_0x328f76?.[_0x1ef995(0x125)][_0x1ef995(0x109)](_0x1ef995(0x110)),'onRecordingStop':()=>_0x328f76?.[_0x1ef995(0x125)][_0x1ef995(0xe6)](_0x1ef995(0x110)),'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}aiAdapter[_0x2f315b(0x112)]()[_0x2f315b(0x11b)](()=>{const _0x52783e=_0x2f315b;console[_0x52783e(0xf6)](_0x5cb032[_0x52783e(0x14a)]);})[_0x2f315b(0x102)](_0x52424c=>{const _0x189b44=_0x2f315b;console[_0x189b44(0xf2)](_0x566de0[_0x189b44(0x13d)],_0x52424c),_0x566de0[_0x189b44(0x13b)](displayError,_0x566de0[_0x189b44(0x14d)]);}),_0x38e542['init'](),_0x578b2c?.[_0x2f315b(0x106)]('click',()=>{const _0x537864=_0x2f315b,_0xe8d88c=_0x4ad2bc[_0x537864(0x136)][_0x537864(0x151)]();if(!_0xe8d88c){_0x566de0[_0x537864(0x13b)](displayError,_0x566de0[_0x537864(0xea)]);return;}const _0x574532=_0x38e542['parseQuizQuestions'](_0xe8d88c);if(!_0x574532||_0x574532[_0x537864(0x152)]===0x0){_0x566de0[_0x537864(0x103)](displayError,_0x566de0[_0x537864(0x13a)]);return;}_0x38e542[_0x537864(0x130)](_0x574532);}),_0x38e542['on'](_0x566de0[_0x2f315b(0x115)],_0x610f93=>console[_0x2f315b(0xf6)](_0x2f315b(0x127)+_0x610f93['length']+'\x20questions')),_0x38e542['on'](_0x2f315b(0x15c),_0x5d8281=>console[_0x2f315b(0xf6)](_0x2f315b(0x10e)+(_0x5d8281[_0x2f315b(0x11d)]+0x1)+':\x20'+_0x5d8281[_0x2f315b(0x133)]['question'])),_0x38e542['on'](_0x566de0['wLfEW'],_0x879b9=>console[_0x2f315b(0xf6)](_0x2f315b(0x108),_0x879b9)),_0x38e542['on']('returnedToChat',()=>console[_0x2f315b(0xf6)](_0x2f315b(0x124))),_0x566de0[_0x2f315b(0xfd)](_0x2f5b49);});function _0x16f9b7(){const _0x4b2381=_0x2e89df;if(!_0x42eb25)return;const _0x3b9505=document[_0x4b2381(0xe7)](_0x566de0['vWOrY']);_0x3b9505['className']=_0x566de0[_0x4b2381(0x100)],_0x3b9505['id']=_0x566de0['bIZzF'],_0x3b9505[_0x4b2381(0x10d)]=_0x566de0['ZDYSc'],_0x42eb25[_0x4b2381(0x111)](_0x3b9505),_0x42eb25[_0x4b2381(0x143)]=_0x42eb25['scrollHeight'];}function _0x65ff61(){const _0x42faf9=_0x2e89df;document['getElementById'](_0x566de0[_0x42faf9(0x114)])?.[_0x42faf9(0xe6)]();}function _0x276226(_0x50d78f){const _0x127833=_0x2e89df;return _0x50d78f[_0x127833(0x12e)](/\*\*(.*?)\*\*/g,_0x566de0[_0x127833(0xfe)])['replace'](/\*(.*?)\*/g,_0x566de0[_0x127833(0x140)])[_0x127833(0x12e)](/\n/g,_0x566de0[_0x127833(0x117)])[_0x127833(0x12e)](/```([\s\S]*?)```/g,_0x566de0[_0x127833(0x123)]);}function _0x32a9b9(){const _0x120839=_0x2e89df;if(_0x2750ff)_0x2750ff[_0x120839(0x144)][_0x120839(0xee)]=_0x566de0[_0x120839(0xed)];if(_0x51827f)_0x51827f['style'][_0x120839(0xee)]='flex';if(_0x36c686)_0x36c686['style'][_0x120839(0xee)]=_0x566de0[_0x120839(0xe8)];if(_0x3f29a9)_0x3f29a9[_0x120839(0x137)]();}function _0x830ed6(_0x25d2c7){const _0x567b0c=_0x2e89df,_0x313626={'TsNbA':_0x567b0c(0x11c),'lITaD':function(_0x5366db,_0x1e7f52){const _0x3d727a=_0x567b0c;return _0x566de0[_0x3d727a(0xf1)](_0x5366db,_0x1e7f52);},'gkszl':_0x566de0[_0x567b0c(0x118)],'ecYhr':_0x567b0c(0x12b),'UJkjF':function(_0x4b9528,_0x1ed7f0){return _0x566de0['FiKvP'](_0x4b9528,_0x1ed7f0);}};if(!_0x42eb25)return;const _0x390a66=document[_0x567b0c(0xf0)](_0x566de0[_0x567b0c(0x114)]);_0x42eb25[_0x567b0c(0x10d)]='',_0x25d2c7[_0x567b0c(0x13c)](_0x43ce8b=>{const _0x1672d4=_0x567b0c,_0x5a1a3a=document[_0x1672d4(0xe7)](_0x313626[_0x1672d4(0xff)]);_0x5a1a3a[_0x1672d4(0xef)]=_0x1672d4(0x12d)+(_0x313626[_0x1672d4(0x158)](_0x43ce8b['role'],_0x313626[_0x1672d4(0x120)])?_0x313626[_0x1672d4(0x120)]:_0x313626[_0x1672d4(0x155)]),_0x5a1a3a[_0x1672d4(0x10d)]=_0x313626[_0x1672d4(0x116)](_0x276226,_0x43ce8b[_0x1672d4(0x11e)]),_0x42eb25[_0x1672d4(0x111)](_0x5a1a3a);});if(_0x390a66)_0x42eb25[_0x567b0c(0x111)](_0x390a66);_0x42eb25['scrollTop']=_0x42eb25[_0x567b0c(0x13e)];}function _0xdcacf2(){const _0x1b8f94=_0x2e89df;_0x38e542[_0x1b8f94(0x113)]=!_0x38e542[_0x1b8f94(0x113)],_0x566de0[_0x1b8f94(0xfd)](_0x9e69f5);if(!_0x38e542[_0x1b8f94(0x113)])_0x566de0[_0x1b8f94(0xfd)](_0x5cda55);else _0x566de0[_0x1b8f94(0x149)](clearInterval,_0x8a8014),clearTimeout(_0x38e542[_0x1b8f94(0xf4)]);}function _0x9e69f5(){const _0x8e1fa8=_0x2e89df;_0x1ca4dc[_0x8e1fa8(0x10d)]=_0x38e542[_0x8e1fa8(0x113)]?_0x566de0[_0x8e1fa8(0x142)]:_0x8e1fa8(0x13f);}function _0x3dd606(){const _0x3ffcf3=_0x2e89df,_0x33a674=_0x3ffcf3(0x153)[_0x3ffcf3(0x101)]('|');let _0x55135d=0x0;while(!![]){switch(_0x33a674[_0x55135d++]){case'0':_0x4a164d[_0x3ffcf3(0x144)][_0x3ffcf3(0xee)]=_0x566de0['waetS'];continue;case'1':_0x4a164d[_0x3ffcf3(0xf5)](_0x566de0['qYwOL'])[_0x3ffcf3(0x138)]='2';continue;case'2':_0x566de0[_0x3ffcf3(0xfa)](_0x9e69f5);continue;case'3':_0x38e542[_0x3ffcf3(0x113)]=![];continue;case'4':_0x566de0['xewVr'](_0x5cda55);continue;}break;}}function _0x5cda55(){const _0x25bc71=_0x2e89df;let _0x1214b6=0x1;_0x566de0[_0x25bc71(0x103)](clearInterval,_0x8a8014),_0x566de0[_0x25bc71(0x10f)](clearTimeout,_0x38e542[_0x25bc71(0xf4)]),_0x8a8014=setInterval(()=>{const _0x5ecb80=_0x25bc71;!_0x38e542[_0x5ecb80(0x113)]&&(_0x1214b6--,_0x566de0['MaeYs'](_0x1214b6,0x0)?_0x4a164d[_0x5ecb80(0xf5)](_0x566de0['qYwOL'])[_0x5ecb80(0x138)]=_0x1214b6:clearInterval(_0x8a8014));},0x3e8),_0x38e542[_0x25bc71(0xf4)]=setTimeout(()=>{const _0x3a9889=_0x25bc71;!_0x38e542['isPaused']&&(_0x4a164d[_0x3a9889(0x144)][_0x3a9889(0xee)]=_0x3a9889(0xe5),_0x38e542['nextQuestion']());},0x3e8);}})());