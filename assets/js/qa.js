
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
(function(_0xf81538,_0x24ca8f){const _0x31063d=_0x1b0e,_0x2ea26=_0xf81538();while(!![]){try{const _0x4d1195=parseInt(_0x31063d(0x20f))/0x1*(-parseInt(_0x31063d(0x20d))/0x2)+parseInt(_0x31063d(0x1d4))/0x3*(-parseInt(_0x31063d(0x1fa))/0x4)+-parseInt(_0x31063d(0x21f))/0x5+-parseInt(_0x31063d(0x21a))/0x6+parseInt(_0x31063d(0x203))/0x7*(parseInt(_0x31063d(0x212))/0x8)+-parseInt(_0x31063d(0x20c))/0x9*(parseInt(_0x31063d(0x236))/0xa)+-parseInt(_0x31063d(0x21c))/0xb*(-parseInt(_0x31063d(0x234))/0xc);if(_0x4d1195===_0x24ca8f)break;else _0x2ea26['push'](_0x2ea26['shift']());}catch(_0xeabb8b){_0x2ea26['push'](_0x2ea26['shift']());}}}(_0x4015,0x9d76c));import{marked}from'https://cdn.jsdelivr.net/npm/marked@13.0.3/lib/marked.esm.js';function _0x4015(){const _0x449919=['<i\x20class=\x22fas\x20fa-pause\x22></i>','assistant','hQmNO','sxLRP','role','handleSilence','className','flex','pEmie','<em>$1</em>','wuIXZ','micButton','replace','DOMContentLoaded','42167652aIKVBT','settingsButton','430GXSZng','add','catch','content','tNQAb','classList','remove','chatContainer','sbHVC','messageInput','display','hgmYL','sfLPU','div','ktChA','XOSKT','55668xwdAlx','log','TGaUn','playPauseButton','error','.countdown','split','length','Invalid\x20quiz\x20format.','btXTA','parseQuizQuestions','qtHkw','Quiz\x20completed:','quizStarted','cfhdu','EoBLm','RszIV','nlARt','quizInput','querySelector','then','<strong>$1</strong>','textContent','veNTh','forEach','VtRSX','Failed\x20to\x20initialize\x20AI:','ozhUs','XQiQc','Please\x20enter\x20quiz\x20questions\x20and\x20answers.','PRGef','focus','appendChild','messagesContainer','click','init','loader','ssvvp','20iomlDb','ZUTiX','scrollHeight','mDZvy','<br>','Quiz\x20started\x20with\x20','<i\x20class=\x22fas\x20fa-play\x22></i>','.input-container','CGRUm','2919OJrsbL','createElement','pWQBi','<div\x20class=\x22typing-indicator\x22><span></span><span></span><span></span></div>','AI\x20BrowserLanguage\x20Session\x20initialized\x20successfully','autoAdvanceTimeout','trim','dQWHi','user','9423VsDXjm','22joqvgx','value','74846vdLOMs','innerHTML','scrollTop','104NPaMhd','none','typingIndicator','addEventListener','LHAVA','nextQuestion','getElementById','question','5952510SZAHmh','welcomeScreen','11BuhhdK','style','isPaused','4606140NZIjqb','<pre><code>$1</code></pre>','Returned\x20to\x20chat\x20interface','message\x20assistant\x20typing','updateUserAnswer','Loaded\x20question\x20','autoAdvancePrompt'];_0x4015=function(){return _0x449919;};return _0x4015();}import _0xf7b297 from'https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.es.mjs';import{displayError,Logger}from'./common.js';import{aiAdapter}from'./aiAdapter.js';function _0x1b0e(_0x4e447f,_0x2a75dd){const _0x401538=_0x4015();return _0x1b0e=function(_0x1b0ea1,_0x1226f4){_0x1b0ea1=_0x1b0ea1-0x1c6;let _0x3991f7=_0x401538[_0x1b0ea1];return _0x3991f7;},_0x1b0e(_0x4e447f,_0x2a75dd);}import{SpeechProcessor}from'./speechProcessor.js';import{QuizManager}from'./quizManager.js';((async()=>{const _0x1f539c=_0x1b0e,_0x5ae78f={'aJqTY':_0x1f539c(0x1ee),'sfLPU':_0x1f539c(0x1f1),'tNQAb':function(_0x27a022,_0xc0b4e7){return _0x27a022===_0xc0b4e7;},'mDZvy':function(_0x8b6450,_0x591472){return _0x8b6450(_0x591472);},'LHAVA':_0x1f539c(0x1f6),'ZUTiX':_0x1f539c(0x1e1),'EpdOS':'returnedToChat','cfhdu':function(_0x4f224d){return _0x4f224d();},'dQWHi':_0x1f539c(0x222),'btXTA':_0x1f539c(0x214),'hgmYL':_0x1f539c(0x206),'ecxno':_0x1f539c(0x1fe),'nlARt':'none','ozhUs':_0x1f539c(0x22d),'PRGef':function(_0xfcf8b9,_0x50960a){return _0xfcf8b9===_0x50960a;},'RszIV':_0x1f539c(0x20b),'ZrArF':_0x1f539c(0x200),'ssvvp':function(_0x30e9e5){return _0x30e9e5();},'tGApH':function(_0x30b25d){return _0x30b25d();},'XQiQc':function(_0x28a4e1,_0x58d35e){return _0x28a4e1>=_0x58d35e;},'sxLRP':_0x1f539c(0x1d9),'XOSKT':function(_0x4249d0,_0x16f22a,_0x10a356){return _0x4249d0(_0x16f22a,_0x10a356);},'hQmNO':_0x1f539c(0x1cb),'pEmie':_0x1f539c(0x1cd),'veNTh':_0x1f539c(0x231),'TGaUn':'errorMessage','NRJej':_0x1f539c(0x1f8),'pWQBi':'newChatButton','EoBLm':_0x1f539c(0x1e6),'XVokV':'startQuizButton','yXzWa':_0x1f539c(0x1d7),'ktChA':_0x1f539c(0x233)};let _0x95931a,_0x3d0ac7=null;const _0x1cc4d6=document['getElementById'](_0x1f539c(0x21b)),_0x9fefa=document[_0x1f539c(0x218)](_0x5ae78f[_0x1f539c(0x228)]),_0x548101=document[_0x1f539c(0x218)](_0x1f539c(0x1f5)),_0x861f08=document[_0x1f539c(0x218)](_0x5ae78f[_0x1f539c(0x22e)]),_0x404708=document['getElementById']('sendButton'),_0x973bd=document[_0x1f539c(0x218)](_0x5ae78f[_0x1f539c(0x1eb)]),_0x47e449=document[_0x1f539c(0x218)](_0x5ae78f[_0x1f539c(0x1d6)]),_0x5a44f2=document[_0x1f539c(0x218)](_0x5ae78f['NRJej']),_0x19eae6=document[_0x1f539c(0x218)](_0x5ae78f[_0x1f539c(0x205)]),_0x57250b=document[_0x1f539c(0x218)](_0x1f539c(0x235)),_0xc9c6e8=document['querySelector'](_0x1f539c(0x201)),_0x127ca4=document['getElementById'](_0x5ae78f[_0x1f539c(0x1e3)]),_0x4182a9=document[_0x1f539c(0x218)](_0x5ae78f['XVokV']),_0x41126c=document['getElementById'](_0x5ae78f['yXzWa']),_0x23d5df=document['getElementById'](_0x1f539c(0x225));document[_0x1f539c(0x215)](_0x5ae78f[_0x1f539c(0x1d2)],()=>{const _0x2ae820=_0x1f539c,_0xcff8f3={'MJgHT':_0x5ae78f['aJqTY'],'VtRSX':function(_0xfa03f8,_0x4f3e47){return _0xfa03f8(_0x4f3e47);},'CGRUm':_0x5ae78f[_0x2ae820(0x1d0)],'sbHVC':function(_0x319f12,_0x6888c7){const _0x3fbcdb=_0x2ae820;return _0x5ae78f[_0x3fbcdb(0x1c8)](_0x319f12,_0x6888c7);},'bNdus':function(_0x1f0c6e,_0x54decd){const _0x4fed22=_0x2ae820;return _0x5ae78f[_0x4fed22(0x1fd)](_0x1f0c6e,_0x54decd);}};_0x41126c?.[_0x2ae820(0x215)](_0x5ae78f[_0x2ae820(0x216)],_0x112319);const _0x984cef=new BaseConversationManager();_0x95931a=new QuizManager({'showAutoAdvancePrompt':()=>_0x2e1892()});let _0x16a31;function _0x5eb0ae(){const _0x328a48=_0x2ae820;_0x16a31=new SpeechProcessor({'onResult':(_0x50ac85,_0x424e39)=>{const _0x4bb988=_0x1b0e;_0x95931a[_0x4bb988(0x223)](_0x50ac85,_0x424e39);},'onError':_0x363a06=>displayError(_0x363a06),'onSilence':_0x140171=>_0x95931a[_0x328a48(0x22b)](_0x140171),'onRecordingStart':()=>_0x973bd?.[_0x328a48(0x1c9)][_0x328a48(0x237)]('recording'),'onRecordingStop':()=>_0x973bd?.[_0x328a48(0x1c9)][_0x328a48(0x1ca)]('recording'),'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}aiAdapter['init']()[_0x2ae820(0x1e8)](()=>{const _0x432b72=_0x2ae820;console[_0x432b72(0x1d5)](_0x432b72(0x207));})[_0x2ae820(0x1c6)](_0x655291=>{const _0x501169=_0x2ae820;console[_0x501169(0x1d8)](_0xcff8f3['MJgHT'],_0x655291),_0xcff8f3[_0x501169(0x1ed)](displayError,'Failed\x20to\x20initialize\x20AI.\x20Please\x20refresh\x20the\x20page.');}),_0x95931a[_0x2ae820(0x1f7)](),_0x4182a9?.[_0x2ae820(0x215)](_0x5ae78f[_0x2ae820(0x216)],()=>{const _0x386d30=_0x2ae820,_0x8bdc93=_0x127ca4[_0x386d30(0x20e)][_0x386d30(0x209)]();if(!_0x8bdc93){displayError(_0xcff8f3[_0x386d30(0x202)]);return;}const _0x522349=_0x95931a[_0x386d30(0x1de)](_0x8bdc93);if(!_0x522349||_0xcff8f3[_0x386d30(0x1cc)](_0x522349[_0x386d30(0x1db)],0x0)){_0xcff8f3['bNdus'](displayError,_0x386d30(0x1dc));return;}_0x95931a['startQuiz'](_0x522349);}),_0x95931a['on'](_0x5ae78f[_0x2ae820(0x1fb)],_0x1fe18a=>console[_0x2ae820(0x1d5)](_0x2ae820(0x1ff)+_0x1fe18a[_0x2ae820(0x1db)]+'\x20questions')),_0x95931a['on']('questionLoaded',_0x1e54a2=>console[_0x2ae820(0x1d5)](_0x2ae820(0x224)+(_0x1e54a2['index']+0x1)+':\x20'+_0x1e54a2[_0x2ae820(0x219)]['question'])),_0x95931a['on']('quizCompleted',_0x1282d1=>console[_0x2ae820(0x1d5)](_0x2ae820(0x1e0),_0x1282d1)),_0x95931a['on'](_0x5ae78f['EpdOS'],()=>console['log'](_0x2ae820(0x221))),_0x5ae78f[_0x2ae820(0x1e2)](_0x5eb0ae);});function _0x29fab9(){const _0x1f2af8=_0x1f539c;if(!_0x548101)return;const _0x127520=document[_0x1f2af8(0x204)](_0x1f2af8(0x1d1));_0x127520[_0x1f2af8(0x22c)]=_0x5ae78f[_0x1f2af8(0x20a)],_0x127520['id']=_0x5ae78f['btXTA'],_0x127520[_0x1f2af8(0x210)]=_0x5ae78f[_0x1f2af8(0x1cf)],_0x548101[_0x1f2af8(0x1f4)](_0x127520),_0x548101['scrollTop']=_0x548101[_0x1f2af8(0x1fc)];}function _0x57b059(){const _0x10666b=_0x1f539c;document['getElementById'](_0x10666b(0x214))?.[_0x10666b(0x1ca)]();}function _0x582a36(_0x41310a){const _0x4e64e0=_0x1f539c;return _0x41310a[_0x4e64e0(0x232)](/\*\*(.*?)\*\*/g,_0x4e64e0(0x1e9))[_0x4e64e0(0x232)](/\*(.*?)\*/g,_0x4e64e0(0x22f))[_0x4e64e0(0x232)](/\n/g,_0x5ae78f['ecxno'])[_0x4e64e0(0x232)](/```([\s\S]*?)```/g,_0x4e64e0(0x220));}function _0x3fe132(){const _0x5d0036=_0x1f539c;if(_0x1cc4d6)_0x1cc4d6[_0x5d0036(0x21d)][_0x5d0036(0x1ce)]=_0x5ae78f[_0x5d0036(0x1e5)];if(_0x9fefa)_0x9fefa[_0x5d0036(0x21d)]['display']=_0x5ae78f[_0x5d0036(0x1ef)];if(_0xc9c6e8)_0xc9c6e8['style']['display']=_0x5d0036(0x22d);if(_0x861f08)_0x861f08[_0x5d0036(0x1f3)]();}function _0x1c55f5(_0x40a3ec){const _0x291256=_0x1f539c,_0x587725={'Feoim':function(_0x312e62,_0x3dc9f0){const _0x2cd7a8=_0x1b0e;return _0x5ae78f[_0x2cd7a8(0x1f2)](_0x312e62,_0x3dc9f0);},'wuIXZ':_0x5ae78f[_0x291256(0x1e4)],'dbgiT':_0x291256(0x227),'qtHkw':function(_0x38a260,_0x5c14e2){const _0x319492=_0x291256;return _0x5ae78f[_0x319492(0x1fd)](_0x38a260,_0x5c14e2);}};if(!_0x548101)return;const _0x4ce123=document[_0x291256(0x218)](_0x5ae78f[_0x291256(0x1dd)]);_0x548101[_0x291256(0x210)]='',_0x40a3ec[_0x291256(0x1ec)](_0x3ffaf0=>{const _0x39aae0=_0x291256,_0x220976=document[_0x39aae0(0x204)]('div');_0x220976[_0x39aae0(0x22c)]='message\x20'+(_0x587725['Feoim'](_0x3ffaf0[_0x39aae0(0x22a)],_0x587725[_0x39aae0(0x230)])?_0x587725['wuIXZ']:_0x587725['dbgiT']),_0x220976[_0x39aae0(0x210)]=_0x587725[_0x39aae0(0x1df)](_0x582a36,_0x3ffaf0[_0x39aae0(0x1c7)]),_0x548101[_0x39aae0(0x1f4)](_0x220976);});if(_0x4ce123)_0x548101[_0x291256(0x1f4)](_0x4ce123);_0x548101[_0x291256(0x211)]=_0x548101['scrollHeight'];}function _0x112319(){const _0x1b7832=_0x1f539c;_0x95931a[_0x1b7832(0x21e)]=!_0x95931a[_0x1b7832(0x21e)],_0x5ae78f['cfhdu'](_0x5c1eb5);if(!_0x95931a[_0x1b7832(0x21e)])_0x4dc677();else clearInterval(_0x3d0ac7),_0x5ae78f[_0x1b7832(0x1fd)](clearTimeout,_0x95931a[_0x1b7832(0x208)]);}function _0x5c1eb5(){const _0x272ced=_0x1f539c;_0x41126c[_0x272ced(0x210)]=_0x95931a[_0x272ced(0x21e)]?_0x5ae78f['ZrArF']:_0x272ced(0x226);}function _0x2e1892(){const _0x3003d2=_0x1f539c,_0x24dd87='3|4|2|0|1'[_0x3003d2(0x1da)]('|');let _0xe3f681=0x0;while(!![]){switch(_0x24dd87[_0xe3f681++]){case'0':_0x5ae78f[_0x3003d2(0x1f9)](_0x5c1eb5);continue;case'1':_0x5ae78f['tGApH'](_0x4dc677);continue;case'2':_0x95931a[_0x3003d2(0x21e)]=![];continue;case'3':_0x23d5df[_0x3003d2(0x1e7)](_0x3003d2(0x1d9))[_0x3003d2(0x1ea)]='2';continue;case'4':_0x23d5df[_0x3003d2(0x21d)][_0x3003d2(0x1ce)]=_0x5ae78f[_0x3003d2(0x1ef)];continue;}break;}}function _0x4dc677(){const _0x52a4f2=_0x1f539c;let _0x1a8510=0x1;_0x5ae78f[_0x52a4f2(0x1fd)](clearInterval,_0x3d0ac7),_0x5ae78f[_0x52a4f2(0x1fd)](clearTimeout,_0x95931a[_0x52a4f2(0x208)]),_0x3d0ac7=setInterval(()=>{const _0x3f4ba9=_0x52a4f2;!_0x95931a[_0x3f4ba9(0x21e)]&&(_0x1a8510--,_0x5ae78f[_0x3f4ba9(0x1f0)](_0x1a8510,0x0)?_0x23d5df[_0x3f4ba9(0x1e7)](_0x5ae78f[_0x3f4ba9(0x229)])[_0x3f4ba9(0x1ea)]=_0x1a8510:_0x5ae78f[_0x3f4ba9(0x1fd)](clearInterval,_0x3d0ac7));},0x3e8),_0x95931a[_0x52a4f2(0x208)]=_0x5ae78f[_0x52a4f2(0x1d3)](setTimeout,()=>{const _0x32137a=_0x52a4f2;!_0x95931a['isPaused']&&(_0x23d5df[_0x32137a(0x21d)][_0x32137a(0x1ce)]=_0x32137a(0x213),_0x95931a[_0x32137a(0x217)]());},0x3e8);}})());