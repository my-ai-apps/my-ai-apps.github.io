
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
(function(_0x53929d,_0xf191df){const _0x445a7e=_0x4e74,_0x5051b9=_0x53929d();while(!![]){try{const _0x1bed3d=-parseInt(_0x445a7e(0x160))/0x1+-parseInt(_0x445a7e(0x1a1))/0x2*(-parseInt(_0x445a7e(0x158))/0x3)+-parseInt(_0x445a7e(0x178))/0x4+-parseInt(_0x445a7e(0x1bc))/0x5+parseInt(_0x445a7e(0x1b1))/0x6+-parseInt(_0x445a7e(0x172))/0x7*(parseInt(_0x445a7e(0x173))/0x8)+-parseInt(_0x445a7e(0x155))/0x9*(-parseInt(_0x445a7e(0x190))/0xa);if(_0x1bed3d===_0xf191df)break;else _0x5051b9['push'](_0x5051b9['shift']());}catch(_0x3b70a0){_0x5051b9['push'](_0x5051b9['shift']());}}}(_0x2553,0xa8a65));import{marked}from'https://cdn.jsdelivr.net/npm/marked@13.0.3/lib/marked.esm.js';import _0x1f9c88 from'https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.es.mjs';import{displayError,Logger}from'./common.js';import{aiAdapter}from'./aiAdapter.js';function _0x2553(){const _0x291c58=['playPauseButton','remove','user','textContent','Returned\x20to\x20chat\x20interface','rJpwU','addEventListener','catch','yCfwE','settingsButton','.countdown','.input-container','<div\x20class=\x22typing-indicator\x22><span></span><span></span><span></span></div>','click','lkRGT','272938EKPsJD','div','messagesContainer','aZsDt','split','className','AKcbp','updateUserAnswer','\x20questions','VXQjW','cqEdk','newChatButton','autoAdvanceTimeout','role','add','phgyD','1634598CAgIPr','length','init','errorMessage','VJwYR','<i\x20class=\x22fas\x20fa-play\x22></i>','focus','quizInput','index','trim','scrollHeight','2159430RqFUII','value','innerHTML','YfEeb','GpxIe','ovSRp','lHLDZ','Failed\x20to\x20initialize\x20AI.\x20Please\x20refresh\x20the\x20page.','isPaused','vjebW','style','message\x20','startQuizButton','recording','yKWLW','SLppI','13911399sEVYCx','eikTx','luJHw','6YiRrkk','UWHZt','Please\x20enter\x20quiz\x20questions\x20and\x20answers.','DPBhC','CIdfg','quizStarted','log','Vhnrm','568273UgVFyL','RixVT','scrollTop','PDhjz','cNHng','welcomeScreen','kewru','DPmbB','<em>$1</em>','micButton','Quiz\x20started\x20with\x20','content','message\x20assistant\x20typing','questionLoaded','flex','JgwrJ','zXuAT','QcQnB','3331027MdzSRY','16CdjEbt','replace','display','appendChild','ESeVf','3976492eWfikl','typingIndicator','<br>','<i\x20class=\x22fas\x20fa-pause\x22></i>','NTAWG','getElementById','classList','uxjXK','parseQuizQuestions','forEach','question','handleSilence','chatContainer','hyUII','1|3|2|4|0','querySelector','assistant','RWGpl','wLPmG','Adjbz','sendButton','createElement','iHXfc','uBUPC','20ThWGTp','messageInput'];_0x2553=function(){return _0x291c58;};return _0x2553();}import{SpeechProcessor}from'./speechProcessor.js';import{QuizManager}from'./quizManager.js';function _0x4e74(_0x47b471,_0x112e17){const _0x255326=_0x2553();return _0x4e74=function(_0x4e745f,_0x38c925){_0x4e745f=_0x4e745f-0x149;let _0x4c75d6=_0x255326[_0x4e745f];return _0x4c75d6;},_0x4e74(_0x47b471,_0x112e17);}((async()=>{const _0x5e2ebf=_0x4e74,_0x1ef75a={'YfEeb':'Failed\x20to\x20initialize\x20AI:','hyUII':_0x5e2ebf(0x14c),'JgwrJ':function(_0x333b67,_0x5807aa){return _0x333b67(_0x5807aa);},'phgyD':_0x5e2ebf(0x15a),'SLppI':function(_0x37fc39,_0xaa3a20){return _0x37fc39===_0xaa3a20;},'lHLDZ':'Invalid\x20quiz\x20format.','cNHng':'AI\x20BrowserLanguage\x20Session\x20initialized\x20successfully','rJpwU':_0x5e2ebf(0x19f),'NTAWG':_0x5e2ebf(0x16d),'ovSRp':'returnedToChat','aZsDt':function(_0x245855){return _0x245855();},'uVWTe':_0x5e2ebf(0x1a2),'lkRGT':_0x5e2ebf(0x16c),'PDhjz':_0x5e2ebf(0x19e),'uBUPC':'typingIndicator','wLPmG':_0x5e2ebf(0x168),'DPmbB':_0x5e2ebf(0x17a),'cqEdk':'none','eikTx':_0x5e2ebf(0x16e),'RixVT':function(_0x25d2f4){return _0x25d2f4();},'VXQjW':_0x5e2ebf(0x1b6),'UWHZt':_0x5e2ebf(0x186),'pDEzH':function(_0x4a45a2){return _0x4a45a2();},'yKWLW':_0x5e2ebf(0x19c),'wHhsb':function(_0x1982e1){return _0x1982e1();},'AKcbp':function(_0x5b587d,_0x56598c){return _0x5b587d>=_0x56598c;},'GpxIe':function(_0x24c620,_0x4c6f46){return _0x24c620(_0x4c6f46);},'uxjXK':_0x5e2ebf(0x184),'Vhnrm':_0x5e2ebf(0x191),'CIdfg':_0x5e2ebf(0x18c),'vjebW':_0x5e2ebf(0x169),'zXuAT':_0x5e2ebf(0x1b4),'Adjbz':_0x5e2ebf(0x19b),'yCfwE':_0x5e2ebf(0x1b8),'jaLIX':_0x5e2ebf(0x151),'RWGpl':_0x5e2ebf(0x192),'pHfPb':'autoAdvancePrompt','kuNAm':'DOMContentLoaded'};let _0x17f723,_0x57d2a2=null;const _0x365e8=document[_0x5e2ebf(0x17d)](_0x5e2ebf(0x165)),_0x131d43=document['getElementById'](_0x1ef75a[_0x5e2ebf(0x17f)]),_0x19d175=document[_0x5e2ebf(0x17d)](_0x5e2ebf(0x1a3)),_0x5583b2=document['getElementById'](_0x1ef75a[_0x5e2ebf(0x15f)]),_0x213347=document['getElementById'](_0x1ef75a[_0x5e2ebf(0x15c)]),_0x47f9ff=document[_0x5e2ebf(0x17d)](_0x1ef75a[_0x5e2ebf(0x14e)]),_0x54fc60=document[_0x5e2ebf(0x17d)](_0x1ef75a[_0x5e2ebf(0x170)]),_0x4e0966=document[_0x5e2ebf(0x17d)]('loader'),_0x4cdfb7=document['getElementById'](_0x5e2ebf(0x1ac)),_0x199bb9=document[_0x5e2ebf(0x17d)](_0x1ef75a[_0x5e2ebf(0x18b)]),_0xe9e93d=document['querySelector'](_0x5e2ebf(0x19d)),_0x1f2811=document[_0x5e2ebf(0x17d)](_0x1ef75a[_0x5e2ebf(0x19a)]),_0x2042e1=document[_0x5e2ebf(0x17d)](_0x1ef75a['jaLIX']),_0x3d331d=document[_0x5e2ebf(0x17d)](_0x1ef75a[_0x5e2ebf(0x189)]),_0x2228e3=document['getElementById'](_0x1ef75a['pHfPb']);document['addEventListener'](_0x1ef75a['kuNAm'],()=>{const _0x131d2d=_0x5e2ebf,_0x561059={'luJHw':_0x1ef75a[_0x131d2d(0x164)]};_0x3d331d?.[_0x131d2d(0x198)](_0x1ef75a['rJpwU'],_0x20242d);const _0x3f4765=new BaseConversationManager();_0x17f723=new QuizManager({'showAutoAdvancePrompt':()=>_0x1ebe72()});let _0x33ae0b;function _0x43199b(){const _0x4b2a51=_0x131d2d;_0x33ae0b=new SpeechProcessor({'onResult':(_0x24c194,_0x4a721d)=>{const _0x3c91fd=_0x4e74;_0x17f723[_0x3c91fd(0x1a8)](_0x24c194,_0x4a721d);},'onError':_0x39b775=>displayError(_0x39b775),'onSilence':_0x40380a=>_0x17f723[_0x4b2a51(0x183)](_0x40380a),'onRecordingStart':()=>_0x47f9ff?.['classList'][_0x4b2a51(0x1af)](_0x4b2a51(0x152)),'onRecordingStop':()=>_0x47f9ff?.[_0x4b2a51(0x17e)][_0x4b2a51(0x193)](_0x4b2a51(0x152)),'minimumWordCount':0x5,'silenceTimeout':0xbb8,'extendedSilenceTimeout':0xbb8});}aiAdapter[_0x131d2d(0x1b3)]()['then'](()=>{const _0x4ab039=_0x131d2d;console['log'](_0x561059[_0x4ab039(0x157)]);})[_0x131d2d(0x199)](_0x4e7061=>{const _0x18221d=_0x131d2d;console['error'](_0x1ef75a[_0x18221d(0x1bf)],_0x4e7061),displayError(_0x1ef75a[_0x18221d(0x185)]);}),_0x17f723[_0x131d2d(0x1b3)](),_0x2042e1?.[_0x131d2d(0x198)](_0x1ef75a[_0x131d2d(0x197)],()=>{const _0x5c05c7=_0x131d2d,_0x545a2c=_0x1f2811[_0x5c05c7(0x1bd)][_0x5c05c7(0x1ba)]();if(!_0x545a2c){_0x1ef75a[_0x5c05c7(0x16f)](displayError,_0x1ef75a[_0x5c05c7(0x1b0)]);return;}const _0x472954=_0x17f723[_0x5c05c7(0x180)](_0x545a2c);if(!_0x472954||_0x1ef75a['SLppI'](_0x472954[_0x5c05c7(0x1b2)],0x0)){_0x1ef75a[_0x5c05c7(0x16f)](displayError,_0x1ef75a[_0x5c05c7(0x14b)]);return;}_0x17f723['startQuiz'](_0x472954);}),_0x17f723['on'](_0x131d2d(0x15d),_0xe4cd8=>console[_0x131d2d(0x15e)](_0x131d2d(0x16a)+_0xe4cd8['length']+_0x131d2d(0x1a9))),_0x17f723['on'](_0x1ef75a[_0x131d2d(0x17c)],_0x3e704f=>console[_0x131d2d(0x15e)]('Loaded\x20question\x20'+(_0x3e704f[_0x131d2d(0x1b9)]+0x1)+':\x20'+_0x3e704f[_0x131d2d(0x182)][_0x131d2d(0x182)])),_0x17f723['on']('quizCompleted',_0x11cbb0=>console[_0x131d2d(0x15e)]('Quiz\x20completed:',_0x11cbb0)),_0x17f723['on'](_0x1ef75a[_0x131d2d(0x14a)],()=>console['log'](_0x131d2d(0x196))),_0x1ef75a[_0x131d2d(0x1a4)](_0x43199b);});function _0x34b173(){const _0x428c45=_0x5e2ebf;if(!_0x19d175)return;const _0x3ecdd5=document['createElement'](_0x1ef75a['uVWTe']);_0x3ecdd5[_0x428c45(0x1a6)]=_0x1ef75a[_0x428c45(0x1a0)],_0x3ecdd5['id']=_0x428c45(0x179),_0x3ecdd5['innerHTML']=_0x1ef75a[_0x428c45(0x163)],_0x19d175['appendChild'](_0x3ecdd5),_0x19d175['scrollTop']=_0x19d175[_0x428c45(0x1bb)];}function _0xc2b8c1(){const _0x167a7e=_0x5e2ebf;document[_0x167a7e(0x17d)](_0x1ef75a[_0x167a7e(0x18f)])?.[_0x167a7e(0x193)]();}function _0x279631(_0x4df880){const _0x30c375=_0x5e2ebf;return _0x4df880[_0x30c375(0x174)](/\*\*(.*?)\*\*/g,'<strong>$1</strong>')[_0x30c375(0x174)](/\*(.*?)\*/g,_0x1ef75a[_0x30c375(0x18a)])[_0x30c375(0x174)](/\n/g,_0x1ef75a[_0x30c375(0x167)])[_0x30c375(0x174)](/```([\s\S]*?)```/g,'<pre><code>$1</code></pre>');}function _0x34de2d(){const _0x9e7e92=_0x5e2ebf;if(_0x365e8)_0x365e8['style'][_0x9e7e92(0x175)]=_0x1ef75a[_0x9e7e92(0x1ab)];if(_0x131d43)_0x131d43[_0x9e7e92(0x14f)][_0x9e7e92(0x175)]=_0x1ef75a[_0x9e7e92(0x156)];if(_0xe9e93d)_0xe9e93d[_0x9e7e92(0x14f)]['display']=_0x9e7e92(0x16e);if(_0x5583b2)_0x5583b2[_0x9e7e92(0x1b7)]();}function _0x488690(_0x23ec2b){const _0x495af4=_0x5e2ebf,_0x3b1537={'DPBhC':_0x495af4(0x1a2),'QcQnB':function(_0xa2757,_0x47a133){const _0x4206f9=_0x495af4;return _0x1ef75a[_0x4206f9(0x154)](_0xa2757,_0x47a133);},'VJwYR':_0x495af4(0x194),'kewru':_0x495af4(0x188)};if(!_0x19d175)return;const _0x3ab5fd=document['getElementById'](_0x1ef75a[_0x495af4(0x18f)]);_0x19d175[_0x495af4(0x1be)]='',_0x23ec2b[_0x495af4(0x181)](_0x2e0858=>{const _0x356a2d=_0x495af4,_0x65e933=document[_0x356a2d(0x18d)](_0x3b1537[_0x356a2d(0x15b)]);_0x65e933[_0x356a2d(0x1a6)]=_0x356a2d(0x150)+(_0x3b1537[_0x356a2d(0x171)](_0x2e0858[_0x356a2d(0x1ae)],_0x356a2d(0x194))?_0x3b1537[_0x356a2d(0x1b5)]:_0x3b1537[_0x356a2d(0x166)]),_0x65e933['innerHTML']=_0x279631(_0x2e0858[_0x356a2d(0x16b)]),_0x19d175[_0x356a2d(0x176)](_0x65e933);});if(_0x3ab5fd)_0x19d175[_0x495af4(0x176)](_0x3ab5fd);_0x19d175[_0x495af4(0x162)]=_0x19d175[_0x495af4(0x1bb)];}function _0x20242d(){const _0x17807e=_0x5e2ebf;_0x17f723[_0x17807e(0x14d)]=!_0x17f723[_0x17807e(0x14d)],_0x1ef75a['RixVT'](_0x1329d3);if(!_0x17f723[_0x17807e(0x14d)])_0x1ef75a[_0x17807e(0x161)](_0x435841);else _0x1ef75a['JgwrJ'](clearInterval,_0x57d2a2),_0x1ef75a[_0x17807e(0x16f)](clearTimeout,_0x17f723[_0x17807e(0x1ad)]);}function _0x1329d3(){const _0x1284b3=_0x5e2ebf;_0x3d331d[_0x1284b3(0x1be)]=_0x17f723[_0x1284b3(0x14d)]?_0x1ef75a[_0x1284b3(0x1aa)]:_0x1284b3(0x17b);}function _0x1ebe72(){const _0x395b7e=_0x5e2ebf,_0x1e4886=_0x1ef75a[_0x395b7e(0x159)][_0x395b7e(0x1a5)]('|');let _0x47e574=0x0;while(!![]){switch(_0x1e4886[_0x47e574++]){case'0':_0x1ef75a['pDEzH'](_0x435841);continue;case'1':_0x2228e3[_0x395b7e(0x187)](_0x1ef75a[_0x395b7e(0x153)])[_0x395b7e(0x195)]='2';continue;case'2':_0x17f723[_0x395b7e(0x14d)]=![];continue;case'3':_0x2228e3[_0x395b7e(0x14f)][_0x395b7e(0x175)]=_0x395b7e(0x16e);continue;case'4':_0x1ef75a['wHhsb'](_0x1329d3);continue;}break;}}function _0x435841(){const _0x5293a5=_0x5e2ebf,_0x427104={'ESeVf':function(_0x59a0ad,_0x4565b1){const _0x2ae820=_0x4e74;return _0x1ef75a[_0x2ae820(0x1a7)](_0x59a0ad,_0x4565b1);},'nSQvS':_0x1ef75a[_0x5293a5(0x153)],'TrwWM':function(_0x1a6688,_0x158574){const _0x3c59bf=_0x5293a5;return _0x1ef75a[_0x3c59bf(0x16f)](_0x1a6688,_0x158574);},'iHXfc':_0x1ef75a[_0x5293a5(0x1ab)]};let _0x2be433=0x1;_0x1ef75a[_0x5293a5(0x16f)](clearInterval,_0x57d2a2),_0x1ef75a[_0x5293a5(0x149)](clearTimeout,_0x17f723[_0x5293a5(0x1ad)]),_0x57d2a2=setInterval(()=>{const _0x2e32e8=_0x5293a5;!_0x17f723[_0x2e32e8(0x14d)]&&(_0x2be433--,_0x427104[_0x2e32e8(0x177)](_0x2be433,0x0)?_0x2228e3['querySelector'](_0x427104['nSQvS'])[_0x2e32e8(0x195)]=_0x2be433:_0x427104['TrwWM'](clearInterval,_0x57d2a2));},0x3e8),_0x17f723['autoAdvanceTimeout']=setTimeout(()=>{const _0x1ad7af=_0x5293a5;!_0x17f723[_0x1ad7af(0x14d)]&&(_0x2228e3[_0x1ad7af(0x14f)][_0x1ad7af(0x175)]=_0x427104[_0x1ad7af(0x18e)],_0x17f723['nextQuestion']());},0x3e8);}})());