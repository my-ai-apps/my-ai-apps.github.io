
/*!
Copyright © 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x509c9a=_0x58bc;(function(_0x680645,_0x3334cf){const _0x1d484a=_0x58bc,_0x4cd3c9=_0x680645();while(!![]){try{const _0x8b05a3=parseInt(_0x1d484a(0x228))/0x1+-parseInt(_0x1d484a(0x213))/0x2+-parseInt(_0x1d484a(0x211))/0x3*(-parseInt(_0x1d484a(0x1fd))/0x4)+parseInt(_0x1d484a(0x229))/0x5+-parseInt(_0x1d484a(0x236))/0x6*(parseInt(_0x1d484a(0x233))/0x7)+parseInt(_0x1d484a(0x1ea))/0x8*(parseInt(_0x1d484a(0x1fa))/0x9)+-parseInt(_0x1d484a(0x231))/0xa*(parseInt(_0x1d484a(0x237))/0xb);if(_0x8b05a3===_0x3334cf)break;else _0x4cd3c9['push'](_0x4cd3c9['shift']());}catch(_0x2a4eb1){_0x4cd3c9['push'](_0x4cd3c9['shift']());}}}(_0x8d27,0xc9c15));function _0x8d27(){const _0x18835b=['stringify','display','gRLjf','Bearer\x20','UiVho','QhKqQ','GUYRq','sk-proj-66666666666666666666666666666666','QAiHx','PTEjp','BNCzn','Based\x20on\x20the\x20user’s\x20input,\x20determine\x20the\x20intended\x20quiz\x20topic.\x20Create\x20a\x20JSON\x20object\x20containing\x20a\x20set\x20of\x205\x20multiple-choice\x20questions\x20relevant\x20to\x20that\x20topic.\x20Each\x20question\x20should\x20include\x20the\x20fields\x20\x27question\x27\x20(the\x20quiz\x20question),\x20\x27options\x27\x20(single\x20answer\x20choice).\x20Format\x20the\x20output\x20to\x20the\x20pattern\x20below\x20{\x20\x27topic\x27:\x20\x27example_topic\x27,\x20\x27questions\x27:\x20[\x20{\x20\x27question\x27:\x20\x27Example\x20question?\x27,\x20\x27options\x27:\x20[\x27Option\x20A\x27],\x20\x27correctAnswer\x27:\x20\x27Option\x20B\x27\x20}\x20]\x20}','18bkFgfM','BphjF','Cgxae','4daGTwX','UzrUp','user','IbtRc','systemPrompt','getItem','jdqlb','system','ICMXa','InnwI','eklYU','JsHNe','WnNVI','maxTokens','apiUrl','none','temperature','user-input','message','VXUXe','4043289YcRmFZ','QLDMH','1003374QyVqwF','length','value','GTWMG','apiToken','setItem','http://localhost:1234/v1','RxfvT','lang','cVhqn','choices','fuHle','chat-window','BiAeW','flex','Error:\x20Could\x20not\x20parse\x20JSON\x20response.','vAYwB','LDwiK','style','QmnGC','bWxJA','551970aHOxZx','2489355HABTcW','modelName','openai/Qwen2.5','JBSTV','topP','WAcKI','POST','getElementById','127830bdnWqx','application/json','7WjJcOv','AI\x20is\x20typing...','settings','9213654gBirHx','297TNtOSO','toggleSettings','speechSynthesis','json_object','sendMessage','/chat/completions','GlmLT','en-US','3244888ADMgil','Error:\x20Failed\x20to\x20fetch\x20AI\x20response:\x20','split','onload'];_0x8d27=function(){return _0x18835b;};return _0x8d27();}import _0x2b2a3c from'./store.js';import{appendMessage,showTypingIndicator,hideTypingIndicator}from'./common.js';const defaultSettings={'apiUrl':_0x509c9a(0x219),'apiToken':_0x509c9a(0x1f5),'modelName':_0x509c9a(0x22b),'maxTokens':0x1000,'temperature':0.7,'topP':0x1,'systemPrompt':_0x509c9a(0x1f9)};function _0x58bc(_0x38c208,_0x526872){const _0x8d271b=_0x8d27();return _0x58bc=function(_0x58bcb1,_0x2e21cd){_0x58bcb1=_0x58bcb1-0x1e7;let _0x2deab3=_0x8d271b[_0x58bcb1];return _0x2deab3;},_0x58bc(_0x38c208,_0x526872);}let settings={...defaultSettings};function loadSettings(){const _0x64b627=_0x509c9a,_0x5d1a53={'UzrUp':'5|2|7|6|11|13|12|9|10|3|1|0|4|8','PTEjp':_0x64b627(0x20d),'eklYU':'apiToken','JsHNe':_0x64b627(0x22d),'vAYwB':_0x64b627(0x20a),'QmnGC':_0x64b627(0x22a),'ICMXa':_0x64b627(0x201),'Cgxae':_0x64b627(0x20b)},_0x47bfd0=_0x5d1a53[_0x64b627(0x1fe)][_0x64b627(0x1ec)]('|');let _0x199451=0x0;while(!![]){switch(_0x47bfd0[_0x199451++]){case'0':document['getElementById'](_0x5d1a53['PTEjp'])['value']=settings[_0x64b627(0x20d)];continue;case'1':document[_0x64b627(0x230)](_0x64b627(0x20a))[_0x64b627(0x215)]=settings['maxTokens'];continue;case'2':settings[_0x64b627(0x217)]=_0x2b2a3c[_0x64b627(0x202)](_0x5d1a53[_0x64b627(0x207)])||defaultSettings[_0x64b627(0x217)];continue;case'3':document[_0x64b627(0x230)](_0x64b627(0x22a))[_0x64b627(0x215)]=settings[_0x64b627(0x22a)];continue;case'4':document['getElementById'](_0x5d1a53['JsHNe'])['value']=settings[_0x64b627(0x22d)];continue;case'5':settings[_0x64b627(0x20b)]=_0x2b2a3c[_0x64b627(0x202)](_0x64b627(0x20b))||defaultSettings[_0x64b627(0x20b)];continue;case'6':settings['maxTokens']=_0x2b2a3c[_0x64b627(0x202)](_0x5d1a53[_0x64b627(0x223)])||defaultSettings[_0x64b627(0x20a)];continue;case'7':settings[_0x64b627(0x22a)]=_0x2b2a3c['getItem'](_0x5d1a53[_0x64b627(0x226)])||defaultSettings[_0x64b627(0x22a)];continue;case'8':document[_0x64b627(0x230)](_0x5d1a53[_0x64b627(0x205)])[_0x64b627(0x215)]=settings[_0x64b627(0x201)];continue;case'9':document[_0x64b627(0x230)](_0x5d1a53[_0x64b627(0x1fc)])[_0x64b627(0x215)]=settings[_0x64b627(0x20b)];continue;case'10':document['getElementById'](_0x64b627(0x217))['value']=settings[_0x64b627(0x217)];continue;case'11':settings[_0x64b627(0x20d)]=_0x2b2a3c[_0x64b627(0x202)](_0x5d1a53[_0x64b627(0x1f7)])||defaultSettings['temperature'];continue;case'12':settings[_0x64b627(0x201)]=_0x2b2a3c[_0x64b627(0x202)](_0x5d1a53[_0x64b627(0x205)])||defaultSettings[_0x64b627(0x201)];continue;case'13':settings[_0x64b627(0x22d)]=_0x2b2a3c[_0x64b627(0x202)](_0x5d1a53[_0x64b627(0x208)])||defaultSettings['topP'];continue;}break;}}function saveSettings(){const _0x312611=_0x509c9a,_0x2cd3ed={'GlmLT':_0x312611(0x20b),'gRLjf':_0x312611(0x217),'LDwiK':_0x312611(0x22a),'XCIPU':_0x312611(0x20a),'GUYRq':_0x312611(0x20d),'UiVho':_0x312611(0x201),'QhKqQ':'topP','jdqlb':function(_0x38ef26){return _0x38ef26();}};settings[_0x312611(0x20b)]=document[_0x312611(0x230)](_0x2cd3ed[_0x312611(0x1e8)])[_0x312611(0x215)],settings['apiToken']=document[_0x312611(0x230)](_0x2cd3ed[_0x312611(0x1f0)])['value'],settings[_0x312611(0x22a)]=document[_0x312611(0x230)](_0x2cd3ed[_0x312611(0x224)])[_0x312611(0x215)],settings[_0x312611(0x20a)]=document['getElementById'](_0x2cd3ed['XCIPU'])[_0x312611(0x215)],settings['temperature']=document[_0x312611(0x230)](_0x2cd3ed[_0x312611(0x1f4)])['value'],settings[_0x312611(0x22d)]=document[_0x312611(0x230)](_0x312611(0x22d))[_0x312611(0x215)],settings[_0x312611(0x201)]=document['getElementById'](_0x2cd3ed[_0x312611(0x1f2)])[_0x312611(0x215)],_0x2b2a3c[_0x312611(0x218)](_0x2cd3ed['GlmLT'],settings[_0x312611(0x20b)]),_0x2b2a3c[_0x312611(0x218)](_0x312611(0x217),settings[_0x312611(0x217)]),_0x2b2a3c['setItem'](_0x312611(0x22a),settings[_0x312611(0x22a)]),_0x2b2a3c[_0x312611(0x218)]('maxTokens',settings[_0x312611(0x20a)]),_0x2b2a3c[_0x312611(0x218)](_0x2cd3ed[_0x312611(0x1f4)],settings[_0x312611(0x20d)]),_0x2b2a3c[_0x312611(0x218)](_0x2cd3ed[_0x312611(0x1f3)],settings['topP']),_0x2b2a3c[_0x312611(0x218)](_0x2cd3ed[_0x312611(0x1f2)],settings[_0x312611(0x201)]),_0x2cd3ed[_0x312611(0x203)](toggleSettings);}function toggleSettings(){const _0xace789=_0x509c9a,_0x13c648={'BphjF':_0xace789(0x235),'VXUXe':function(_0x7a9265,_0x5d3c91){return _0x7a9265===_0x5d3c91;},'BiAeW':_0xace789(0x221),'WAcKI':_0xace789(0x20c)},_0x188c83=document[_0xace789(0x230)](_0x13c648[_0xace789(0x1fb)]);_0x188c83[_0xace789(0x225)][_0xace789(0x1ef)]=_0x13c648[_0xace789(0x210)](_0x188c83[_0xace789(0x225)][_0xace789(0x1ef)],_0x13c648[_0xace789(0x220)])?_0x13c648[_0xace789(0x22e)]:_0x13c648['BiAeW'];}window[_0x509c9a(0x238)]=toggleSettings,window[_0x509c9a(0x23b)]=sendMessage;async function sendMessage(){const _0x57f43c=_0x509c9a,_0x323c38={'BNCzn':_0x57f43c(0x20e),'JBSTV':function(_0x2be0b8,_0x4d8945,_0x4af666,_0x142aa6){return _0x2be0b8(_0x4d8945,_0x4af666,_0x142aa6);},'RxfvT':function(_0x3a1711,_0x55400b,_0x317734){return _0x3a1711(_0x55400b,_0x317734);},'QAiHx':_0x57f43c(0x21f),'cVhqn':_0x57f43c(0x234),'zNWQC':_0x57f43c(0x22f),'fuHle':_0x57f43c(0x232),'ShFmB':_0x57f43c(0x204),'xQtsx':'user','WnNVI':function(_0xcc929a,_0x47ed03){return _0xcc929a(_0x47ed03);},'yWkwu':function(_0x198852,_0x218c9c){return _0x198852(_0x218c9c);},'QLDMH':function(_0x5a6189,_0x43e7d5){return _0x5a6189(_0x43e7d5);},'GTWMG':_0x57f43c(0x23a),'kodzI':function(_0x4f8852,_0x29aad1){return _0x4f8852>_0x29aad1;},'IbtRc':function(_0x7ef100,_0x717095,_0x437860,_0x347c03){return _0x7ef100(_0x717095,_0x437860,_0x347c03);},'bWxJA':function(_0x3d4ce9,_0x47d7f2){return _0x3d4ce9(_0x47d7f2);},'InnwI':_0x57f43c(0x222),'sbUKL':function(_0x594c7e){return _0x594c7e();}},_0x73ed45=document[_0x57f43c(0x230)](_0x323c38[_0x57f43c(0x1f8)])['value'];if(!_0x73ed45)return;_0x323c38[_0x57f43c(0x22c)](appendMessage,document[_0x57f43c(0x230)]('chat-window'),_0x73ed45,_0x57f43c(0x1ff)),document[_0x57f43c(0x230)]('user-input')['value']='',_0x323c38[_0x57f43c(0x21a)](showTypingIndicator,document[_0x57f43c(0x230)](_0x323c38[_0x57f43c(0x1f6)]),_0x323c38[_0x57f43c(0x21c)]);try{const _0x485581=await fetch(settings[_0x57f43c(0x20b)]+_0x57f43c(0x1e7),{'method':_0x323c38['zNWQC'],'headers':{'Authorization':_0x57f43c(0x1f1)+settings[_0x57f43c(0x217)],'Content-Type':_0x323c38[_0x57f43c(0x21e)]},'body':JSON[_0x57f43c(0x1ee)]({'model':settings[_0x57f43c(0x22a)],'messages':[{'role':_0x323c38['ShFmB'],'content':settings[_0x57f43c(0x201)]},{'role':_0x323c38['xQtsx'],'content':_0x73ed45}],'max_tokens':_0x323c38[_0x57f43c(0x209)](parseInt,settings[_0x57f43c(0x20a)]),'temperature':_0x323c38['yWkwu'](parseFloat,settings[_0x57f43c(0x20d)]),'top_p':_0x323c38[_0x57f43c(0x212)](parseFloat,settings[_0x57f43c(0x22d)]),'frequency_penalty':0.5,'seed':0x1,'response_format':{'type':_0x323c38[_0x57f43c(0x216)]}})}),_0x1675b4=await _0x485581['json']();hideTypingIndicator();if(_0x1675b4[_0x57f43c(0x21d)]&&_0x323c38['kodzI'](_0x1675b4['choices'][_0x57f43c(0x214)],0x0)){const _0x5e9b0e=_0x1675b4['choices'][0x0][_0x57f43c(0x20f)]['content'];_0x323c38[_0x57f43c(0x200)](appendMessage,document[_0x57f43c(0x230)](_0x57f43c(0x21f)),_0x5e9b0e,'ai');let _0x2c388b;try{_0x2c388b=JSON['parse'](_0x5e9b0e),_0x323c38[_0x57f43c(0x227)](appendQuiz,_0x2c388b);}catch(_0x558032){_0x323c38[_0x57f43c(0x200)](appendMessage,document['getElementById'](_0x323c38[_0x57f43c(0x1f6)]),_0x323c38[_0x57f43c(0x206)],'ai');}}}catch(_0x216879){appendMessage(document[_0x57f43c(0x230)](_0x323c38[_0x57f43c(0x1f6)]),_0x57f43c(0x1eb)+_0x216879[_0x57f43c(0x20f)],'ai');}finally{_0x323c38['sbUKL'](hideTypingIndicator);}}function speakMessage(_0x16748b){const _0x3640ac=_0x509c9a,_0x15291b=new SpeechSynthesisUtterance(_0x16748b);_0x15291b[_0x3640ac(0x21b)]=_0x3640ac(0x1e9),window[_0x3640ac(0x239)]['speak'](_0x15291b);}window[_0x509c9a(0x1ed)]=loadSettings;