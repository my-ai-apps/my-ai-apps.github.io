
/*!
Copyright © 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
function _0x332d(){const _0x362834=['user','pubki','zpHdY','gGssG','system','181885QoKCzX','sk-proj-66666666666666666666666666666666','CqxaA','230172gCWdrK','iCcaz','7RskpQc','flex','chat-window','ZoUSg','8|7|0|12|9|3|1|5|4|11|6|10|13|2','Based\x20on\x20the\x20user’s\x20input,\x20determine\x20the\x20intended\x20quiz\x20topic.\x20Create\x20a\x20JSON\x20object\x20containing\x20a\x20set\x20of\x205\x20multiple-choice\x20questions\x20relevant\x20to\x20that\x20topic.\x20Each\x20question\x20should\x20include\x20the\x20fields\x20\x27question\x27\x20(the\x20quiz\x20question),\x20\x27options\x27\x20(single\x20answer\x20choice).\x20Format\x20the\x20output\x20to\x20the\x20pattern\x20below\x20{\x20\x27topic\x27:\x20\x27example_topic\x27,\x20\x27questions\x27:\x20[\x20{\x20\x27question\x27:\x20\x27Example\x20question?\x27,\x20\x27options\x27:\x20[\x27Option\x20A\x27],\x20\x27correctAnswer\x27:\x20\x27Option\x20B\x27\x20}\x20]\x20}','OifSa','speak','temperature','0|4|13|12|9|2|11|1|3|10|14|5|7|6|8','parse','lang','style','apiUrl','8EIGMmk','RAPUy','286dWpShf','aLfSh','message','70jOyzGf','Error:\x20Could\x20not\x20parse\x20JSON\x20response.','VnHvR','POST','sendMessage','choices','openai/Qwen2.5','AsIfH','setItem','settings','fEGhm','none','systemPrompt','klQyC','NFCNe','AI\x20is\x20typing...','apiToken','onload','leVRA','189774fkQvEz','getElementById','/chat/completions','GpnGN','1774020XzCExw','24444MtKycn','toggleSettings','aVDTJ','topP','XtWjq','12hLIAsV','TdNPg','display','bETWw','modelName','mhNCy','EDNYN','http://localhost:1234/v1','json_object','application/json','USLck','294608HcTcGW','386179qApnou','stringify','ZfmSB','XGNYc','QGrKF','getItem','maxTokens','MVVEm','HOMlD','CGfdX','DcOCV','content','speechSynthesis','value'];_0x332d=function(){return _0x362834;};return _0x332d();}const _0x1b7e36=_0x42d0;(function(_0x266251,_0x37a453){const _0x9cd34b=_0x42d0,_0x44dffd=_0x266251();while(!![]){try{const _0x3f3c61=parseInt(_0x9cd34b(0xd7))/0x1+-parseInt(_0x9cd34b(0xa9))/0x2*(-parseInt(_0x9cd34b(0x99))/0x3)+parseInt(_0x9cd34b(0xcb))/0x4*(parseInt(_0x9cd34b(0x96))/0x5)+parseInt(_0x9cd34b(0xc5))/0x6*(-parseInt(_0x9cd34b(0x9b))/0x7)+-parseInt(_0x9cd34b(0xd6))/0x8+-parseInt(_0x9cd34b(0xc1))/0x9*(parseInt(_0x9cd34b(0xae))/0xa)+-parseInt(_0x9cd34b(0xab))/0xb*(-parseInt(_0x9cd34b(0xc6))/0xc);if(_0x3f3c61===_0x37a453)break;else _0x44dffd['push'](_0x44dffd['shift']());}catch(_0x368f88){_0x44dffd['push'](_0x44dffd['shift']());}}}(_0x332d,0x5b91e));import _0x128637 from'./store.js';import{appendMessage,showTypingIndicator,hideTypingIndicator}from'./common.js';const defaultSettings={'apiUrl':_0x1b7e36(0xd2),'apiToken':_0x1b7e36(0x97),'modelName':_0x1b7e36(0xb4),'maxTokens':0x1000,'temperature':0.7,'topP':0x1,'systemPrompt':_0x1b7e36(0xa0)};let settings={...defaultSettings};function loadSettings(){const _0x22a177=_0x1b7e36,_0x5ed5c2={'iCcaz':_0x22a177(0x9f),'mhNCy':'systemPrompt','gGssG':_0x22a177(0xc9),'CGfdX':_0x22a177(0xbe),'TdNPg':'apiUrl','aZzMl':'temperature','aJmmk':'modelName','DcOCV':_0x22a177(0x89)},_0x42fea2=_0x5ed5c2[_0x22a177(0x9a)]['split']('|');let _0x2940a8=0x0;while(!![]){switch(_0x42fea2[_0x2940a8++]){case'0':settings[_0x22a177(0xcf)]=_0x128637['getItem']('modelName')||defaultSettings[_0x22a177(0xcf)];continue;case'1':settings[_0x22a177(0xba)]=_0x128637[_0x22a177(0x88)](_0x5ed5c2[_0x22a177(0xd0)])||defaultSettings[_0x22a177(0xba)];continue;case'2':document[_0x22a177(0xc2)](_0x5ed5c2['mhNCy'])[_0x22a177(0x90)]=settings[_0x22a177(0xba)];continue;case'3':settings[_0x22a177(0xc9)]=_0x128637['getItem'](_0x5ed5c2['gGssG'])||defaultSettings[_0x22a177(0xc9)];continue;case'4':document['getElementById'](_0x5ed5c2[_0x22a177(0x8c)])[_0x22a177(0x90)]=settings[_0x22a177(0xbe)];continue;case'5':document[_0x22a177(0xc2)](_0x22a177(0xa8))[_0x22a177(0x90)]=settings['apiUrl'];continue;case'6':document[_0x22a177(0xc2)](_0x22a177(0x89))['value']=settings[_0x22a177(0x89)];continue;case'7':settings[_0x22a177(0xbe)]=_0x128637[_0x22a177(0x88)](_0x5ed5c2[_0x22a177(0x8c)])||defaultSettings[_0x22a177(0xbe)];continue;case'8':settings[_0x22a177(0xa8)]=_0x128637[_0x22a177(0x88)](_0x5ed5c2[_0x22a177(0xcc)])||defaultSettings[_0x22a177(0xa8)];continue;case'9':settings[_0x22a177(0xa3)]=_0x128637['getItem'](_0x22a177(0xa3))||defaultSettings[_0x22a177(0xa3)];continue;case'10':document[_0x22a177(0xc2)](_0x5ed5c2['aZzMl'])[_0x22a177(0x90)]=settings[_0x22a177(0xa3)];continue;case'11':document[_0x22a177(0xc2)](_0x5ed5c2['aJmmk'])['value']=settings['modelName'];continue;case'12':settings['maxTokens']=_0x128637[_0x22a177(0x88)](_0x5ed5c2[_0x22a177(0x8d)])||defaultSettings[_0x22a177(0x89)];continue;case'13':document[_0x22a177(0xc2)](_0x5ed5c2[_0x22a177(0x94)])['value']=settings['topP'];continue;}break;}}function saveSettings(){const _0xbdf48a=_0x1b7e36,_0x5e355b={'ZoUSg':_0xbdf48a(0xa4),'MVVEm':_0xbdf48a(0xa8),'XtWjq':_0xbdf48a(0xc9),'USLck':'apiToken','XGNYc':_0xbdf48a(0xa3),'uwqhR':function(_0x2b1a05){return _0x2b1a05();},'HOMlD':_0xbdf48a(0xcf),'OifSa':'systemPrompt','RAPUy':_0xbdf48a(0x89)},_0x3f04f8=_0x5e355b[_0xbdf48a(0x9e)]['split']('|');let _0x4399b6=0x0;while(!![]){switch(_0x3f04f8[_0x4399b6++]){case'0':settings[_0xbdf48a(0xa8)]=document[_0xbdf48a(0xc2)](_0x5e355b[_0xbdf48a(0x8a)])[_0xbdf48a(0x90)];continue;case'1':_0x128637['setItem'](_0xbdf48a(0xa8),settings[_0xbdf48a(0xa8)]);continue;case'2':settings['topP']=document[_0xbdf48a(0xc2)](_0x5e355b[_0xbdf48a(0xca)])[_0xbdf48a(0x90)];continue;case'3':_0x128637[_0xbdf48a(0xb6)](_0x5e355b[_0xbdf48a(0xd5)],settings[_0xbdf48a(0xbe)]);continue;case'4':settings[_0xbdf48a(0xbe)]=document[_0xbdf48a(0xc2)](_0x5e355b[_0xbdf48a(0xd5)])[_0xbdf48a(0x90)];continue;case'5':_0x128637[_0xbdf48a(0xb6)](_0x5e355b[_0xbdf48a(0x86)],settings[_0xbdf48a(0xa3)]);continue;case'6':_0x128637[_0xbdf48a(0xb6)](_0xbdf48a(0xba),settings[_0xbdf48a(0xba)]);continue;case'7':_0x128637[_0xbdf48a(0xb6)](_0x5e355b[_0xbdf48a(0xca)],settings[_0xbdf48a(0xc9)]);continue;case'8':_0x5e355b['uwqhR'](toggleSettings);continue;case'9':settings[_0xbdf48a(0xa3)]=document[_0xbdf48a(0xc2)](_0x5e355b['XGNYc'])['value'];continue;case'10':_0x128637[_0xbdf48a(0xb6)](_0x5e355b[_0xbdf48a(0x8b)],settings['modelName']);continue;case'11':settings[_0xbdf48a(0xba)]=document['getElementById'](_0x5e355b[_0xbdf48a(0xa1)])[_0xbdf48a(0x90)];continue;case'12':settings[_0xbdf48a(0x89)]=document[_0xbdf48a(0xc2)](_0x5e355b['RAPUy'])[_0xbdf48a(0x90)];continue;case'13':settings[_0xbdf48a(0xcf)]=document[_0xbdf48a(0xc2)](_0xbdf48a(0xcf))['value'];continue;case'14':_0x128637[_0xbdf48a(0xb6)](_0x5e355b[_0xbdf48a(0xaa)],settings[_0xbdf48a(0x89)]);continue;}break;}}function toggleSettings(){const _0xbc4bfe=_0x1b7e36,_0x1d953f={'knZap':_0xbc4bfe(0xb7),'pubki':_0xbc4bfe(0x9c),'fEGhm':_0xbc4bfe(0xb9)},_0x21fb16=document[_0xbc4bfe(0xc2)](_0x1d953f['knZap']);_0x21fb16[_0xbc4bfe(0xa7)][_0xbc4bfe(0xcd)]=_0x21fb16['style'][_0xbc4bfe(0xcd)]===_0x1d953f[_0xbc4bfe(0x92)]?_0x1d953f[_0xbc4bfe(0xb8)]:_0x1d953f[_0xbc4bfe(0x92)];}window[_0x1b7e36(0xc7)]=toggleSettings,window[_0x1b7e36(0xb2)]=sendMessage;function _0x42d0(_0xfbaa99,_0x165491){const _0x332df4=_0x332d();return _0x42d0=function(_0x42d09c,_0x2f37f0){_0x42d09c=_0x42d09c-0x85;let _0xfe5ff0=_0x332df4[_0x42d09c];return _0xfe5ff0;},_0x42d0(_0xfbaa99,_0x165491);}async function sendMessage(){const _0x3fa265=_0x1b7e36,_0x287d99={'aVDTJ':'user-input','vmCsn':function(_0xf07f95,_0x842853,_0x448c1a,_0x1e6329){return _0xf07f95(_0x842853,_0x448c1a,_0x1e6329);},'GpnGN':_0x3fa265(0x9d),'CYbSf':'user','VnHvR':function(_0x287609,_0x55f5a6,_0x5605b2){return _0x287609(_0x55f5a6,_0x5605b2);},'aLfSh':_0x3fa265(0xbd),'ZfmSB':function(_0x38bdef,_0x2f96f2,_0x5b85d0){return _0x38bdef(_0x2f96f2,_0x5b85d0);},'bETWw':_0x3fa265(0xd4),'CqxaA':function(_0x2f7a97,_0xb63e1a){return _0x2f7a97(_0xb63e1a);},'klQyC':function(_0x2de989){return _0x2de989();},'EDNYN':function(_0x4d5f3f,_0xb6b80e){return _0x4d5f3f>_0xb6b80e;},'AsIfH':function(_0x3cc405,_0x36508e,_0x5ca791,_0xb71157){return _0x3cc405(_0x36508e,_0x5ca791,_0xb71157);},'leVRA':function(_0x3593d3,_0x5d9901){return _0x3593d3(_0x5d9901);},'NFCNe':_0x3fa265(0xaf),'QGrKF':function(_0x99bec,_0x413b09){return _0x99bec+_0x413b09;},'zpHdY':'Error:\x20Failed\x20to\x20fetch\x20AI\x20response:\x20'},_0x1c756f=document[_0x3fa265(0xc2)](_0x287d99[_0x3fa265(0xc8)])[_0x3fa265(0x90)];if(!_0x1c756f)return;_0x287d99['vmCsn'](appendMessage,document[_0x3fa265(0xc2)](_0x287d99[_0x3fa265(0xc4)]),_0x1c756f,_0x287d99['CYbSf']),document[_0x3fa265(0xc2)](_0x287d99[_0x3fa265(0xc8)])[_0x3fa265(0x90)]='',_0x287d99[_0x3fa265(0xb0)](showTypingIndicator,document[_0x3fa265(0xc2)](_0x287d99[_0x3fa265(0xc4)]),_0x287d99[_0x3fa265(0xac)]);try{const _0x426099=await _0x287d99[_0x3fa265(0x85)](fetch,settings[_0x3fa265(0xa8)]+_0x3fa265(0xc3),{'method':_0x3fa265(0xb1),'headers':{'Authorization':'Bearer\x20'+settings[_0x3fa265(0xbe)],'Content-Type':_0x287d99[_0x3fa265(0xce)]},'body':JSON[_0x3fa265(0xd8)]({'model':settings[_0x3fa265(0xcf)],'messages':[{'role':_0x3fa265(0x95),'content':settings[_0x3fa265(0xba)]},{'role':_0x3fa265(0x91),'content':_0x1c756f}],'max_tokens':_0x287d99[_0x3fa265(0x98)](parseInt,settings[_0x3fa265(0x89)]),'temperature':parseFloat(settings['temperature']),'top_p':_0x287d99[_0x3fa265(0x98)](parseFloat,settings[_0x3fa265(0xc9)]),'frequency_penalty':0.5,'seed':0x1,'response_format':{'type':_0x3fa265(0xd3)}})}),_0x44f44a=await _0x426099['json']();_0x287d99[_0x3fa265(0xbb)](hideTypingIndicator);if(_0x44f44a[_0x3fa265(0xb3)]&&_0x287d99[_0x3fa265(0xd1)](_0x44f44a[_0x3fa265(0xb3)]['length'],0x0)){const _0x2acc35=_0x44f44a[_0x3fa265(0xb3)][0x0][_0x3fa265(0xad)][_0x3fa265(0x8e)];_0x287d99[_0x3fa265(0xb5)](appendMessage,document[_0x3fa265(0xc2)](_0x287d99[_0x3fa265(0xc4)]),_0x2acc35,'ai');let _0x22e3b8;try{_0x22e3b8=JSON[_0x3fa265(0xa5)](_0x2acc35),_0x287d99[_0x3fa265(0xc0)](appendQuiz,_0x22e3b8);}catch(_0x4221eb){_0x287d99[_0x3fa265(0xb5)](appendMessage,document[_0x3fa265(0xc2)](_0x287d99[_0x3fa265(0xc4)]),_0x287d99[_0x3fa265(0xbc)],'ai');}}}catch(_0x4a35b1){_0x287d99[_0x3fa265(0xb5)](appendMessage,document[_0x3fa265(0xc2)](_0x287d99['GpnGN']),_0x287d99[_0x3fa265(0x87)](_0x287d99[_0x3fa265(0x93)],_0x4a35b1[_0x3fa265(0xad)]),'ai');}finally{_0x287d99[_0x3fa265(0xbb)](hideTypingIndicator);}}function speakMessage(_0x38c82f){const _0x42bea1=_0x1b7e36,_0x44a9c3=new SpeechSynthesisUtterance(_0x38c82f);_0x44a9c3[_0x42bea1(0xa6)]='en-US',window[_0x42bea1(0x8f)][_0x42bea1(0xa2)](_0x44a9c3);}window[_0x1b7e36(0xbf)]=loadSettings;