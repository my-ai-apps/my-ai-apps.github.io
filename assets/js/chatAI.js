
/*!
Copyright © 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x3b85dd=_0x3da3;(function(_0x219f97,_0x7576b){const _0x52a77e=_0x3da3,_0xd571c9=_0x219f97();while(!![]){try{const _0x1112fe=-parseInt(_0x52a77e(0x9a))/0x1*(-parseInt(_0x52a77e(0x86))/0x2)+parseInt(_0x52a77e(0xc3))/0x3*(-parseInt(_0x52a77e(0xa8))/0x4)+-parseInt(_0x52a77e(0xb4))/0x5+parseInt(_0x52a77e(0x7e))/0x6+-parseInt(_0x52a77e(0xb2))/0x7+parseInt(_0x52a77e(0xc0))/0x8+parseInt(_0x52a77e(0xc1))/0x9;if(_0x1112fe===_0x7576b)break;else _0xd571c9['push'](_0xd571c9['shift']());}catch(_0x3c4620){_0xd571c9['push'](_0xd571c9['shift']());}}}(_0x3630,0xefcfa));import _0x5625d0 from'./store.js';function _0x3630(){const _0x21eebb=['7468204jVLDcn','POST','3|8|0|6|10|4|5|12|7|11|2|13|9|1','apiToken','cMysi','AI\x20is\x20typing...','pTauq','Based\x20on\x20the\x20user’s\x20input,\x20determine\x20the\x20intended\x20quiz\x20topic.\x20Create\x20a\x20JSON\x20object\x20containing\x20a\x20set\x20of\x205\x20multiple-choice\x20questions\x20relevant\x20to\x20that\x20topic.\x20Each\x20question\x20should\x20include\x20the\x20fields\x20\x27question\x27\x20(the\x20quiz\x20question),\x20\x27options\x27\x20(single\x20answer\x20choice).\x20Format\x20the\x20output\x20to\x20the\x20pattern\x20below\x20{\x20\x27topic\x27:\x20\x27example_topic\x27,\x20\x27questions\x27:\x20[\x20{\x20\x27question\x27:\x20\x27Example\x20question?\x27,\x20\x27options\x27:\x20[\x27Option\x20A\x27],\x20\x27correctAnswer\x27:\x20\x27Option\x20B\x27\x20}\x20]\x20}','aZjhZ','speechSynthesis','11319448cdRiVP','display','6076265iushAF','ZyqeF','json_object','Error:\x20Failed\x20to\x20fetch\x20AI\x20response:\x20','WuehL','choices','ZPXbh','jiJqi','getElementById','rImNs','tuDdW','jdlkr','7975800yhTxKF','27613089XwcGuC','value','3VxNOBU','yvwAr','chat-window','lang','systemPrompt','en-US','sQXzw','flex','temperature','http://localhost:1234/v1','682050YLVfMk','zHSpV','user','Lhkyy','style','MXmqd','split','euUxJ','2EfkOrQ','XrZlk','sendMessage','hMGxZ','WlwNv','Wfpuo','content','json','openai/Qwen2.5','setItem','ihaqI','11|0|3|6|10|4|13|1|5|8|14|9|7|2|12','toggleSettings','XGegC','TCauH','onload','maxTokens','application/json','stringify','topP','1502863VDgLxO','HZdsM','length','modelName','TBreX','Bearer\x20','apiUrl','ucUyS','YxQep','YgHWs','parse','getItem','/chat/completions','ScmUt'];_0x3630=function(){return _0x21eebb;};return _0x3630();}import{appendMessage,showTypingIndicator,hideTypingIndicator}from'./common.js';const defaultSettings={'apiUrl':_0x3b85dd(0x7d),'apiToken':'sk-proj-66666666666666666666666666666666','modelName':_0x3b85dd(0x8e),'maxTokens':0x1000,'temperature':0.7,'topP':0x1,'systemPrompt':_0x3b85dd(0xaf)};let settings={...defaultSettings};function _0x3da3(_0x50c09e,_0x47fbcd){const _0x36300a=_0x3630();return _0x3da3=function(_0x3da328,_0x85cff6){_0x3da328=_0x3da328-0x79;let _0x305bda=_0x36300a[_0x3da328];return _0x305bda;},_0x3da3(_0x50c09e,_0x47fbcd);}function loadSettings(){const _0x5e9a21=_0x3b85dd,_0x2d4231={'ScmUt':_0x5e9a21(0xaa),'aZjhZ':_0x5e9a21(0x9d),'YgHWs':_0x5e9a21(0xa0),'pTauq':_0x5e9a21(0xc7),'jdlkr':_0x5e9a21(0xab),'ZPXbh':'topP','tuDdW':_0x5e9a21(0x7c)},_0x520979=_0x2d4231[_0x5e9a21(0xa7)][_0x5e9a21(0x84)]('|');let _0x584ef9=0x0;while(!![]){switch(_0x520979[_0x584ef9++]){case'0':settings['modelName']=_0x5625d0[_0x5e9a21(0xa5)](_0x2d4231[_0x5e9a21(0xb0)])||defaultSettings[_0x5e9a21(0x9d)];continue;case'1':document[_0x5e9a21(0xbc)](_0x5e9a21(0xc7))[_0x5e9a21(0xc2)]=settings[_0x5e9a21(0xc7)];continue;case'2':document[_0x5e9a21(0xbc)](_0x5e9a21(0x96))['value']=settings[_0x5e9a21(0x96)];continue;case'3':settings[_0x5e9a21(0xa0)]=_0x5625d0['getItem'](_0x2d4231[_0x5e9a21(0xa3)])||defaultSettings['apiUrl'];continue;case'4':settings[_0x5e9a21(0x99)]=_0x5625d0['getItem']('topP')||defaultSettings[_0x5e9a21(0x99)];continue;case'5':settings[_0x5e9a21(0xc7)]=_0x5625d0[_0x5e9a21(0xa5)](_0x2d4231[_0x5e9a21(0xae)])||defaultSettings['systemPrompt'];continue;case'6':settings[_0x5e9a21(0x96)]=_0x5625d0['getItem'](_0x5e9a21(0x96))||defaultSettings[_0x5e9a21(0x96)];continue;case'7':document[_0x5e9a21(0xbc)](_0x2d4231[_0x5e9a21(0xbf)])[_0x5e9a21(0xc2)]=settings[_0x5e9a21(0xab)];continue;case'8':settings[_0x5e9a21(0xab)]=_0x5625d0[_0x5e9a21(0xa5)](_0x5e9a21(0xab))||defaultSettings[_0x5e9a21(0xab)];continue;case'9':document['getElementById'](_0x2d4231[_0x5e9a21(0xba)])[_0x5e9a21(0xc2)]=settings['topP'];continue;case'10':settings[_0x5e9a21(0x7c)]=_0x5625d0[_0x5e9a21(0xa5)](_0x2d4231[_0x5e9a21(0xbe)])||defaultSettings['temperature'];continue;case'11':document[_0x5e9a21(0xbc)](_0x2d4231[_0x5e9a21(0xb0)])['value']=settings['modelName'];continue;case'12':document[_0x5e9a21(0xbc)](_0x5e9a21(0xa0))[_0x5e9a21(0xc2)]=settings[_0x5e9a21(0xa0)];continue;case'13':document['getElementById'](_0x2d4231['tuDdW'])[_0x5e9a21(0xc2)]=settings['temperature'];continue;}break;}}function saveSettings(){const _0x4b4750=_0x3b85dd,_0x3025a5={'ZJeGB':_0x4b4750(0x91),'TCauH':_0x4b4750(0xab),'zHSpV':_0x4b4750(0xa0),'ucUyS':'modelName','XGegC':'maxTokens','Pyyyk':_0x4b4750(0x99),'XrZlk':function(_0x5da6b8){return _0x5da6b8();},'HZdsM':'systemPrompt'},_0xc88913=_0x3025a5['ZJeGB']['split']('|');let _0x3ff951=0x0;while(!![]){switch(_0xc88913[_0x3ff951++]){case'0':settings[_0x4b4750(0xab)]=document['getElementById'](_0x3025a5[_0x4b4750(0x94)])[_0x4b4750(0xc2)];continue;case'1':_0x5625d0[_0x4b4750(0x8f)](_0x3025a5[_0x4b4750(0x7f)],settings['apiUrl']);continue;case'2':_0x5625d0[_0x4b4750(0x8f)](_0x4b4750(0xc7),settings[_0x4b4750(0xc7)]);continue;case'3':settings[_0x4b4750(0x9d)]=document[_0x4b4750(0xbc)](_0x3025a5[_0x4b4750(0xa1)])['value'];continue;case'4':settings[_0x4b4750(0x99)]=document[_0x4b4750(0xbc)]('topP')[_0x4b4750(0xc2)];continue;case'5':_0x5625d0[_0x4b4750(0x8f)](_0x3025a5['TCauH'],settings[_0x4b4750(0xab)]);continue;case'6':settings[_0x4b4750(0x96)]=document[_0x4b4750(0xbc)](_0x3025a5[_0x4b4750(0x93)])[_0x4b4750(0xc2)];continue;case'7':_0x5625d0[_0x4b4750(0x8f)](_0x3025a5['Pyyyk'],settings[_0x4b4750(0x99)]);continue;case'8':_0x5625d0[_0x4b4750(0x8f)](_0x3025a5['ucUyS'],settings[_0x4b4750(0x9d)]);continue;case'9':_0x5625d0[_0x4b4750(0x8f)](_0x4b4750(0x7c),settings[_0x4b4750(0x7c)]);continue;case'10':settings[_0x4b4750(0x7c)]=document[_0x4b4750(0xbc)](_0x4b4750(0x7c))[_0x4b4750(0xc2)];continue;case'11':settings[_0x4b4750(0xa0)]=document[_0x4b4750(0xbc)](_0x3025a5[_0x4b4750(0x7f)])[_0x4b4750(0xc2)];continue;case'12':_0x3025a5[_0x4b4750(0x87)](toggleSettings);continue;case'13':settings[_0x4b4750(0xc7)]=document['getElementById'](_0x3025a5[_0x4b4750(0x9b)])['value'];continue;case'14':_0x5625d0[_0x4b4750(0x8f)](_0x3025a5[_0x4b4750(0x93)],settings[_0x4b4750(0x96)]);continue;}break;}}function toggleSettings(){const _0xce80d9=_0x3b85dd,_0x180a63={'TBreX':'settings','YxQep':'flex'},_0x514eb4=document[_0xce80d9(0xbc)](_0x180a63[_0xce80d9(0x9e)]);_0x514eb4[_0xce80d9(0x82)][_0xce80d9(0xb3)]=_0x514eb4[_0xce80d9(0x82)][_0xce80d9(0xb3)]===_0x180a63[_0xce80d9(0xa2)]?'none':_0xce80d9(0x7b);}window[_0x3b85dd(0x92)]=toggleSettings,window[_0x3b85dd(0x88)]=sendMessage;async function sendMessage(){const _0x506701=_0x3b85dd,_0x32d320={'yvwAr':'user-input','sQXzw':function(_0x13d75a,_0x4dd09a,_0x486e84,_0x24d957){return _0x13d75a(_0x4dd09a,_0x486e84,_0x24d957);},'jiJqi':_0x506701(0xc5),'MXmqd':_0x506701(0x80),'Lhkyy':function(_0x36cbdb,_0xc1c112,_0x32a101){return _0x36cbdb(_0xc1c112,_0x32a101);},'tJmAh':_0x506701(0xad),'ZyqeF':_0x506701(0xa9),'ihaqI':_0x506701(0x97),'hMGxZ':function(_0x1de1a4,_0x3ee20b){return _0x1de1a4(_0x3ee20b);},'euUxJ':function(_0x49a011){return _0x49a011();},'WlwNv':function(_0x56063d,_0x3ec866){return _0x56063d>_0x3ec866;},'rImNs':function(_0x5bd681,_0x1decdb,_0x19d2a9,_0x154f8e){return _0x5bd681(_0x1decdb,_0x19d2a9,_0x154f8e);},'Wfpuo':function(_0x504c66,_0x22ddf9){return _0x504c66(_0x22ddf9);},'NNYjY':'Error:\x20Could\x20not\x20parse\x20JSON\x20response.','WuehL':function(_0x2b51df,_0x49b598){return _0x2b51df+_0x49b598;},'cMysi':_0x506701(0xb7)},_0xdf2f14=document['getElementById'](_0x32d320[_0x506701(0xc4)])[_0x506701(0xc2)];if(!_0xdf2f14)return;_0x32d320[_0x506701(0x7a)](appendMessage,document[_0x506701(0xbc)](_0x32d320['jiJqi']),_0xdf2f14,_0x32d320['MXmqd']),document[_0x506701(0xbc)](_0x32d320[_0x506701(0xc4)])[_0x506701(0xc2)]='',_0x32d320['Lhkyy'](showTypingIndicator,document[_0x506701(0xbc)](_0x32d320[_0x506701(0xbb)]),_0x32d320['tJmAh']);try{const _0xbada1a=await _0x32d320[_0x506701(0x81)](fetch,settings[_0x506701(0xa0)]+_0x506701(0xa6),{'method':_0x32d320[_0x506701(0xb5)],'headers':{'Authorization':_0x506701(0x9f)+settings[_0x506701(0xab)],'Content-Type':_0x32d320[_0x506701(0x90)]},'body':JSON[_0x506701(0x98)]({'model':settings[_0x506701(0x9d)],'messages':[{'role':'system','content':settings[_0x506701(0xc7)]},{'role':_0x32d320[_0x506701(0x83)],'content':_0xdf2f14}],'max_tokens':_0x32d320[_0x506701(0x89)](parseInt,settings[_0x506701(0x96)]),'temperature':_0x32d320[_0x506701(0x89)](parseFloat,settings[_0x506701(0x7c)]),'top_p':_0x32d320[_0x506701(0x89)](parseFloat,settings[_0x506701(0x99)]),'frequency_penalty':0.5,'seed':0x1,'response_format':{'type':_0x506701(0xb6)}})}),_0x3512ee=await _0xbada1a[_0x506701(0x8d)]();_0x32d320[_0x506701(0x85)](hideTypingIndicator);if(_0x3512ee[_0x506701(0xb9)]&&_0x32d320[_0x506701(0x8a)](_0x3512ee['choices'][_0x506701(0x9c)],0x0)){const _0x8fd55b=_0x3512ee[_0x506701(0xb9)][0x0]['message'][_0x506701(0x8c)];_0x32d320[_0x506701(0xbd)](appendMessage,document[_0x506701(0xbc)](_0x506701(0xc5)),_0x8fd55b,'ai');let _0x2bc193;try{_0x2bc193=JSON[_0x506701(0xa4)](_0x8fd55b),_0x32d320[_0x506701(0x8b)](appendQuiz,_0x2bc193);}catch(_0x47b202){appendMessage(document[_0x506701(0xbc)](_0x32d320[_0x506701(0xbb)]),_0x32d320['NNYjY'],'ai');}}}catch(_0x1adb59){appendMessage(document[_0x506701(0xbc)](_0x32d320[_0x506701(0xbb)]),_0x32d320[_0x506701(0xb8)](_0x32d320[_0x506701(0xac)],_0x1adb59['message']),'ai');}finally{_0x32d320[_0x506701(0x85)](hideTypingIndicator);}}function speakMessage(_0x5a8155){const _0x4d00bd=_0x3b85dd,_0x3bfc0f={'ZghLv':_0x4d00bd(0x79)},_0x749e14=new SpeechSynthesisUtterance(_0x5a8155);_0x749e14[_0x4d00bd(0xc6)]=_0x3bfc0f['ZghLv'],window[_0x4d00bd(0xb1)]['speak'](_0x749e14);}window[_0x3b85dd(0x95)]=loadSettings;