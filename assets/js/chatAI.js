
/*!
Copyright © 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
const _0x753c83=_0x452b;(function(_0x39d889,_0x4423ca){const _0x125e6a=_0x452b,_0x4f9083=_0x39d889();while(!![]){try{const _0x435dd5=parseInt(_0x125e6a(0x21b))/0x1*(-parseInt(_0x125e6a(0x1ff))/0x2)+parseInt(_0x125e6a(0x207))/0x3*(parseInt(_0x125e6a(0x1e7))/0x4)+-parseInt(_0x125e6a(0x1e6))/0x5+-parseInt(_0x125e6a(0x1ea))/0x6+-parseInt(_0x125e6a(0x224))/0x7*(-parseInt(_0x125e6a(0x1e8))/0x8)+-parseInt(_0x125e6a(0x226))/0x9+parseInt(_0x125e6a(0x219))/0xa;if(_0x435dd5===_0x4423ca)break;else _0x4f9083['push'](_0x4f9083['shift']());}catch(_0x19d1e0){_0x4f9083['push'](_0x4f9083['shift']());}}}(_0x1e01,0x45323));import _0x7d97c3 from'./store.js';function _0x1e01(){const _0xbace79=['GckUW','THMhx','YVufo','AAktf','POST','sk-proj-66666666666666666666666666666666','modelName','message','1|5|8|11|13|9|2|12|10|0|3|6|7|14|4','jPfnb','display','UhugC','KLwFs','231815MoHUzR','27760zOcOol','486032uIDDjc','FNTPy','357522wITEiX','AI\x20is\x20typing...','apiUrl','MpPpJ','maxTokens','KNDrC','user','tyeYU','onload','sendMessage','content','/chat/completions','topP','EyBmf','rHEdQ','Error:\x20Failed\x20to\x20fetch\x20AI\x20response:\x20','CTevv','XVAKd','ZDepM','split','2|12|13|9|7|3|1|10|11|6|5|4|8|0','4CTKTxZ','ImCWE','Based\x20on\x20the\x20user’s\x20input,\x20determine\x20the\x20intended\x20quiz\x20topic.\x20Create\x20a\x20JSON\x20object\x20containing\x20a\x20set\x20of\x205\x20multiple-choice\x20questions\x20relevant\x20to\x20that\x20topic.\x20Each\x20question\x20should\x20include\x20the\x20fields\x20\x27question\x27\x20(the\x20quiz\x20question),\x20\x27options\x27\x20(single\x20answer\x20choice).\x20Format\x20the\x20output\x20to\x20the\x20pattern\x20below\x20{\x20\x27topic\x27:\x20\x27example_topic\x27,\x20\x27questions\x27:\x20[\x20{\x20\x27question\x27:\x20\x27Example\x20question?\x27,\x20\x27options\x27:\x20[\x27Option\x20A\x27],\x20\x27correctAnswer\x27:\x20\x27Option\x20B\x27\x20}\x20]\x20}','apiToken','systemPrompt','toggleSettings','NlpCB','temperature','81CjlIfk','none','getItem','Tazka','flex','Lcwnb','setItem','value','nMCVr','system','user-input','lang','nODAa','getElementById','TCeEQ','wPCFL','dAcZD','rJDJA','6617400mKWSQE','http://localhost:1234/v1','175723uufZey','chat-window','style','stringify','QLbuO','en-US','choices','Error:\x20Could\x20not\x20parse\x20JSON\x20response.','YuCMO','49VTOuDx','json','4802175YMyHod','openai/Qwen2.5'];_0x1e01=function(){return _0xbace79;};return _0x1e01();}import{appendMessage,showTypingIndicator,hideTypingIndicator}from'./common.js';const defaultSettings={'apiUrl':_0x753c83(0x21a),'apiToken':_0x753c83(0x1de),'modelName':_0x753c83(0x227),'maxTokens':0x1000,'temperature':0.7,'topP':0x1,'systemPrompt':_0x753c83(0x201)};let settings={...defaultSettings};function loadSettings(){const _0x452369=_0x753c83,_0x21c4d7={'QLbuO':_0x452369(0x203),'THMhx':_0x452369(0x1f6),'CTevv':_0x452369(0x206),'NlpCB':_0x452369(0x1ee),'AAktf':'modelName','XVAKd':_0x452369(0x202)},_0x2cccbc=_0x452369(0x1fe)[_0x452369(0x1fd)]('|');let _0x3265de=0x0;while(!![]){switch(_0x2cccbc[_0x3265de++]){case'0':document['getElementById'](_0x21c4d7[_0x452369(0x21f)])[_0x452369(0x20e)]=settings[_0x452369(0x203)];continue;case'1':settings[_0x452369(0x203)]=_0x7d97c3['getItem'](_0x21c4d7['QLbuO'])||defaultSettings['systemPrompt'];continue;case'2':settings['apiUrl']=_0x7d97c3['getItem'](_0x452369(0x1ec))||defaultSettings['apiUrl'];continue;case'3':settings['topP']=_0x7d97c3['getItem'](_0x21c4d7[_0x452369(0x229)])||defaultSettings[_0x452369(0x1f6)];continue;case'4':document[_0x452369(0x214)](_0x21c4d7['CTevv'])[_0x452369(0x20e)]=settings[_0x452369(0x206)];continue;case'5':document['getElementById'](_0x21c4d7[_0x452369(0x205)])[_0x452369(0x20e)]=settings[_0x452369(0x1ee)];continue;case'6':document[_0x452369(0x214)](_0x21c4d7[_0x452369(0x1dc)])[_0x452369(0x20e)]=settings['modelName'];continue;case'7':settings[_0x452369(0x206)]=_0x7d97c3[_0x452369(0x209)](_0x21c4d7[_0x452369(0x1fa)])||defaultSettings[_0x452369(0x206)];continue;case'8':document[_0x452369(0x214)](_0x21c4d7[_0x452369(0x229)])[_0x452369(0x20e)]=settings[_0x452369(0x1f6)];continue;case'9':settings[_0x452369(0x1ee)]=_0x7d97c3[_0x452369(0x209)](_0x21c4d7[_0x452369(0x205)])||defaultSettings[_0x452369(0x1ee)];continue;case'10':document[_0x452369(0x214)](_0x452369(0x1ec))[_0x452369(0x20e)]=settings[_0x452369(0x1ec)];continue;case'11':document[_0x452369(0x214)](_0x21c4d7[_0x452369(0x1fb)])[_0x452369(0x20e)]=settings[_0x452369(0x202)];continue;case'12':settings[_0x452369(0x202)]=_0x7d97c3[_0x452369(0x209)](_0x21c4d7[_0x452369(0x1fb)])||defaultSettings[_0x452369(0x202)];continue;case'13':settings[_0x452369(0x1df)]=_0x7d97c3[_0x452369(0x209)](_0x21c4d7[_0x452369(0x1dc)])||defaultSettings[_0x452369(0x1df)];continue;}break;}}function saveSettings(){const _0x1d53c6=_0x753c83,_0x1d16aa={'Lcwnb':_0x1d53c6(0x1e1),'ImCWE':'modelName','MpPpJ':_0x1d53c6(0x1ec),'GckUW':_0x1d53c6(0x203),'EyBmf':_0x1d53c6(0x1ee),'UhugC':_0x1d53c6(0x202),'qfylH':_0x1d53c6(0x1f6),'RtalT':'temperature'},_0x5f3dfb=_0x1d16aa[_0x1d53c6(0x20c)]['split']('|');let _0xdb521a=0x0;while(!![]){switch(_0x5f3dfb[_0xdb521a++]){case'0':_0x7d97c3[_0x1d53c6(0x20d)](_0x1d16aa[_0x1d53c6(0x200)],settings[_0x1d53c6(0x1df)]);continue;case'1':settings['apiUrl']=document['getElementById'](_0x1d16aa[_0x1d53c6(0x1ed)])[_0x1d53c6(0x20e)];continue;case'2':settings[_0x1d53c6(0x203)]=document[_0x1d53c6(0x214)](_0x1d16aa[_0x1d53c6(0x228)])[_0x1d53c6(0x20e)];continue;case'3':_0x7d97c3['setItem'](_0x1d16aa[_0x1d53c6(0x1f7)],settings[_0x1d53c6(0x1ee)]);continue;case'4':toggleSettings();continue;case'5':settings[_0x1d53c6(0x202)]=document[_0x1d53c6(0x214)](_0x1d16aa[_0x1d53c6(0x1e4)])[_0x1d53c6(0x20e)];continue;case'6':_0x7d97c3['setItem']('temperature',settings[_0x1d53c6(0x206)]);continue;case'7':_0x7d97c3[_0x1d53c6(0x20d)](_0x1d53c6(0x1f6),settings['topP']);continue;case'8':settings[_0x1d53c6(0x1df)]=document[_0x1d53c6(0x214)](_0x1d53c6(0x1df))[_0x1d53c6(0x20e)];continue;case'9':settings[_0x1d53c6(0x1f6)]=document[_0x1d53c6(0x214)](_0x1d16aa['qfylH'])[_0x1d53c6(0x20e)];continue;case'10':_0x7d97c3[_0x1d53c6(0x20d)](_0x1d16aa['UhugC'],settings[_0x1d53c6(0x202)]);continue;case'11':settings['maxTokens']=document['getElementById'](_0x1d53c6(0x1ee))['value'];continue;case'12':_0x7d97c3[_0x1d53c6(0x20d)](_0x1d16aa[_0x1d53c6(0x1ed)],settings[_0x1d53c6(0x1ec)]);continue;case'13':settings[_0x1d53c6(0x206)]=document[_0x1d53c6(0x214)](_0x1d16aa['RtalT'])[_0x1d53c6(0x20e)];continue;case'14':_0x7d97c3[_0x1d53c6(0x20d)](_0x1d53c6(0x203),settings[_0x1d53c6(0x203)]);continue;}break;}}function _0x452b(_0x17ed56,_0x4dda9b){const _0x1e01e3=_0x1e01();return _0x452b=function(_0x452bef,_0x2515d2){_0x452bef=_0x452bef-0x1db;let _0x54c5d0=_0x1e01e3[_0x452bef];return _0x54c5d0;},_0x452b(_0x17ed56,_0x4dda9b);}function toggleSettings(){const _0x3a6d33=_0x753c83,_0x381495={'nODAa':function(_0x4dcbfb,_0x14a809){return _0x4dcbfb===_0x14a809;},'TCeEQ':_0x3a6d33(0x20b),'rHEdQ':_0x3a6d33(0x208)},_0x11e6d4=document[_0x3a6d33(0x214)]('settings');_0x11e6d4[_0x3a6d33(0x21d)][_0x3a6d33(0x1e3)]=_0x381495[_0x3a6d33(0x213)](_0x11e6d4['style'][_0x3a6d33(0x1e3)],_0x381495[_0x3a6d33(0x215)])?_0x381495[_0x3a6d33(0x1f8)]:_0x381495[_0x3a6d33(0x215)];}window[_0x753c83(0x204)]=toggleSettings,window[_0x753c83(0x1f3)]=sendMessage;async function sendMessage(){const _0x4ae3df=_0x753c83,_0x4ad963={'rJDJA':_0x4ae3df(0x211),'dAcZD':function(_0x432491,_0x19ac47,_0x50a61b,_0xb388c){return _0x432491(_0x19ac47,_0x50a61b,_0xb388c);},'jPfnb':_0x4ae3df(0x1f0),'FNTPy':function(_0x2e3078,_0x3b2240,_0x509b7f){return _0x2e3078(_0x3b2240,_0x509b7f);},'ZDepM':_0x4ae3df(0x1dd),'GuJlh':'application/json','wPCFL':function(_0x1747ce,_0x166d3e){return _0x1747ce(_0x166d3e);},'MmPuC':function(_0x45e813,_0x212cf1){return _0x45e813(_0x212cf1);},'Tazka':'json_object','nMCVr':function(_0x76078a){return _0x76078a();},'tyeYU':function(_0x4225d7,_0xe9c668){return _0x4225d7>_0xe9c668;},'KNDrC':_0x4ae3df(0x21c),'YVufo':_0x4ae3df(0x222),'YuCMO':function(_0xf2a4ef,_0x1222c6){return _0xf2a4ef+_0x1222c6;},'KLwFs':function(_0x584fe6){return _0x584fe6();}},_0x355db8=document[_0x4ae3df(0x214)](_0x4ad963[_0x4ae3df(0x218)])['value'];if(!_0x355db8)return;_0x4ad963['dAcZD'](appendMessage,document[_0x4ae3df(0x214)]('chat-window'),_0x355db8,_0x4ad963[_0x4ae3df(0x1e2)]),document[_0x4ae3df(0x214)](_0x4ad963['rJDJA'])[_0x4ae3df(0x20e)]='',showTypingIndicator(document[_0x4ae3df(0x214)]('chat-window'),_0x4ae3df(0x1eb));try{const _0x3b00dd=await _0x4ad963[_0x4ae3df(0x1e9)](fetch,settings[_0x4ae3df(0x1ec)]+_0x4ae3df(0x1f5),{'method':_0x4ad963[_0x4ae3df(0x1fc)],'headers':{'Authorization':'Bearer\x20'+settings[_0x4ae3df(0x202)],'Content-Type':_0x4ad963['GuJlh']},'body':JSON[_0x4ae3df(0x21e)]({'model':settings[_0x4ae3df(0x1df)],'messages':[{'role':_0x4ae3df(0x210),'content':settings['systemPrompt']},{'role':_0x4ad963[_0x4ae3df(0x1e2)],'content':_0x355db8}],'max_tokens':_0x4ad963[_0x4ae3df(0x216)](parseInt,settings[_0x4ae3df(0x1ee)]),'temperature':_0x4ad963['MmPuC'](parseFloat,settings[_0x4ae3df(0x206)]),'top_p':parseFloat(settings[_0x4ae3df(0x1f6)]),'frequency_penalty':0.5,'seed':0x1,'response_format':{'type':_0x4ad963[_0x4ae3df(0x20a)]}})}),_0x400aa3=await _0x3b00dd[_0x4ae3df(0x225)]();_0x4ad963[_0x4ae3df(0x20f)](hideTypingIndicator);if(_0x400aa3[_0x4ae3df(0x221)]&&_0x4ad963[_0x4ae3df(0x1f1)](_0x400aa3[_0x4ae3df(0x221)]['length'],0x0)){const _0x3fe7f0=_0x400aa3[_0x4ae3df(0x221)][0x0][_0x4ae3df(0x1e0)][_0x4ae3df(0x1f4)];appendMessage(document[_0x4ae3df(0x214)](_0x4ad963[_0x4ae3df(0x1ef)]),_0x3fe7f0,'ai');let _0x477f98;try{_0x477f98=JSON['parse'](_0x3fe7f0),_0x4ad963[_0x4ae3df(0x216)](appendQuiz,_0x477f98);}catch(_0x3da078){_0x4ad963[_0x4ae3df(0x217)](appendMessage,document[_0x4ae3df(0x214)](_0x4ad963[_0x4ae3df(0x1ef)]),_0x4ad963[_0x4ae3df(0x1db)],'ai');}}}catch(_0x657b1b){appendMessage(document[_0x4ae3df(0x214)](_0x4ae3df(0x21c)),_0x4ad963[_0x4ae3df(0x223)](_0x4ae3df(0x1f9),_0x657b1b[_0x4ae3df(0x1e0)]),'ai');}finally{_0x4ad963[_0x4ae3df(0x1e5)](hideTypingIndicator);}}function speakMessage(_0x13c62c){const _0x103c30=_0x753c83,_0x33124b=new SpeechSynthesisUtterance(_0x13c62c);_0x33124b[_0x103c30(0x212)]=_0x103c30(0x220),window['speechSynthesis']['speak'](_0x33124b);}window[_0x753c83(0x1f2)]=loadSettings;