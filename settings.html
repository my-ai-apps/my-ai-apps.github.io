<!--
/*!
Copyright Â© 2024 Saisha Pandit. All Rights Reserved.
Unauthorized use, modification, or distribution is strictly prohibited.
*/
-->
<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Settings</title><link rel="stylesheet" href="./assets/css/common.css"><script type="module" src="./assets/js/common.js"></script><script src="./assets/js/components/header/header3-component.js"></script><style>.settings-container{max-width:400px;margin:50px auto;padding:20px;border-radius:8px;background:var(--bg-primary);box-shadow:0 4px 8px rgba(0,0,0,.1)}body.dark .settings-container{box-shadow:0 4px 8px rgba(255,255,255,.1)}.settings-container label{display:block;font-weight:700;margin-top:10px}.settings-container input,select,textarea{width:calc(100% - 20px);padding:10px;margin-top:5px;border:1px solid var(--border-color);border-radius:4px;font-size:16px;background:inherit;color:inherit;display:block;margin-left:auto;margin-right:auto}.settings-container button{width:100%;padding:10px;margin-top:20px;background:var(--primary-color);color:#fff;border:none;border-radius:4px;font-size:16px;cursor:pointer}.settings-container button:hover{background:var(--button-hover)}.settings-container select{width:calc(100% - 1px)}.settings-container select option{background:var(--bg-primary);color:var(--text-color)}.model-info{font-size:14px;color:var(--text-secondary);margin-top:5px}.download-progress{width:100%;height:20px;background-color:var(--bg-secondary);border-radius:4px;margin-top:10px;overflow:hidden;display:none}.progress-bar{height:100%;background-color:var(--primary-color);width:0%;transition:width .3s}.progress-text{text-align:center;font-size:12px;margin-top:5px}.settings-status-indicator{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:5px}.settings-status-ready{background-color:#4caf50}.settings-status-downloading{background-color:#ffc107}.settings-status-not-loaded{background-color:#f44336}.model-status{margin-top:10px;font-size:14px}.check-capability-btn{background:var(--accent-color);width:auto;padding:5px 10px;font-size:14px;margin-top:10px}.stats-section{background-color:#2c2c2c;padding:10px;margin-top:10px;border-radius:5px;display:none}</style></head><body><header3-component></header3-component><div class="settings-container"><h1>Chat Settings</h1><div><label for="theme-selector">Select Theme:</label> <select id="theme-selector"><option value="light">Light</option><option value="dark">Dark</option></select></div><div><label for="model-select">Select Model:</label> <select id="model-select"><option value="smollm2-135m-instruct">SmolLM2 135M Instruct (360MB)</option><option value="smollm2-360m-instruct">SmolLM2 360M Instruct (380MB)</option><option value="tinyllama-1.1b-chat-v0.4" selected="selected">TinyLlama 1.1B Chat (670MB)</option><option value="llama-3.2-1b-instruct">Llama 3.2 1B Instruct (880MB)</option><option value="qwen2.5-0.5b-instruct">Qwen2.5 0.5B Instruct (950MB)</option><option value="smollm2-1.7b-instruct">SmolLM2 1.7B Instruct (1.75GB)</option><option value="gemma-2b-it">Gemma 2B Instruct (1.4GB)</option><option value="qwen2.5-1.5b-instruct">Qwen2.5 1.5B Instruct (1.6GB)</option><option value="phi-3.5-mini-instruct">Phi 3.5 Mini Instruct (3.6GB)</option></select><div class="model-info" id="model-info">Download model and run locally using browser WebGPU.</div><button id="check-capability-btn" class="check-capability-btn">Check WebGPU Capability</button><div class="model-status">Status: <span class="settings-status-indicator settings-status-not-loaded" id="settings-status-indicator"></span> <span id="settings-status-text">Not Loaded</span></div><div class="download-progress" id="download-progress"><div class="progress-bar" id="progress-bar"></div></div><div class="progress-text" id="progress-text"></div></div><label for="temperature">Temperature:</label> <input type="number" id="temperature" step="0.1" min="0" max="1"> <label for="topK">Top-K:</label> <input type="number" id="topK" min="1"> <label for="topP">Top-P:</label> <input type="number" id="topP" step="0.1" min="0" max="1"> <label for="maxTokens">Max Output Tokens:</label> <input type="number" id="maxTokens" min="10" max="2048"> <button id="download-model" style="margin-top:10px;background:var(--accent-color)">Download Selected Model</button> <button id="saveSettings">Save Settings</button></div><script type="module">import{ChatUI}from"./assets/js/chatUI.js";document.addEventListener("DOMContentLoaded",(async()=>{const e=document.getElementById("model-select"),t=(document.getElementById("download-progress"),document.getElementById("progress-bar"),document.getElementById("progress-text"),document.getElementById("settings-status-indicator"),document.getElementById("settings-status-text"),document.getElementById("download-model"),document.getElementById("model-info")),n=(document.getElementById("check-capability-btn"),new ChatUI),o=document.getElementById("theme-selector"),s=localStorage.getItem("theme")||"light";document.body.className=s,o.value=s,document.getElementById("saveSettings").addEventListener("click",(()=>{const e=parseFloat(document.getElementById("temperature").value)||.6,t=parseInt(document.getElementById("topK").value)||5,n=parseFloat(document.getElementById("topP").value)||.9,o=parseInt(document.getElementById("maxTokens").value)||1024,s=document.getElementById("systemRole").value||"You are a helpful assistant2.";localStorage.setItem("sessionConfig",JSON.stringify({temperature:e,topK:t,topP:n,maxTokens:o,systemRole:s,selectedModel:selectedModel})),aiAdapter.sessionConfig={temperature:e,topK:t,topP:n,maxTokens:o,systemRole:s},alert("Settings saved!")})),document.getElementById("theme-selector").addEventListener("change",(function(){const e=this.value;localStorage.setItem("theme",e),document.body.className=e})),e.addEventListener("change",(function(){const o=this.value;n.selectedModel=o,n.modelLoaded=!1;const s=e.options[e.selectedIndex];t.innerHTML=`Model: ${s.text}`,checkModelStatus()}))}))</script><div class="stats-section"><div class="performance-stats"><div>Memory Usage: <span style="float:right" id="memory-usage">41.7 MB</span></div><div>of 4095.8 MB</div></div><div class="performance-stats"><div>Last Response Time: <span id="model-load-time" style="float:right">0 ms</span></div></div><div class="performance-stats"><div>Tokens per Second: <span style="float:right">0.0 tokens/s</span></div></div><div class="performance-stats"><div>Selected Model: <span style="float:right">smollm2-135m-instruct</span></div></div><div class="performance-stats"><div>Model Load Time: <span style="float:right">0.0 s</span></div></div><div class="performance-stats"><div>Peak Memory Usage: <span style="float:right">0.0 MB</span></div></div><div class="performance-stats"><div>Response Time History: <span style="float:right">0 ms</span></div></div><div class="performance-stats"><div>Processing Mode: <span style="float:right">Main Thread</span></div></div></div></body></html>